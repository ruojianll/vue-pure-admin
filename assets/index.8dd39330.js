var NO=Object.defineProperty,CO=Object.defineProperties;var RO=Object.getOwnPropertyDescriptors;var Vy=Object.getOwnPropertySymbols;var IO=Object.prototype.hasOwnProperty,LO=Object.prototype.propertyIsEnumerable;var Uy=(b,h,c)=>h in b?NO(b,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[h]=c,Yy=(b,h)=>{for(var c in h||(h={}))IO.call(h,c)&&Uy(b,c,h[c]);if(Vy)for(var c of Vy(h))LO.call(h,c)&&Uy(b,c,h[c]);return b},Wy=(b,h)=>CO(b,RO(h));import{b0 as Ov,_ as os,y as Ua,W as $y,L as ro,$ as wv,C as Rt,I as Ei,o as tr,p as oo,q as mr,F as xv,A as Ev,a8 as Ky,T as jv,H as To,S as Do,B as qy,a0 as Sv,V as Pv,G as zO,ap as BO,D as Qc,J as kv,a5 as FO,a6 as HO}from"./index.4a448694.js";import{u as XO}from"./hooks.8ead3459.js";import{r as GO}from"./vue.runtime.esm-bundler.71fb0946.js";const VO=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var UO={flowElementList:VO};var qe={exports:{}};(function(b,h){(function(c,p){b.exports=p()})(window,function(){return function(c){var p={};function i(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=c,i.c=p,i.d=function(f,s,y){i.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:y})},i.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},i.t=function(f,s){if(1&s&&(f=i(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var _ in f)i.d(y,_,function(O){return f[O]}.bind(null,_));return y},i.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return i.d(s,"a",s),s},i.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},i.p="",i(i.s=215)}([function(c,p,i){(function(f,s){i.d(p,"a",function(){return A}),i.d(p,"b",function(){return Uo}),i.d(p,"c",function(){return Sn}),i.d(p,"d",function(){return rt}),i.d(p,"e",function(){return Ue}),i.d(p,"f",function(){return Ne}),i.d(p,"g",function(){return Qe}),i.d(p,"h",function(){return Fr}),i.d(p,"i",function(){return It}),i.d(p,"j",function(){return We}),i.d(p,"k",function(){return Fn}),i.d(p,"l",function(){return Bo}),i.d(p,"m",function(){return kt}),i.d(p,"n",function(){return xr}),i.d(p,"o",function(){return R}),i.d(p,"p",function(){return Vi}),i.d(p,"q",function(){return Hn}),i.d(p,"r",function(){return Hi}),i.d(p,"s",function(){return wn}),i.d(p,"t",function(){return Cr}),i.d(p,"u",function(){return so}),i.d(p,"v",function(){return nu}),i.d(p,"w",function(){return Gi}),i.d(p,"x",function(){return Ir}),i.d(p,"y",function(){return ln}),i.d(p,"z",function(){return tn}),i.d(p,"A",function(){return yn}),i.d(p,"B",function(){return Xn}),i.d(p,"C",function(){return Ze}),i.d(p,"D",function(){return ru}),i.d(p,"E",function(){return wr}),i.d(p,"F",function(){return Or}),i.d(p,"G",function(){return Qa}),i.d(p,"H",function(){return Ni}),i.d(p,"I",function(){return Yi}),i.d(p,"J",function(){return mn}),i.d(p,"K",function(){return re}),i.d(p,"L",function(){return Gt}),i.d(p,"M",function(){return _n});var y=[];Object.freeze(y);var _={};function O(){return++Fe.mobxGuid}function x(v){throw j(!1,v),"X"}function j(v,g){if(!v)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(_);function P(v){var g=!1;return function(){if(!g)return g=!0,v.apply(this,arguments)}}var k=function(){};function N(v){return v!==null&&typeof v=="object"}function I(v){if(v===null||typeof v!="object")return!1;var g=Object.getPrototypeOf(v);return g===Object.prototype||g===null}function X(v,g,E){Object.defineProperty(v,g,{enumerable:!1,writable:!0,configurable:!0,value:E})}function V(v,g){var E="isMobX"+v;return g.prototype[E]=!0,function(D){return N(D)&&D[E]===!0}}function F(v){return v instanceof Map}function K(v){return v instanceof Set}function J(v){var g=new Set;for(var E in v)g.add(E);return Object.getOwnPropertySymbols(v).forEach(function(D){Object.getOwnPropertyDescriptor(v,D).enumerable&&g.add(D)}),Array.from(g)}function Y(v){return v&&v.toString?v.toString():new String(v).toString()}function C(v){return v===null?null:typeof v=="object"?""+v:v}var H=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,A=Symbol("mobx administration"),B=function(){function v(g){g===void 0&&(g="Atom@"+O()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ee.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.reportObserved=function(){return Bn(this)},v.prototype.reportChanged=function(){dn(),function(g){g.lowestObserverState!==ee.STALE&&(g.lowestObserverState=ee.STALE,g.observers.forEach(function(E){E.dependenciesState===ee.UP_TO_DATE&&(E.isTracing!==Xe.NONE&&_r(E,g),E.onBecomeStale()),E.dependenciesState=ee.STALE}))}(this),hn()},v.prototype.toString=function(){return this.name},v}(),G=V("Atom",B);function R(v,g,E){g===void 0&&(g=k),E===void 0&&(E=k);var D,M=new B(v);return g!==k&&Ii("onBecomeObserved",M,g,D),E!==k&&wr(M,E),M}var L={identity:function(v,g){return v===g},structural:function(v,g){return $o(v,g)},default:function(v,g){return Object.is(v,g)},shallow:function(v,g){return $o(v,g,1)}},$=function(v,g){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var M in D)D.hasOwnProperty(M)&&(E[M]=D[M])})(v,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ue=function(){return(ue=Object.assign||function(v){for(var g,E=1,D=arguments.length;E<D;E++)for(var M in g=arguments[E])Object.prototype.hasOwnProperty.call(g,M)&&(v[M]=g[M]);return v}).apply(this,arguments)};function fe(v){var g=typeof Symbol=="function"&&v[Symbol.iterator],E=0;return g?g.call(v):{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}}}function ge(v,g){var E=typeof Symbol=="function"&&v[Symbol.iterator];if(!E)return v;var D,M,W=E.call(v),ce=[];try{for(;(g===void 0||g-- >0)&&!(D=W.next()).done;)ce.push(D.value)}catch(xe){M={error:xe}}finally{try{D&&!D.done&&(E=W.return)&&E.call(W)}finally{if(M)throw M.error}}return ce}function ve(){for(var v=[],g=0;g<arguments.length;g++)v=v.concat(ge(arguments[g]));return v}var pe=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),le={},de={};function Ee(v,g){var E=g?le:de;return E[v]||(E[v]={configurable:!0,enumerable:g,get:function(){return Te(this),this[v]},set:function(D){Te(this),this[v]=D}})}function Te(v){var g,E;if(v[pe]!==!0){var D=v[se];if(D){X(v,pe,!0);var M=ve(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var W=fe(M),ce=W.next();!ce.done;ce=W.next()){var xe=D[ce.value];xe.propertyCreator(v,xe.prop,xe.descriptor,xe.decoratorTarget,xe.decoratorArguments)}}catch(ze){g={error:ze}}finally{try{ce&&!ce.done&&(E=W.return)&&E.call(W)}finally{if(g)throw g.error}}}}}function De(v,g){return function(){var E,D=function(M,W,ce,xe){if(xe===!0)return g(M,W,ce,M,E),null;if(!Object.prototype.hasOwnProperty.call(M,se)){var ze=M[se];X(M,se,ue({},ze))}return M[se][W]={prop:W,propertyCreator:g,descriptor:ce,decoratorTarget:M,decoratorArguments:E},Ee(W,v)};return ke(arguments)?(E=y,D.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),D)}}function ke(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function Ie(v,g,E){return Ir(v)?v:Array.isArray(v)?Ze.array(v,{name:E}):I(v)?Ze.object(v,void 0,{name:E}):F(v)?Ze.map(v,{name:E}):K(v)?Ze.set(v,{name:E}):v}function et(v){return v}function Q(v){j(v);var g=De(!0,function(D,M,W,ce,xe){var ze=W?W.initializer?W.initializer.call(D):W.value:void 0;Yo(D).addObservableProp(M,ze,v)}),E=(f!==void 0&&f.env,g);return E.enhancer=v,E}var Z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function oe(v){return v==null?Z:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(Z);var me=Q(Ie),Me=Q(function(v,g,E){return v==null||yn(v)||ln(v)||tn(v)||Kt(v)?v:Array.isArray(v)?Ze.array(v,{name:E,deep:!1}):I(v)?Ze.object(v,void 0,{name:E,deep:!1}):F(v)?Ze.map(v,{name:E,deep:!1}):K(v)?Ze.set(v,{name:E,deep:!1}):x(!1)}),we=Q(et),$e=Q(function(v,g,E){return $o(v,g)?g:v});function Ye(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?et:Ie}var tt={box:function(v,g){arguments.length>2&&_e("box");var E=oe(g);return new Qt(v,Ye(E),E.name,!0,E.equals)},array:function(v,g){arguments.length>2&&_e("array");var E=oe(g);return $i(v,Ye(E),E.name)},map:function(v,g){arguments.length>2&&_e("map");var E=oe(g);return new Uo(v,Ye(E),E.name)},set:function(v,g){arguments.length>2&&_e("set");var E=oe(g);return new ur(v,Ye(E),E.name)},object:function(v,g,E){typeof arguments[1]=="string"&&_e("object");var D=oe(E);if(D.proxy===!1)return Hn({},v,g,D);var M=Li(D),W=Hn({},void 0,void 0,D),ce=zr(W);return zi(ce,v,g,M),ce},ref:we,shallow:Me,deep:me,struct:$e},Ze=function(v,g,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return me.apply(null,arguments);if(Ir(v))return v;var D=I(v)?Ze.object(v,g,E):Array.isArray(v)?Ze.array(v,g):F(v)?Ze.map(v,g):K(v)?Ze.set(v,g):v;if(D!==v)return D;x(!1)};function _e(v){x("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys(tt).forEach(function(v){return Ze[v]=tt[v]});var ee,Xe,Ge=De(!1,function(v,g,E,D,M){var W=E.get,ce=E.set,xe=M[0]||{};Yo(v).addComputedProp(v,g,ue({get:W,set:ce,context:v},xe))}),Ke=Ge({equals:L.structural}),kt=function(v,g,E){if(typeof g=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return Ge.apply(null,arguments);var D=typeof g=="object"?g:{};return D.get=v,D.set=typeof g=="function"?g:D.set,D.name=D.name||v.name||"",new zn(D)};kt.struct=Ke,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}(ee||(ee={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(Xe||(Xe={}));var st=function(v){this.cause=v};function ft(v){return v instanceof st}function yt(v){switch(v.dependenciesState){case ee.UP_TO_DATE:return!1;case ee.NOT_TRACKING:case ee.STALE:return!0;case ee.POSSIBLY_STALE:for(var g=Ne(!0),E=Se(),D=v.observing,M=D.length,W=0;W<M;W++){var ce=D[W];if(or(ce)){if(Fe.disableErrorBoundaries)ce.get();else try{ce.get()}catch{return Ae(E),Ue(g),!0}if(v.dependenciesState===ee.STALE)return Ae(E),Ue(g),!0}}return gt(v),Ae(E),Ue(g),!1}}function It(){return Fe.trackingDerivation!==null}function U(v){var g=v.observers.size>0;Fe.computationDepth>0&&g&&x(!1),Fe.allowStateChanges||!g&&Fe.enforceActions!=="strict"||x(!1)}function ne(v,g,E){var D=Ne(!0);gt(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++Fe.runId;var M,W=Fe.trackingDerivation;if(Fe.trackingDerivation=v,Fe.disableErrorBoundaries===!0)M=g.call(E);else try{M=g.call(E)}catch(ce){M=new st(ce)}return Fe.trackingDerivation=W,function(ce){for(var xe=ce.observing,ze=ce.observing=ce.newObserving,ut=ee.UP_TO_DATE,ot=0,Et=ce.unboundDepsCount,bt=0;bt<Et;bt++)(vt=ze[bt]).diffValue===0&&(vt.diffValue=1,ot!==bt&&(ze[ot]=vt),ot++),vt.dependenciesState>ut&&(ut=vt.dependenciesState);for(ze.length=ot,ce.newObserving=null,Et=xe.length;Et--;)(vt=xe[Et]).diffValue===0&&Ti(vt,ce),vt.diffValue=0;for(;ot--;){var vt;(vt=ze[ot]).diffValue===1&&(vt.diffValue=0,Ka(vt,ce))}ut!==ee.UP_TO_DATE&&(ce.dependenciesState=ut,ce.onBecomeStale())}(v),Ue(D),M}function be(v){var g=v.observing;v.observing=[];for(var E=g.length;E--;)Ti(g[E],v);v.dependenciesState=ee.NOT_TRACKING}function re(v){var g=Se();try{return v()}finally{Ae(g)}}function Se(){var v=Fe.trackingDerivation;return Fe.trackingDerivation=null,v}function Ae(v){Fe.trackingDerivation=v}function Ne(v){var g=Fe.allowStateReads;return Fe.allowStateReads=v,g}function Ue(v){Fe.allowStateReads=v}function gt(v){if(v.dependenciesState!==ee.UP_TO_DATE){v.dependenciesState=ee.UP_TO_DATE;for(var g=v.observing,E=g.length;E--;)g[E].lowestObserverState=ee.UP_TO_DATE}}var wt=0,$t=1,Jt=Object.getOwnPropertyDescriptor(function(){},"name");Jt&&Jt.configurable;function lt(v,g,E){var D=function(){return Le(v,g,E||this,arguments)};return D.isMobxAction=!0,D}function Le(v,g,E,D){var M=We();try{return g.apply(E,D)}catch(W){throw M.error=W,W}finally{Qe(M)}}function We(v,g,E){var D=0,M=Se();dn();var W={prevDerivation:M,prevAllowStateChanges:xt(!0),prevAllowStateReads:Ne(!0),notifySpy:!1,startTime:D,actionId:$t++,parentActionId:wt};return wt=W.actionId,W}function Qe(v){wt!==v.actionId&&x("invalid action stack. did you forget to finish an action?"),wt=v.parentActionId,v.error!==void 0&&(Fe.suppressReactionErrors=!0),Mt(v.prevAllowStateChanges),Ue(v.prevAllowStateReads),hn(),Ae(v.prevDerivation),v.notifySpy,Fe.suppressReactionErrors=!1}function rt(v,g){var E,D=xt(v);try{E=g()}finally{Mt(D)}return E}function xt(v){var g=Fe.allowStateChanges;return Fe.allowStateChanges=v,g}function Mt(v){Fe.allowStateChanges=v}var Qt=function(v){function g(E,D,M,W,ce){M===void 0&&(M="ObservableValue@"+O()),ce===void 0&&(ce=L.default);var xe=v.call(this,M)||this;return xe.enhancer=D,xe.name=M,xe.equals=ce,xe.hasUnreportedChange=!1,xe.value=D(E,void 0,M),xe}return function(E,D){function M(){this.constructor=E}$(E,D),E.prototype=D===null?Object.create(D):(M.prototype=D.prototype,new M)}(g,v),g.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},g.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Fe.UNCHANGED&&this.setNewValue(E)},g.prototype.prepareNewValue=function(E){if(U(this),On(this)){var D=sn(this,{object:this,type:"update",newValue:E});if(!D)return Fe.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Fe.UNCHANGED:E},g.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),pt(this)&&en(this,{type:"update",object:this,newValue:E,oldValue:D})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(E){return Gn(this,E)},g.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Br(this,E)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return C(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(B),Io=V("ObservableValue",Qt),zn=function(){function v(g){this.dependenciesState=ee.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ee.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+O(),this.value=new st(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Xe.NONE,j(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+O(),g.set&&(this.setter=lt(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?L.structural:L.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return v.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===ee.UP_TO_DATE&&(g.lowestObserverState=ee.POSSIBLY_STALE,g.observers.forEach(function(E){E.dependenciesState===ee.UP_TO_DATE&&(E.dependenciesState=ee.POSSIBLY_STALE,E.isTracing!==Xe.NONE&&_r(E,g),E.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.get=function(){this.isComputing&&x("Cycle detected in computation "+this.name+": "+this.derivation),Fe.inBatch!==0||this.observers.size!==0||this.keepAlive?(Bn(this),yt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==ee.STALE&&(E.lowestObserverState=ee.STALE,E.observers.forEach(function(D){D.dependenciesState===ee.POSSIBLY_STALE?D.dependenciesState=ee.STALE:D.dependenciesState===ee.UP_TO_DATE&&(E.lowestObserverState=ee.UP_TO_DATE)}))}(this)):yt(this)&&(this.warnAboutUntrackedRead(),dn(),this.value=this.computeValue(!1),hn());var g=this.value;if(ft(g))throw g.cause;return g},v.prototype.peek=function(){var g=this.computeValue(!1);if(ft(g))throw g.cause;return g},v.prototype.set=function(g){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else j(!1,!1)},v.prototype.trackAndCompute=function(){var g=this.value,E=this.dependenciesState===ee.NOT_TRACKING,D=this.computeValue(!0),M=E||ft(g)||ft(D)||!this.equals(g,D);return M&&(this.value=D),M},v.prototype.computeValue=function(g){var E;if(this.isComputing=!0,Fe.computationDepth++,g)E=ne(this,this.derivation,this.scope);else if(Fe.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new st(D)}return Fe.computationDepth--,this.isComputing=!1,E},v.prototype.suspend=function(){this.keepAlive||(be(this),this.value=void 0)},v.prototype.observe=function(g,E){var D=this,M=!0,W=void 0;return Bo(function(){var ce=D.get();if(!M||E){var xe=Se();g({type:"update",object:D,newValue:ce,oldValue:W}),Ae(xe)}M=!1,W=ce})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return C(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),or=V("ComputedValue",zn),ao=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},$a={};function jn(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:$a}var uo=!0,Ai=!1,Fe=function(){var v=jn();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&(uo=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new ao().version&&(uo=!1),uo?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new ao):(setTimeout(function(){Ai||x("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ao)}();function Ka(v,g){v.observers.add(g),v.lowestObserverState>g.dependenciesState&&(v.lowestObserverState=g.dependenciesState)}function Ti(v,g){v.observers.delete(g),v.observers.size===0&&Di(v)}function Di(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,Fe.pendingUnobservations.push(v))}function dn(){Fe.inBatch++}function hn(){if(--Fe.inBatch==0){Mi();for(var v=Fe.pendingUnobservations,g=0;g<v.length;g++){var E=v[g];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof zn&&E.suspend())}Fe.pendingUnobservations=[]}}function Bn(v){var g=Fe.trackingDerivation;return g!==null?(g.runId!==v.lastAccessedBy&&(v.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&Fe.inBatch>0&&Di(v),!1)}function _r(v,g){if(console.log("[mobx.trace] '"+v.name+"' is invalidated due to a change in: '"+g.name+"'"),v.isTracing===Xe.BREAK){var E=[];(function D(M,W,ce){if(W.length>=1e3)return void W.push("(and many more)");W.push(""+new Array(ce).join("	")+M.name),M.dependencies&&M.dependencies.forEach(function(xe){return D(xe,W,ce+1)})})(Cr(v),E,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof zn?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var Sn=function(){function v(g,E,D,M){g===void 0&&(g="Reaction@"+O()),M===void 0&&(M=!1),this.name=g,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=M,this.observing=[],this.newObserving=[],this.dependenciesState=ee.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+O(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Xe.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Fe.pendingReactions.push(this),Mi())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(dn(),this._isScheduled=!1,yt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}hn()}},v.prototype.track=function(g){if(!this.isDisposed){dn(),this._isRunning=!0;var E=ne(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&be(this),ft(E)&&this.reportExceptionInDerivation(E.cause),hn()}},v.prototype.reportExceptionInDerivation=function(g){var E=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Fe.disableErrorBoundaries)throw g;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Fe.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,g),Fe.globalReactionErrorHandlers.forEach(function(M){return M(g,E)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(dn(),be(this),hn()))},v.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[A]=this,g},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var E=[],D=0;D<arguments.length;D++)E[D]=arguments[D];var M=!1;typeof E[E.length-1]=="boolean"&&(M=E.pop());var W=Ho(E);if(!W)return x(!1);W.isTracing===Xe.NONE&&console.log("[mobx.trace] '"+W.name+"' tracing enabled"),W.isTracing=M?Xe.BREAK:Xe.LOG}(this,g)},v}(),Lo=function(v){return v()};function Mi(){Fe.inBatch>0||Fe.isRunningReactions||Lo(qa)}function qa(){Fe.isRunningReactions=!0;for(var v=Fe.pendingReactions,g=0;v.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+v[0]),v.splice(0));for(var E=v.splice(0),D=0,M=E.length;D<M;D++)E[D].runReaction()}Fe.isRunningReactions=!1}var co=V("Reaction",Sn);function Za(v){var g=Lo;Lo=function(E){return v(function(){return g(E)})}}function Ni(v){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ja(){x(!1)}function ir(v){return function(g,E,D){if(D){if(D.value)return{value:lt(v,D.value),enumerable:!1,configurable:!0,writable:!0};var M=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return lt(v,M.call(this))}}}return Ci(v).apply(this,arguments)}}function Ci(v){return function(g,E,D){Object.defineProperty(g,E,{configurable:!0,enumerable:!1,get:function(){},set:function(M){X(this,E,Fn(v,M))}})}}var Fn=function(v,g,E,D){return arguments.length===1&&typeof v=="function"?lt(v.name||"<unnamed action>",v):arguments.length===2&&typeof g=="function"?lt(v,g):arguments.length===1&&typeof v=="string"?ir(v):D!==!0?ir(g).apply(null,arguments):void X(v,g,lt(v.name||g,E.value,this))};function Qa(v,g){return Le(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:g,this,void 0)}function so(v){return typeof v=="function"&&v.isMobxAction===!0}function zo(v,g,E){X(v,g,lt(g,E.bind(v)))}function Bo(v,g){g===void 0&&(g=_);var E,D=g&&g.name||v.name||"Autorun@"+O();if(!g.scheduler&&!g.delay)E=new Sn(D,function(){this.track(ce)},g.onError,g.requiresObservable);else{var M=Ri(g),W=!1;E=new Sn(D,function(){W||(W=!0,M(function(){W=!1,E.isDisposed||E.track(ce)}))},g.onError,g.requiresObservable)}function ce(){v(E)}return E.schedule(),E.getDisposer()}Fn.bound=function(v,g,E,D){return D===!0?(zo(v,g,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return zo(this,g,E.value||E.initializer.call(this)),this[g]},set:Ja}:{enumerable:!1,configurable:!0,set:function(M){zo(this,g,M)},get:function(){}}};var eu=function(v){return v()};function Ri(v){return v.scheduler?v.scheduler:v.delay?function(g){return setTimeout(g,v.delay)}:eu}function Or(v,g,E){E===void 0&&(E=_);var D,M,W,ce=E.name||"Reaction@"+O(),xe=Fn(ce,E.onError?(D=E.onError,M=g,function(){try{return M.apply(this,arguments)}catch(jt){D.call(this,jt)}}):g),ze=!E.scheduler&&!E.delay,ut=Ri(E),ot=!0,Et=!1,bt=E.compareStructural?L.structural:E.equals||L.default,vt=new Sn(ce,function(){ot||ze?Pt():Et||(Et=!0,ut(Pt))},E.onError,E.requiresObservable);function Pt(){if(Et=!1,!vt.isDisposed){var jt=!1;vt.track(function(){var mt=v(vt);jt=ot||!bt(W,mt),W=mt}),ot&&E.fireImmediately&&xe(W,vt),ot||jt!==!0||xe(W,vt),ot&&(ot=!1)}}return vt.schedule(),vt.getDisposer()}function wr(v,g,E){return Ii("onBecomeUnobserved",v,g,E)}function Ii(v,g,E,D){var M=typeof D=="function"?wn(g,E):wn(g),W=typeof D=="function"?D:E,ce=v+"Listeners";return M[ce]?M[ce].add(W):M[ce]=new Set([W]),typeof M[v]!="function"?x(!1):function(){var xe=M[ce];xe&&(xe.delete(W),xe.size===0&&delete M[ce])}}function xr(v){var g=v.enforceActions,E=v.computedRequiresReaction,D=v.computedConfigurable,M=v.disableErrorBoundaries,W=v.reactionScheduler,ce=v.reactionRequiresObservable,xe=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((Fe.pendingReactions.length||Fe.inBatch||Fe.isRunningReactions)&&x("isolateGlobalState should be called before MobX is running any reactions"),Ai=!0,uo&&(--jn().__mobxInstanceCount==0&&(jn().__mobxGlobals=void 0),Fe=new ao)),g!==void 0){var ze=void 0;switch(g){case!0:case"observed":ze=!0;break;case!1:case"never":ze=!1;break;case"strict":case"always":ze="strict";break;default:x("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Fe.enforceActions=ze,Fe.allowStateChanges=ze!==!0&&ze!=="strict"}E!==void 0&&(Fe.computedRequiresReaction=!!E),ce!==void 0&&(Fe.reactionRequiresObservable=!!ce),xe!==void 0&&(Fe.observableRequiresReaction=!!xe,Fe.allowStateReads=!Fe.observableRequiresReaction),D!==void 0&&(Fe.computedConfigurable=!!D),M!==void 0&&(M===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Fe.disableErrorBoundaries=!!M),W&&Za(W)}function Hn(v,g,E,D){var M=Li(D=oe(D));return Te(v),Yo(v,D.name,M.enhancer),g&&zi(v,g,E,M),v}function Li(v){return v.defaultDecorator||(v.deep===!1?we:me)}function zi(v,g,E,D){var M,W;dn();try{var ce=H(g);try{for(var xe=fe(ce),ze=xe.next();!ze.done;ze=xe.next()){var ut=ze.value,ot=Object.getOwnPropertyDescriptor(g,ut),Et=(E&&ut in E?E[ut]:ot.get?Ge:D)(v,ut,ot,!0);Et&&Object.defineProperty(v,ut,Et)}}catch(bt){M={error:bt}}finally{try{ze&&!ze.done&&(W=xe.return)&&W.call(xe)}finally{if(M)throw M.error}}}finally{hn()}}function Cr(v,g){return Bi(wn(v,g))}function Bi(v){var g,E,D={name:v.name};return v.observing&&v.observing.length>0&&(D.dependencies=(g=v.observing,E=[],g.forEach(function(M){E.indexOf(M)===-1&&E.push(M)}),E).map(Bi)),D}var tu=0;function Fi(){this.message="FLOW_CANCELLED"}function Hi(v){arguments.length!==1&&x("Flow expects 1 argument and cannot be used as decorator");var g=v.name||"<unnamed flow>";return function(){var E,D=this,M=arguments,W=++tu,ce=Fn(g+" - runid: "+W+" - init",v).apply(D,M),xe=void 0,ze=new Promise(function(ut,ot){var Et=0;function bt(jt){var mt;xe=void 0;try{mt=Fn(g+" - runid: "+W+" - yield "+Et++,ce.next).call(ce,jt)}catch(kn){return ot(kn)}Pt(mt)}function vt(jt){var mt;xe=void 0;try{mt=Fn(g+" - runid: "+W+" - yield "+Et++,ce.throw).call(ce,jt)}catch(kn){return ot(kn)}Pt(mt)}function Pt(jt){if(!jt||typeof jt.then!="function")return jt.done?ut(jt.value):(xe=Promise.resolve(jt.value)).then(bt,vt);jt.then(Pt,ot)}E=ot,bt(void 0)});return ze.cancel=Fn(g+" - runid: "+W+" - cancel",function(){try{xe&&Rr(xe);var ut=ce.return(void 0),ot=Promise.resolve(ut.value);ot.then(k,k),Rr(ot),E(new Fi)}catch(Et){E(Et)}}),ze}}function Rr(v){typeof v.cancel=="function"&&v.cancel()}function Xi(v,g){if(v==null)return!1;if(g!==void 0){if(yn(v)===!1||!v[A].values.has(g))return!1;var E=wn(v,g);return or(E)}return or(v)}function nu(v){return arguments.length>1?x(!1):Xi(v)}function Gi(v,g){return typeof g!="string"?x(!1):Xi(v,g)}function Fo(v,g){return v!=null&&(g!==void 0?!!yn(v)&&v[A].values.has(g):yn(v)||!!v[A]||G(v)||co(v)||or(v))}function Ir(v){return arguments.length!==1&&x(!1),Fo(v)}function Xn(v){return yn(v)?v[A].getKeys():tn(v)||Kt(v)?Array.from(v.keys()):ln(v)?v.map(function(g,E){return E}):x(!1)}function Gt(v){return yn(v)?Xn(v).map(function(g){return v[g]}):tn(v)?Xn(v).map(function(g){return v.get(g)}):Kt(v)?Array.from(v.values()):ln(v)?v.slice():x(!1)}function Vi(v){return yn(v)?Xn(v).map(function(g){return[g,v[g]]}):tn(v)?Xn(v).map(function(g){return[g,v.get(g)]}):Kt(v)?Array.from(v.entries()):ln(v)?v.map(function(g,E){return[E,g]}):x(!1)}function ru(v,g,E,D){return typeof E=="function"?function(M,W,ce,xe){return Fr(M,W).observe(ce,xe)}(v,g,E,D):function(M,W,ce){return Fr(M).observe(W,ce)}(v,g,E)}Fi.prototype=Object.create(Error.prototype);var Ui={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Er(v,g,E,D){return D.detectCycles&&v.set(g,E),E}function Yi(v,g){var E;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Ui),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(E=new Map),function D(M,W,ce){if(!W.recurseEverything&&!Ir(M)||typeof M!="object")return M;if(M===null)return null;if(M instanceof Date)return M;if(Io(M))return D(M.get(),W,ce);if(Ir(M)&&Xn(M),W.detectCycles===!0&&M!==null&&ce.has(M))return ce.get(M);if(ln(M)||Array.isArray(M)){var xe=Er(ce,M,[],W),ze=M.map(function(mt){return D(mt,W,ce)});xe.length=ze.length;for(var ut=0,ot=ze.length;ut<ot;ut++)xe[ut]=ze[ut];return xe}if(Kt(M)||Object.getPrototypeOf(M)===Set.prototype){if(W.exportMapsAsObjects===!1){var Et=Er(ce,M,new Set,W);return M.forEach(function(mt){Et.add(D(mt,W,ce))}),Et}var bt=Er(ce,M,[],W);return M.forEach(function(mt){bt.push(D(mt,W,ce))}),bt}if(tn(M)||Object.getPrototypeOf(M)===Map.prototype){if(W.exportMapsAsObjects===!1){var vt=Er(ce,M,new Map,W);return M.forEach(function(mt,kn){vt.set(kn,D(mt,W,ce))}),vt}var Pt=Er(ce,M,{},W);return M.forEach(function(mt,kn){Pt[kn]=D(mt,W,ce)}),Pt}var jt=Er(ce,M,{},W);return J(M).forEach(function(mt){jt[mt]=D(M[mt],W,ce)}),jt}(v,g,E)}function Ho(v){switch(v.length){case 0:return Fe.trackingDerivation;case 1:return wn(v[0]);case 2:return wn(v[0],v[1])}}function mn(v,g){g===void 0&&(g=void 0),dn();try{return v.apply(g)}finally{hn()}}function _n(v,g,E){return arguments.length===1||g&&typeof g=="object"?Wi(v,g):Xo(v,g,E||{})}function Xo(v,g,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!W[A].isDisposed){W();var ce=new Error("WHEN_TIMEOUT");if(!E.onError)throw ce;E.onError(ce)}},E.timeout)),E.name=E.name||"When@"+O();var M=lt(E.name+"-effect",g),W=Bo(function(ce){v()&&(ce.dispose(),D&&clearTimeout(D),M())},E);return W}function Wi(v,g){var E,D=new Promise(function(M,W){var ce=Xo(v,M,ue(ue({},g),{onError:W}));E=function(){ce(),W("WHEN_CANCELLED")}});return D.cancel=E,D}function lo(v){return v[A]}function fo(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var Lr={has:function(v,g){if(g===A||g==="constructor"||g===pe)return!0;var E=lo(v);return fo(g)?E.has(g):g in v},get:function(v,g){if(g===A||g==="constructor"||g===pe)return v[g];var E=lo(v),D=E.values.get(g);if(D instanceof B){var M=D.get();return M===void 0&&E.has(g),M}return fo(g)&&E.has(g),v[g]},set:function(v,g,E){return!!fo(g)&&(function D(M,W,ce){if(arguments.length!==2||Kt(M))if(yn(M)){var xe=M[A],ze=xe.values.get(W);ze?xe.write(W,ce):xe.addObservableProp(W,ce,xe.defaultEnhancer)}else if(tn(M))M.set(W,ce);else if(Kt(M))M.add(W);else{if(!ln(M))return x(!1);typeof W!="number"&&(W=parseInt(W,10)),j(W>=0,"Not a valid index: '"+W+"'"),dn(),W>=M.length&&(M.length=W+1),M[W]=ce,hn()}else{dn();var ut=W;try{for(var ot in ut)D(M,ot,ut[ot])}finally{hn()}}}(v,g,E),!0)},deleteProperty:function(v,g){return!!fo(g)&&(lo(v).remove(g),!0)},ownKeys:function(v){return lo(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return x("Dynamic observable objects cannot be frozen"),!1}};function zr(v){var g=new Proxy(v,Lr);return v[A].proxy=g,g}function On(v){return v.interceptors!==void 0&&v.interceptors.length>0}function Gn(v,g){var E=v.interceptors||(v.interceptors=[]);return E.push(g),P(function(){var D=E.indexOf(g);D!==-1&&E.splice(D,1)})}function sn(v,g){var E=Se();try{for(var D=ve(v.interceptors||[]),M=0,W=D.length;M<W&&(j(!(g=D[M](g))||g.type,"Intercept handlers should return nothing or a change object"),g);M++);return g}finally{Ae(E)}}function pt(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function Br(v,g){var E=v.changeListeners||(v.changeListeners=[]);return E.push(g),P(function(){var D=E.indexOf(g);D!==-1&&E.splice(D,1)})}function en(v,g){var E=Se(),D=v.changeListeners;if(D){for(var M=0,W=(D=D.slice()).length;M<W;M++)D[M](g);Ae(E)}}var jr={get:function(v,g){return g===A?v[A]:g==="length"?v[A].getArrayLength():typeof g=="number"?Pn.get.call(v,g):typeof g!="string"||isNaN(g)?Pn.hasOwnProperty(g)?Pn[g]:v[g]:Pn.get.call(v,parseInt(g))},set:function(v,g,E){return g==="length"&&v[A].setArrayLength(E),typeof g=="number"&&Pn.set.call(v,g,E),typeof g=="symbol"||isNaN(g)?v[g]=E:Pn.set.call(v,parseInt(g),E),!0},preventExtensions:function(v){return x("Observable arrays cannot be frozen"),!1}};function $i(v,g,E,D){E===void 0&&(E="ObservableArray@"+O()),D===void 0&&(D=!1);var M,W,ce,xe=new po(E,g,D);M=xe.values,W=A,ce=xe,Object.defineProperty(M,W,{enumerable:!1,writable:!1,configurable:!0,value:ce});var ze=new Proxy(xe.values,jr);if(xe.proxy=ze,v&&v.length){var ut=xt(!0);xe.spliceWithArray(0,0,v),Mt(ut)}return ze}var po=function(){function v(g,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(g||"ObservableArray@"+O()),this.enhancer=function(M,W){return E(M,W,g+"[..]")}}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},v.prototype.intercept=function(g){return Gn(this,g)},v.prototype.observe=function(g,E){return E===void 0&&(E=!1),E&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Br(this,g)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var E=this.values.length;if(g!==E)if(g>E){for(var D=new Array(g-E),M=0;M<g-E;M++)D[M]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(g,E-g)},v.prototype.updateArrayLength=function(g,E){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},v.prototype.spliceWithArray=function(g,E,D){var M=this;U(this.atom);var W=this.values.length;if(g===void 0?g=0:g>W?g=W:g<0&&(g=Math.max(0,W+g)),E=arguments.length===1?W-g:E==null?0:Math.max(0,Math.min(E,W-g)),D===void 0&&(D=y),On(this)){var ce=sn(this,{object:this.proxy,type:"splice",index:g,removedCount:E,added:D});if(!ce)return y;E=ce.removedCount,D=ce.added}D=D.length===0?D:D.map(function(ze){return M.enhancer(ze,void 0)});var xe=this.spliceItemsIntoValues(g,E,D);return E===0&&D.length===0||this.notifyArraySplice(g,D,xe),this.dehanceValues(xe)},v.prototype.spliceItemsIntoValues=function(g,E,D){var M;if(D.length<1e4)return(M=this.values).splice.apply(M,ve([g,E],D));var W=this.values.slice(g,g+E);return this.values=this.values.slice(0,g).concat(D,this.values.slice(g+E)),W},v.prototype.notifyArrayChildUpdate=function(g,E,D){var M=!this.owned&&!1,W=pt(this),ce=W||M?{object:this.proxy,type:"update",index:g,newValue:E,oldValue:D}:null;this.atom.reportChanged(),W&&en(this,ce)},v.prototype.notifyArraySplice=function(g,E,D){var M=!this.owned&&!1,W=pt(this),ce=W||M?{object:this.proxy,type:"splice",index:g,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),W&&en(this,ce)},v}(),Pn={intercept:function(v){return this[A].intercept(v)},observe:function(v,g){return g===void 0&&(g=!1),this[A].observe(v,g)},clear:function(){return this.splice(0)},replace:function(v){var g=this[A];return g.spliceWithArray(0,g.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,g){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var M=this[A];switch(arguments.length){case 0:return[];case 1:return M.spliceWithArray(v);case 2:return M.spliceWithArray(v,g)}return M.spliceWithArray(v,g,E)},spliceWithArray:function(v,g,E){return this[A].spliceWithArray(v,g,E)},push:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[A];return E.spliceWithArray(E.values.length,0,v),E.values.length},pop:function(){return this.splice(Math.max(this[A].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[A];return E.spliceWithArray(0,0,v),E.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(v){var g=this[A],E=g.dehanceValues(g.values).indexOf(v);return E>-1&&(this.splice(E,1),!0)},get:function(v){var g=this[A];if(g){if(v<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[v]);console.warn("[mobx.array] Attempt to read an array index ("+v+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(v,g){var E=this[A],D=E.values;if(v<D.length){U(E.atom);var M=D[v];if(On(E)){var W=sn(E,{type:"update",object:E.proxy,index:v,newValue:g});if(!W)return;g=W.newValue}(g=E.enhancer(g,M))!==M&&(D[v]=g,E.notifyArrayChildUpdate(v,g,M))}else{if(v!==D.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+D.length);E.spliceWithArray(v,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Pn[v]=function(){var g=this[A];g.atom.reportObserved();var E=g.dehanceValues(g.values);return E[v].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Pn[v]=function(g,E){var D=this,M=this[A];return M.atom.reportObserved(),M.dehanceValues(M.values)[v](function(W,ce){return g.call(E,W,ce,D)},E)})}),["reduce","reduceRight"].forEach(function(v){Pn[v]=function(){var g=this,E=this[A];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(M,W,ce){return W=E.dehanceValue(W),D(M,W,ce,g)},E.values[v].apply(E.values,arguments)}});var Go,ou=V("ObservableArrayAdministration",po);function ln(v){return N(v)&&ou(v[A])}var Vo,iu={},Uo=function(){function v(g,E,D){if(E===void 0&&(E=Ie),D===void 0&&(D="ObservableMap@"+O()),this.enhancer=E,this.name=D,this[Go]=iu,this._keysAtom=R(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return v.prototype._has=function(g){return this._data.has(g)},v.prototype.has=function(g){var E=this;if(!Fe.trackingDerivation)return this._has(g);var D=this._hasMap.get(g);if(!D){var M=D=new Qt(this._has(g),et,this.name+"."+Y(g)+"?",!1);this._hasMap.set(g,M),wr(M,function(){return E._hasMap.delete(g)})}return D.get()},v.prototype.set=function(g,E){var D=this._has(g);if(On(this)){var M=sn(this,{type:D?"update":"add",object:this,newValue:E,name:g});if(!M)return this;E=M.newValue}return D?this._updateValue(g,E):this._addValue(g,E),this},v.prototype.delete=function(g){var E=this;if(U(this._keysAtom),On(this)&&!(M=sn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var D=pt(this),M=D?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return mn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(g,!1),E._data.get(g).setNewValue(void 0),E._data.delete(g)}),D&&en(this,M),!0}return!1},v.prototype._updateHasMapEntry=function(g,E){var D=this._hasMap.get(g);D&&D.setNewValue(E)},v.prototype._updateValue=function(g,E){var D=this._data.get(g);if((E=D.prepareNewValue(E))!==Fe.UNCHANGED){var M=pt(this),W=M?{type:"update",object:this,oldValue:D.value,name:g,newValue:E}:null;D.setNewValue(E),M&&en(this,W)}},v.prototype._addValue=function(g,E){var D=this;U(this._keysAtom),mn(function(){var ce=new Qt(E,D.enhancer,D.name+"."+Y(g),!1);D._data.set(g,ce),E=ce.value,D._updateHasMapEntry(g,!0),D._keysAtom.reportChanged()});var M=pt(this),W=M?{type:"add",object:this,name:g,newValue:E}:null;M&&en(this,W)},v.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var g=this,E=this.keys();return Xr({next:function(){var D=E.next(),M=D.done,W=D.value;return{done:M,value:M?void 0:g.get(W)}}})},v.prototype.entries=function(){var g=this,E=this.keys();return Xr({next:function(){var D=E.next(),M=D.done,W=D.value;return{done:M,value:M?void 0:[W,g.get(W)]}}})},v.prototype[Go=A,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(g,E){var D,M;try{for(var W=fe(this),ce=W.next();!ce.done;ce=W.next()){var xe=ge(ce.value,2),ze=xe[0],ut=xe[1];g.call(E,ut,ze,this)}}catch(ot){D={error:ot}}finally{try{ce&&!ce.done&&(M=W.return)&&M.call(W)}finally{if(D)throw D.error}}},v.prototype.merge=function(g){var E=this;return tn(g)&&(g=g.toJS()),mn(function(){var D=xt(!0);try{I(g)?J(g).forEach(function(M){return E.set(M,g[M])}):Array.isArray(g)?g.forEach(function(M){var W=ge(M,2),ce=W[0],xe=W[1];return E.set(ce,xe)}):F(g)?(g.constructor!==Map&&x("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(M,W){return E.set(W,M)})):g!=null&&x("Cannot initialize map from "+g)}finally{Mt(D)}}),this},v.prototype.clear=function(){var g=this;mn(function(){re(function(){var E,D;try{for(var M=fe(g.keys()),W=M.next();!W.done;W=M.next()){var ce=W.value;g.delete(ce)}}catch(xe){E={error:xe}}finally{try{W&&!W.done&&(D=M.return)&&D.call(M)}finally{if(E)throw E.error}}})})},v.prototype.replace=function(g){var E=this;return mn(function(){var D,M,W,ce,xe=function(nn){if(F(nn)||tn(nn))return nn;if(Array.isArray(nn))return new Map(nn);if(I(nn)){var Zi=new Map;for(var qo in nn)Zi.set(qo,nn[qo]);return Zi}return x("Cannot convert to map from '"+nn+"'")}(g),ze=new Map,ut=!1;try{for(var ot=fe(E._data.keys()),Et=ot.next();!Et.done;Et=ot.next()){var bt=Et.value;if(!xe.has(bt))if(E.delete(bt))ut=!0;else{var vt=E._data.get(bt);ze.set(bt,vt)}}}catch(nn){D={error:nn}}finally{try{Et&&!Et.done&&(M=ot.return)&&M.call(ot)}finally{if(D)throw D.error}}try{for(var Pt=fe(xe.entries()),jt=Pt.next();!jt.done;jt=Pt.next()){var mt=ge(jt.value,2),kn=(bt=mt[0],vt=mt[1],E._data.has(bt));if(E.set(bt,vt),E._data.has(bt)){var uu=E._data.get(bt);ze.set(bt,uu),kn||(ut=!0)}}}catch(nn){W={error:nn}}finally{try{jt&&!jt.done&&(ce=Pt.return)&&ce.call(Pt)}finally{if(W)throw W.error}}if(!ut)if(E._data.size!==ze.size)E._keysAtom.reportChanged();else for(var Gr=E._data.keys(),Sr=ze.keys(),Vr=Gr.next(),Ko=Sr.next();!Vr.done;){if(Vr.value!==Ko.value){E._keysAtom.reportChanged();break}Vr=Gr.next(),Ko=Sr.next()}E._data=ze}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var g,E,D={};try{for(var M=fe(this),W=M.next();!W.done;W=M.next()){var ce=ge(W.value,2),xe=ce[0],ze=ce[1];D[typeof xe=="symbol"?xe:Y(xe)]=ze}}catch(ut){g={error:ut}}finally{try{W&&!W.done&&(E=M.return)&&E.call(M)}finally{if(g)throw g.error}}return D},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return Y(E)+": "+g.get(E)}).join(", ")+" }]"},v.prototype.observe=function(g,E){return Br(this,g)},v.prototype.intercept=function(g){return Gn(this,g)},v}(),tn=V("ObservableMap",Uo),ar={},ur=function(){function v(g,E,D){if(E===void 0&&(E=Ie),D===void 0&&(D="ObservableSet@"+O()),this.name=D,this[Vo]=ar,this._data=new Set,this._atom=R(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(M,W){return E(M,W,D)},g&&this.replace(g)}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.clear=function(){var g=this;mn(function(){re(function(){var E,D;try{for(var M=fe(g._data.values()),W=M.next();!W.done;W=M.next()){var ce=W.value;g.delete(ce)}}catch(xe){E={error:xe}}finally{try{W&&!W.done&&(D=M.return)&&D.call(M)}finally{if(E)throw E.error}}})})},v.prototype.forEach=function(g,E){var D,M;try{for(var W=fe(this),ce=W.next();!ce.done;ce=W.next()){var xe=ce.value;g.call(E,xe,xe,this)}}catch(ze){D={error:ze}}finally{try{ce&&!ce.done&&(M=W.return)&&M.call(W)}finally{if(D)throw D.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(g){var E=this;if(U(this._atom),On(this)&&!(M=sn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){mn(function(){E._data.add(E.enhancer(g,void 0)),E._atom.reportChanged()});var D=pt(this),M=D?{type:"add",object:this,newValue:g}:null;D&&en(this,M)}return this},v.prototype.delete=function(g){var E=this;if(On(this)&&!(M=sn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var D=pt(this),M=D?{type:"delete",object:this,oldValue:g}:null;return mn(function(){E._atom.reportChanged(),E._data.delete(g)}),D&&en(this,M),!0}return!1},v.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},v.prototype.entries=function(){var g=0,E=Array.from(this.keys()),D=Array.from(this.values());return Xr({next:function(){var M=g;return g+=1,M<D.length?{value:[E[M],D[M]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var g=this,E=0,D=Array.from(this._data.values());return Xr({next:function(){return E<D.length?{value:g.dehanceValue(D[E++]),done:!1}:{done:!0}}})},v.prototype.replace=function(g){var E=this;return Kt(g)&&(g=g.toJS()),mn(function(){var D=xt(!0);try{Array.isArray(g)||K(g)?(E.clear(),g.forEach(function(M){return E.add(M)})):g!=null&&x("Cannot initialize set from "+g)}finally{Mt(D)}}),this},v.prototype.observe=function(g,E){return Br(this,g)},v.prototype.intercept=function(g){return Gn(this,g)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[Vo=A,Symbol.iterator]=function(){return this.values()},v}(),Kt=V("ObservableSet",ur),Ki=function(){function v(g,E,D,M){E===void 0&&(E=new Map),this.target=g,this.values=E,this.name=D,this.defaultEnhancer=M,this.keysAtom=new B(D+".keys")}return v.prototype.read=function(g){return this.values.get(g).get()},v.prototype.write=function(g,E){var D=this.target,M=this.values.get(g);if(M instanceof zn)M.set(E);else{if(On(this)){if(!(ce=sn(this,{type:"update",object:this.proxy||D,name:g,newValue:E})))return;E=ce.newValue}if((E=M.prepareNewValue(E))!==Fe.UNCHANGED){var W=pt(this),ce=W?{type:"update",object:this.proxy||D,oldValue:M.value,name:g,newValue:E}:null;M.setNewValue(E),W&&en(this,ce)}}},v.prototype.has=function(g){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(g);if(D)return D.get();var M=!!this.values.get(g);return D=new Qt(M,et,this.name+"."+Y(g)+"?",!1),E.set(g,D),D.get()},v.prototype.addObservableProp=function(g,E,D){D===void 0&&(D=this.defaultEnhancer);var M=this.target;if(On(this)){var W=sn(this,{object:this.proxy||M,name:g,type:"add",newValue:E});if(!W)return;E=W.newValue}var ce=new Qt(E,D,this.name+"."+Y(g),!1);this.values.set(g,ce),E=ce.value,Object.defineProperty(M,g,function(xe){return ho[xe]||(ho[xe]={configurable:!0,enumerable:!0,get:function(){return this[A].read(xe)},set:function(ze){this[A].write(xe,ze)}})}(g)),this.notifyPropertyAddition(g,E)},v.prototype.addComputedProp=function(g,E,D){var M,W,ce,xe=this.target;D.name=D.name||this.name+"."+Y(E),this.values.set(E,new zn(D)),(g===xe||(M=g,W=E,!(ce=Object.getOwnPropertyDescriptor(M,W))||ce.configurable!==!1&&ce.writable!==!1))&&Object.defineProperty(g,E,function(ze){return yo[ze]||(yo[ze]={configurable:Fe.computedConfigurable,enumerable:!1,get:function(){return vo(this).read(ze)},set:function(ut){vo(this).write(ze,ut)}})}(E))},v.prototype.remove=function(g){if(this.values.has(g)){var E=this.target;if(On(this)&&!(xe=sn(this,{object:this.proxy||E,name:g,type:"remove"})))return;try{dn();var D=pt(this),M=this.values.get(g),W=M&&M.get();if(M&&M.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var ce=this.pendingKeys.get(g);ce&&ce.set(!1)}delete this.target[g];var xe=D?{type:"remove",object:this.proxy||E,oldValue:W,name:g}:null;D&&en(this,xe)}finally{hn()}}},v.prototype.illegalAccess=function(g,E){console.warn("Property '"+E+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},v.prototype.observe=function(g,E){return Br(this,g)},v.prototype.intercept=function(g){return Gn(this,g)},v.prototype.notifyPropertyAddition=function(g,E){var D=pt(this),M=D?{type:"add",object:this.proxy||this.target,name:g,newValue:E}:null;if(D&&en(this,M),this.pendingKeys){var W=this.pendingKeys.get(g);W&&W.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var g,E;this.keysAtom.reportObserved();var D=[];try{for(var M=fe(this.values),W=M.next();!W.done;W=M.next()){var ce=ge(W.value,2),xe=ce[0];ce[1]instanceof Qt&&D.push(xe)}}catch(ze){g={error:ze}}finally{try{W&&!W.done&&(E=M.return)&&E.call(M)}finally{if(g)throw g.error}}return D},v}();function Yo(v,g,E){if(g===void 0&&(g=""),E===void 0&&(E=Ie),Object.prototype.hasOwnProperty.call(v,A))return v[A];I(v)||(g=(v.constructor.name||"ObservableObject")+"@"+O()),g||(g="ObservableObject@"+O());var D=new Ki(v,new Map,Y(g),E);return X(v,A,D),D}var ho=Object.create(null),yo=Object.create(null);function vo(v){var g=v[A];return g||(Te(v),v[A])}var Wo=V("ObservableObjectAdministration",Ki);function yn(v){return!!N(v)&&(Te(v),Wo(v[A]))}function wn(v,g){if(typeof v=="object"&&v!==null){if(ln(v))return g!==void 0&&x(!1),v[A].atom;if(Kt(v))return v[A];if(tn(v)){var E=v;return g===void 0?E._keysAtom:((D=E._data.get(g)||E._hasMap.get(g))||x(!1),D)}var D;if(Te(v),g&&!v[A]&&v[g],yn(v))return g?((D=v[A].values.get(g))||x(!1),D):x(!1);if(G(v)||or(v)||co(v))return v}else if(typeof v=="function"&&co(v[A]))return v[A];return x(!1)}function Fr(v,g){return v||x("Expecting some object"),g!==void 0?Fr(wn(v,g)):G(v)||or(v)||co(v)||tn(v)||Kt(v)?v:(Te(v),v[A]?v[A]:void x(!1))}var qi=Object.prototype.toString;function $o(v,g,E){return E===void 0&&(E=-1),function D(M,W,ce,xe,ze){if(M===W)return M!==0||1/M==1/W;if(M==null||W==null)return!1;if(M!=M)return W!=W;var ut=typeof M;if(ut!=="function"&&ut!=="object"&&typeof W!="object")return!1;var ot=qi.call(M);if(ot!==qi.call(W))return!1;switch(ot){case"[object RegExp]":case"[object String]":return""+M==""+W;case"[object Number]":return+M!=+M?+W!=+W:+M==0?1/+M==1/W:+M==+W;case"[object Date]":case"[object Boolean]":return+M==+W;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(M)===Symbol.valueOf.call(W);case"[object Map]":case"[object Set]":ce>=0&&ce++}M=Vn(M),W=Vn(W);var Et=ot==="[object Array]";if(!Et){if(typeof M!="object"||typeof W!="object")return!1;var bt=M.constructor,vt=W.constructor;if(bt!==vt&&!(typeof bt=="function"&&bt instanceof bt&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in M&&"constructor"in W)return!1}if(ce===0)return!1;ce<0&&(ce=-1),ze=ze||[];for(var Pt=(xe=xe||[]).length;Pt--;)if(xe[Pt]===M)return ze[Pt]===W;if(xe.push(M),ze.push(W),Et){if((Pt=M.length)!==W.length)return!1;for(;Pt--;)if(!D(M[Pt],W[Pt],ce-1,xe,ze))return!1}else{var jt=Object.keys(M),mt=void 0;if(Pt=jt.length,Object.keys(W).length!==Pt)return!1;for(;Pt--;)if(mt=jt[Pt],!Hr(W,mt)||!D(M[mt],W[mt],ce-1,xe,ze))return!1}return xe.pop(),ze.pop(),!0}(v,g,E)}function Vn(v){return ln(v)?v.slice():F(v)||tn(v)||K(v)||Kt(v)?Array.from(v.entries()):v}function Hr(v,g){return Object.prototype.hasOwnProperty.call(v,g)}function Xr(v){return v[Symbol.iterator]=au,v}function au(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ni,extras:{getDebugName:function(v,g){return(g!==void 0?wn(v,g):yn(v)||tn(v)||Kt(v)?Fr(v):wn(v)).name}},$mobx:A})}).call(this,i(155),i(82))},function(c,p,i){i.d(p,"a",function(){return Y}),i.d(p,"b",function(){return J}),i.d(p,"c",function(){return Ie}),i.d(p,"d",function(){return et}),i.d(p,"e",function(){return V}),i.d(p,"f",function(){return K}),i.d(p,"g",function(){return V}),i.d(p,"h",function(){return ke}),i.d(p,"i",function(){return s}),i.d(p,"j",function(){return De}),i.d(p,"k",function(){return L});var f,s,y,_,O,x,j,P={},k=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(Q,Z){for(var oe in Z)Q[oe]=Z[oe];return Q}function X(Q){var Z=Q.parentNode;Z&&Z.removeChild(Q)}function V(Q,Z,oe){var me,Me,we,$e={};for(we in Z)we=="key"?me=Z[we]:we=="ref"?Me=Z[we]:$e[we]=Z[we];if(arguments.length>2&&($e.children=arguments.length>3?f.call(arguments,2):oe),typeof Q=="function"&&Q.defaultProps!=null)for(we in Q.defaultProps)$e[we]===void 0&&($e[we]=Q.defaultProps[we]);return F(Q,$e,me,Me,null)}function F(Q,Z,oe,me,Me){var we={type:Q,props:Z,key:oe,ref:me,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Me==null?++y:Me};return Me==null&&s.vnode!=null&&s.vnode(we),we}function K(){return{current:null}}function J(Q){return Q.children}function Y(Q,Z){this.props=Q,this.context=Z}function C(Q,Z){if(Z==null)return Q.__?C(Q.__,Q.__.__k.indexOf(Q)+1):null;for(var oe;Z<Q.__k.length;Z++)if((oe=Q.__k[Z])!=null&&oe.__e!=null)return oe.__e;return typeof Q.type=="function"?C(Q):null}function H(Q){var Z,oe;if((Q=Q.__)!=null&&Q.__c!=null){for(Q.__e=Q.__c.base=null,Z=0;Z<Q.__k.length;Z++)if((oe=Q.__k[Z])!=null&&oe.__e!=null){Q.__e=Q.__c.base=oe.__e;break}return H(Q)}}function A(Q){(!Q.__d&&(Q.__d=!0)&&_.push(Q)&&!B.__r++||x!==s.debounceRendering)&&((x=s.debounceRendering)||O)(B)}function B(){for(var Q;B.__r=_.length;)Q=_.sort(function(Z,oe){return Z.__v.__b-oe.__v.__b}),_=[],Q.some(function(Z){var oe,me,Me,we,$e,Ye;Z.__d&&($e=(we=(oe=Z).__v).__e,(Ye=oe.__P)&&(me=[],(Me=I({},we)).__v=we.__v+1,pe(Ye,we,Me,oe.__n,Ye.ownerSVGElement!==void 0,we.__h!=null?[$e]:null,me,$e==null?C(we):$e,we.__h),se(me,we),we.__e!=$e&&H(we)))})}function G(Q,Z,oe,me,Me,we,$e,Ye,tt,Ze){var _e,ee,Xe,Ge,Ke,kt,st,ft=me&&me.__k||k,yt=ft.length;for(oe.__k=[],_e=0;_e<Z.length;_e++)if((Ge=oe.__k[_e]=(Ge=Z[_e])==null||typeof Ge=="boolean"?null:typeof Ge=="string"||typeof Ge=="number"||typeof Ge=="bigint"?F(null,Ge,null,null,Ge):Array.isArray(Ge)?F(J,{children:Ge},null,null,null):Ge.__b>0?F(Ge.type,Ge.props,Ge.key,null,Ge.__v):Ge)!=null){if(Ge.__=oe,Ge.__b=oe.__b+1,(Xe=ft[_e])===null||Xe&&Ge.key==Xe.key&&Ge.type===Xe.type)ft[_e]=void 0;else for(ee=0;ee<yt;ee++){if((Xe=ft[ee])&&Ge.key==Xe.key&&Ge.type===Xe.type){ft[ee]=void 0;break}Xe=null}pe(Q,Ge,Xe=Xe||P,Me,we,$e,Ye,tt,Ze),Ke=Ge.__e,(ee=Ge.ref)&&Xe.ref!=ee&&(st||(st=[]),Xe.ref&&st.push(Xe.ref,null,Ge),st.push(ee,Ge.__c||Ke,Ge)),Ke!=null?(kt==null&&(kt=Ke),typeof Ge.type=="function"&&Ge.__k===Xe.__k?Ge.__d=tt=R(Ge,tt,Q):tt=$(Q,Ge,Xe,ft,Ke,tt),typeof oe.type=="function"&&(oe.__d=tt)):tt&&Xe.__e==tt&&tt.parentNode!=Q&&(tt=C(Xe))}for(oe.__e=kt,_e=yt;_e--;)ft[_e]!=null&&(typeof oe.type=="function"&&ft[_e].__e!=null&&ft[_e].__e==oe.__d&&(oe.__d=C(me,_e+1)),Ee(ft[_e],ft[_e]));if(st)for(_e=0;_e<st.length;_e++)de(st[_e],st[++_e],st[++_e])}function R(Q,Z,oe){for(var me,Me=Q.__k,we=0;Me&&we<Me.length;we++)(me=Me[we])&&(me.__=Q,Z=typeof me.type=="function"?R(me,Z,oe):$(oe,me,me,Me,me.__e,Z));return Z}function L(Q,Z){return Z=Z||[],Q==null||typeof Q=="boolean"||(Array.isArray(Q)?Q.some(function(oe){L(oe,Z)}):Z.push(Q)),Z}function $(Q,Z,oe,me,Me,we){var $e,Ye,tt;if(Z.__d!==void 0)$e=Z.__d,Z.__d=void 0;else if(oe==null||Me!=we||Me.parentNode==null)e:if(we==null||we.parentNode!==Q)Q.appendChild(Me),$e=null;else{for(Ye=we,tt=0;(Ye=Ye.nextSibling)&&tt<me.length;tt+=2)if(Ye==Me)break e;Q.insertBefore(Me,we),$e=we}return $e!==void 0?$e:Me.nextSibling}function ue(Q,Z,oe){Z[0]==="-"?Q.setProperty(Z,oe):Q[Z]=oe==null?"":typeof oe!="number"||N.test(Z)?oe:oe+"px"}function fe(Q,Z,oe,me,Me){var we;e:if(Z==="style")if(typeof oe=="string")Q.style.cssText=oe;else{if(typeof me=="string"&&(Q.style.cssText=me=""),me)for(Z in me)oe&&Z in oe||ue(Q.style,Z,"");if(oe)for(Z in oe)me&&oe[Z]===me[Z]||ue(Q.style,Z,oe[Z])}else if(Z[0]==="o"&&Z[1]==="n")we=Z!==(Z=Z.replace(/Capture$/,"")),Z=Z.toLowerCase()in Q?Z.toLowerCase().slice(2):Z.slice(2),Q.l||(Q.l={}),Q.l[Z+we]=oe,oe?me||Q.addEventListener(Z,we?ve:ge,we):Q.removeEventListener(Z,we?ve:ge,we);else if(Z!=="dangerouslySetInnerHTML"){if(Me)Z=Z.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Z!=="href"&&Z!=="list"&&Z!=="form"&&Z!=="tabIndex"&&Z!=="download"&&Z in Q)try{Q[Z]=oe==null?"":oe;break e}catch{}typeof oe=="function"||(oe!=null&&(oe!==!1||Z[0]==="a"&&Z[1]==="r")?Q.setAttribute(Z,oe):Q.removeAttribute(Z))}}function ge(Q){this.l[Q.type+!1](s.event?s.event(Q):Q)}function ve(Q){this.l[Q.type+!0](s.event?s.event(Q):Q)}function pe(Q,Z,oe,me,Me,we,$e,Ye,tt){var Ze,_e,ee,Xe,Ge,Ke,kt,st,ft,yt,It,U=Z.type;if(Z.constructor!==void 0)return null;oe.__h!=null&&(tt=oe.__h,Ye=Z.__e=oe.__e,Z.__h=null,we=[Ye]),(Ze=s.__b)&&Ze(Z);try{e:if(typeof U=="function"){if(st=Z.props,ft=(Ze=U.contextType)&&me[Ze.__c],yt=Ze?ft?ft.props.value:Ze.__:me,oe.__c?kt=(_e=Z.__c=oe.__c).__=_e.__E:("prototype"in U&&U.prototype.render?Z.__c=_e=new U(st,yt):(Z.__c=_e=new Y(st,yt),_e.constructor=U,_e.render=Te),ft&&ft.sub(_e),_e.props=st,_e.state||(_e.state={}),_e.context=yt,_e.__n=me,ee=_e.__d=!0,_e.__h=[]),_e.__s==null&&(_e.__s=_e.state),U.getDerivedStateFromProps!=null&&(_e.__s==_e.state&&(_e.__s=I({},_e.__s)),I(_e.__s,U.getDerivedStateFromProps(st,_e.__s))),Xe=_e.props,Ge=_e.state,ee)U.getDerivedStateFromProps==null&&_e.componentWillMount!=null&&_e.componentWillMount(),_e.componentDidMount!=null&&_e.__h.push(_e.componentDidMount);else{if(U.getDerivedStateFromProps==null&&st!==Xe&&_e.componentWillReceiveProps!=null&&_e.componentWillReceiveProps(st,yt),!_e.__e&&_e.shouldComponentUpdate!=null&&_e.shouldComponentUpdate(st,_e.__s,yt)===!1||Z.__v===oe.__v){_e.props=st,_e.state=_e.__s,Z.__v!==oe.__v&&(_e.__d=!1),_e.__v=Z,Z.__e=oe.__e,Z.__k=oe.__k,Z.__k.forEach(function(ne){ne&&(ne.__=Z)}),_e.__h.length&&$e.push(_e);break e}_e.componentWillUpdate!=null&&_e.componentWillUpdate(st,_e.__s,yt),_e.componentDidUpdate!=null&&_e.__h.push(function(){_e.componentDidUpdate(Xe,Ge,Ke)})}_e.context=yt,_e.props=st,_e.state=_e.__s,(Ze=s.__r)&&Ze(Z),_e.__d=!1,_e.__v=Z,_e.__P=Q,Ze=_e.render(_e.props,_e.state,_e.context),_e.state=_e.__s,_e.getChildContext!=null&&(me=I(I({},me),_e.getChildContext())),ee||_e.getSnapshotBeforeUpdate==null||(Ke=_e.getSnapshotBeforeUpdate(Xe,Ge)),It=Ze!=null&&Ze.type===J&&Ze.key==null?Ze.props.children:Ze,G(Q,Array.isArray(It)?It:[It],Z,oe,me,Me,we,$e,Ye,tt),_e.base=Z.__e,Z.__h=null,_e.__h.length&&$e.push(_e),kt&&(_e.__E=_e.__=null),_e.__e=!1}else we==null&&Z.__v===oe.__v?(Z.__k=oe.__k,Z.__e=oe.__e):Z.__e=le(oe.__e,Z,oe,me,Me,we,$e,tt);(Ze=s.diffed)&&Ze(Z)}catch(ne){Z.__v=null,(tt||we!=null)&&(Z.__e=Ye,Z.__h=!!tt,we[we.indexOf(Ye)]=null),s.__e(ne,Z,oe)}}function se(Q,Z){s.__c&&s.__c(Z,Q),Q.some(function(oe){try{Q=oe.__h,oe.__h=[],Q.some(function(me){me.call(oe)})}catch(me){s.__e(me,oe.__v)}})}function le(Q,Z,oe,me,Me,we,$e,Ye){var tt,Ze,_e,ee=oe.props,Xe=Z.props,Ge=Z.type,Ke=0;if(Ge==="svg"&&(Me=!0),we!=null){for(;Ke<we.length;Ke++)if((tt=we[Ke])&&"setAttribute"in tt==!!Ge&&(Ge?tt.localName===Ge:tt.nodeType===3)){Q=tt,we[Ke]=null;break}}if(Q==null){if(Ge===null)return document.createTextNode(Xe);Q=Me?document.createElementNS("http://www.w3.org/2000/svg",Ge):document.createElement(Ge,Xe.is&&Xe),we=null,Ye=!1}if(Ge===null)ee===Xe||Ye&&Q.data===Xe||(Q.data=Xe);else{if(we=we&&f.call(Q.childNodes),Ze=(ee=oe.props||P).dangerouslySetInnerHTML,_e=Xe.dangerouslySetInnerHTML,!Ye){if(we!=null)for(ee={},Ke=0;Ke<Q.attributes.length;Ke++)ee[Q.attributes[Ke].name]=Q.attributes[Ke].value;(_e||Ze)&&(_e&&(Ze&&_e.__html==Ze.__html||_e.__html===Q.innerHTML)||(Q.innerHTML=_e&&_e.__html||""))}if(function(kt,st,ft,yt,It){var U;for(U in ft)U==="children"||U==="key"||U in st||fe(kt,U,null,ft[U],yt);for(U in st)It&&typeof st[U]!="function"||U==="children"||U==="key"||U==="value"||U==="checked"||ft[U]===st[U]||fe(kt,U,st[U],ft[U],yt)}(Q,Xe,ee,Me,Ye),_e)Z.__k=[];else if(Ke=Z.props.children,G(Q,Array.isArray(Ke)?Ke:[Ke],Z,oe,me,Me&&Ge!=="foreignObject",we,$e,we?we[0]:oe.__k&&C(oe,0),Ye),we!=null)for(Ke=we.length;Ke--;)we[Ke]!=null&&X(we[Ke]);Ye||("value"in Xe&&(Ke=Xe.value)!==void 0&&(Ke!==ee.value||Ke!==Q.value||Ge==="progress"&&!Ke)&&fe(Q,"value",Ke,ee.value,!1),"checked"in Xe&&(Ke=Xe.checked)!==void 0&&Ke!==Q.checked&&fe(Q,"checked",Ke,ee.checked,!1))}return Q}function de(Q,Z,oe){try{typeof Q=="function"?Q(Z):Q.current=Z}catch(me){s.__e(me,oe)}}function Ee(Q,Z,oe){var me,Me;if(s.unmount&&s.unmount(Q),(me=Q.ref)&&(me.current&&me.current!==Q.__e||de(me,null,Z)),(me=Q.__c)!=null){if(me.componentWillUnmount)try{me.componentWillUnmount()}catch(we){s.__e(we,Z)}me.base=me.__P=null}if(me=Q.__k)for(Me=0;Me<me.length;Me++)me[Me]&&Ee(me[Me],Z,typeof Q.type!="function");oe||Q.__e==null||X(Q.__e),Q.__e=Q.__d=void 0}function Te(Q,Z,oe){return this.constructor(Q,oe)}function De(Q,Z,oe){var me,Me,we;s.__&&s.__(Q,Z),Me=(me=typeof oe=="function")?null:oe&&oe.__k||Z.__k,we=[],pe(Z,Q=(!me&&oe||Z).__k=V(J,null,[Q]),Me||P,P,Z.ownerSVGElement!==void 0,!me&&oe?[oe]:Me?null:Z.firstChild?f.call(Z.childNodes):null,we,!me&&oe?oe:Me?Me.__e:Z.firstChild,me),se(we,Q)}function ke(Q,Z){De(Q,Z,ke)}function Ie(Q,Z,oe){var me,Me,we,$e=I({},Q.props);for(we in Z)we=="key"?me=Z[we]:we=="ref"?Me=Z[we]:$e[we]=Z[we];return arguments.length>2&&($e.children=arguments.length>3?f.call(arguments,2):oe),F(Q.type,$e,me||Q.key,Me||Q.ref,null)}function et(Q,Z){var oe={__c:Z="__cC"+j++,__:Q,Consumer:function(me,Me){return me.children(Me)},Provider:function(me){var Me,we;return this.getChildContext||(Me=[],(we={})[Z]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function($e){this.props.value!==$e.value&&Me.some(A)},this.sub=function($e){Me.push($e);var Ye=$e.componentWillUnmount;$e.componentWillUnmount=function(){Me.splice(Me.indexOf($e),1),Ye&&Ye.call($e)}}),me.children}};return oe.Provider.__=oe.Consumer.contextType=oe}f=k.slice,s={__e:function(Q,Z){for(var oe,me,Me;Z=Z.__;)if((oe=Z.__c)&&!oe.__)try{if((me=oe.constructor)&&me.getDerivedStateFromError!=null&&(oe.setState(me.getDerivedStateFromError(Q)),Me=oe.__d),oe.componentDidCatch!=null&&(oe.componentDidCatch(Q),Me=oe.__d),Me)return oe.__E=oe}catch(we){Q=we}throw Q}},y=0,Y.prototype.setState=function(Q,Z){var oe;oe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof Q=="function"&&(Q=Q(I({},oe),this.props)),Q&&I(oe,Q),Q!=null&&this.__v&&(Z&&this.__h.push(Z),A(this))},Y.prototype.forceUpdate=function(Q){this.__v&&(this.__e=!0,Q&&this.__h.push(Q),A(this))},Y.prototype.render=J,_=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,j=0},function(c,p,i){var f=i(116),s=i(44),y=i(178);f||s(Object.prototype,"toString",y,{unsafe:!0})},function(c,p,i){var f=i(39),s=i(83),y=i(70),_=i(56),O=i(111),x=_.set,j=_.getterFor("Array Iterator");c.exports=O(Array,"Array",function(P,k){x(this,{type:"Array Iterator",target:f(P),index:0,kind:k})},function(){var P=j(this),k=P.target,N=P.kind,I=P.index++;return!k||I>=k.length?(P.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:k[I],done:!1}:{value:[I,k[I]],done:!1}},"values"),y.Arguments=y.Array,s("keys"),s("values"),s("entries")},function(c,p,i){var f=i(7),s=i(147),y=i(148),_=i(3),O=i(57),x=i(27),j=x("iterator"),P=x("toStringTag"),k=_.values,N=function(X,V){if(X){if(X[j]!==k)try{O(X,j,k)}catch{X[j]=k}if(X[P]||O(X,P,V),s[V]){for(var F in _)if(X[F]!==_[F])try{O(X,F,_[F])}catch{X[F]=_[F]}}}};for(var I in s)N(f[I]&&f[I].prototype,I);N(y,"DOMTokenList")},function(c,p,i){var f=i(16),s=i(7),y=i(46),_=i(76),O=i(35),x=i(15),j=i(64),P=i(36),k=i(109),N=i(18),I=i(34),X=i(99),V=i(28),F=i(33),K=i(58),J=i(88),Y=i(32),C=i(38),H=i(39),A=i(87),B=i(40),G=i(71),R=i(54),L=i(66),$=i(72),ue=i(139),fe=i(112),ge=i(51),ve=i(37),pe=i(93),se=i(101),le=i(44),de=i(84),Ee=i(91),Te=i(69),De=i(85),ke=i(27),Ie=i(149),et=i(150),Q=i(73),Z=i(56),oe=i(74).forEach,me=Ee("hidden"),Me=ke("toPrimitive"),we=Z.set,$e=Z.getterFor("Symbol"),Ye=Object.prototype,tt=s.Symbol,Ze=tt&&tt.prototype,_e=s.TypeError,ee=s.QObject,Xe=y("JSON","stringify"),Ge=ge.f,Ke=ve.f,kt=ue.f,st=pe.f,ft=x([].push),yt=de("symbols"),It=de("op-symbols"),U=de("string-to-symbol-registry"),ne=de("symbol-to-string-registry"),be=de("wks"),re=!ee||!ee.prototype||!ee.prototype.findChild,Se=P&&N(function(){return R(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!=7})?function(Le,We,Qe){var rt=Ge(Ye,We);rt&&delete Ye[We],Ke(Le,We,Qe),rt&&Le!==Ye&&Ke(Ye,We,rt)}:Ke,Ae=function(Le,We){var Qe=yt[Le]=R(Ze);return we(Qe,{type:"Symbol",tag:Le,description:We}),P||(Qe.description=We),Qe},Ne=function(Le,We,Qe){Le===Ye&&Ne(It,We,Qe),Y(Le);var rt=A(We);return Y(Qe),I(yt,rt)?(Qe.enumerable?(I(Le,me)&&Le[me][rt]&&(Le[me][rt]=!1),Qe=R(Qe,{enumerable:G(0,!1)})):(I(Le,me)||Ke(Le,me,G(1,{})),Le[me][rt]=!0),Se(Le,rt,Qe)):Ke(Le,rt,Qe)},Ue=function(Le,We){Y(Le);var Qe=H(We),rt=L(Qe).concat(Jt(Qe));return oe(rt,function(xt){P&&!O(gt,Qe,xt)||Ne(Le,xt,Qe[xt])}),Le},gt=function(Le){var We=A(Le),Qe=O(st,this,We);return!(this===Ye&&I(yt,We)&&!I(It,We))&&(!(Qe||!I(this,We)||!I(yt,We)||I(this,me)&&this[me][We])||Qe)},wt=function(Le,We){var Qe=H(Le),rt=A(We);if(Qe!==Ye||!I(yt,rt)||I(It,rt)){var xt=Ge(Qe,rt);return!xt||!I(yt,rt)||I(Qe,me)&&Qe[me][rt]||(xt.enumerable=!0),xt}},$t=function(Le){var We=kt(H(Le)),Qe=[];return oe(We,function(rt){I(yt,rt)||I(Te,rt)||ft(Qe,rt)}),Qe},Jt=function(Le){var We=Le===Ye,Qe=kt(We?It:H(Le)),rt=[];return oe(Qe,function(xt){!I(yt,xt)||We&&!I(Ye,xt)||ft(rt,yt[xt])}),rt};if(k||(le(Ze=(tt=function(){if(K(Ze,this))throw _e("Symbol is not a constructor");var Le=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,We=De(Le),Qe=function(rt){this===Ye&&O(Qe,It,rt),I(this,me)&&I(this[me],We)&&(this[me][We]=!1),Se(this,We,G(1,rt))};return P&&re&&Se(Ye,We,{configurable:!0,set:Qe}),Ae(We,Le)}).prototype,"toString",function(){return $e(this).tag}),le(tt,"withoutSetter",function(Le){return Ae(De(Le),Le)}),pe.f=gt,ve.f=Ne,ge.f=wt,$.f=ue.f=$t,fe.f=Jt,Ie.f=function(Le){return Ae(ke(Le),Le)},P&&(Ke(Ze,"description",{configurable:!0,get:function(){return $e(this).description}}),j||le(Ye,"propertyIsEnumerable",gt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:tt}),oe(L(be),function(Le){et(Le)}),f({target:"Symbol",stat:!0,forced:!k},{for:function(Le){var We=B(Le);if(I(U,We))return U[We];var Qe=tt(We);return U[We]=Qe,ne[Qe]=We,Qe},keyFor:function(Le){if(!J(Le))throw _e(Le+" is not a symbol");if(I(ne,Le))return ne[Le]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!P},{create:function(Le,We){return We===void 0?R(Le):Ue(R(Le),We)},defineProperty:Ne,defineProperties:Ue,getOwnPropertyDescriptor:wt}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:$t,getOwnPropertySymbols:Jt}),f({target:"Object",stat:!0,forced:N(function(){fe.f(1)})},{getOwnPropertySymbols:function(Le){return fe.f(C(Le))}}),Xe&&f({target:"JSON",stat:!0,forced:!k||N(function(){var Le=tt();return Xe([Le])!="[null]"||Xe({a:Le})!="{}"||Xe(Object(Le))!="{}"})},{stringify:function(Le,We,Qe){var rt=se(arguments),xt=We;if((F(We)||Le!==void 0)&&!J(Le))return X(We)||(We=function(Mt,Qt){if(V(xt)&&(Qt=O(xt,this,Mt,Qt)),!J(Qt))return Qt}),rt[1]=We,_(Xe,null,rt)}}),!Ze[Me]){var lt=Ze.valueOf;le(Ze,Me,function(Le){return O(lt,this)})}Q(tt,"Symbol"),Te[me]=!0},function(c,p,i){var f=i(146).charAt,s=i(40),y=i(56),_=i(111),O=y.set,x=y.getterFor("String Iterator");_(String,"String",function(j){O(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,P=x(this),k=P.string,N=P.index;return N>=k.length?{value:void 0,done:!0}:(j=f(k,N),P.index+=j.length,{value:j,done:!1})})},function(c,p,i){(function(f){var s=function(y){return y&&y.Math==Math&&y};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(c,p,i){var f=i(16),s=i(36),y=i(7),_=i(15),O=i(34),x=i(28),j=i(58),P=i(40),k=i(37).f,N=i(134),I=y.Symbol,X=I&&I.prototype;if(s&&x(I)&&(!("description"in X)||I().description!==void 0)){var V={},F=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),G=j(X,this)?new I(B):B===void 0?I():I(B);return B===""&&(V[G]=!0),G};N(F,I),F.prototype=X,X.constructor=F;var K=String(I("test"))=="Symbol(test)",J=_(X.toString),Y=_(X.valueOf),C=/^Symbol\((.*)\)[^)]+$/,H=_("".replace),A=_("".slice);k(X,"description",{configurable:!0,get:function(){var B=Y(this),G=J(B);if(O(V,B))return"";var R=K?A(G,7,-1):H(G,C,"$1");return R===""?void 0:R}}),f({global:!0,forced:!0},{Symbol:F})}},function(c,p,i){i(150)("iterator")},function(c,p,i){i.d(p,"a",function(){return _.a}),i.d(p,"c",function(){return _.e}),i.d(p,"h",function(){return C}),i.d(p,"i",function(){return K}),i.d(p,"j",function(){return V}),i.d(p,"b",function(){return ge}),i.d(p,"e",function(){return le}),i.d(p,"f",function(){return ve}),i.d(p,"g",function(){return ft});var f,s,y,_=i(1),O=0,x=[],j=_.i.__b,P=_.i.__r,k=_.i.diffed,N=_.i.__c,I=_.i.unmount;function X(U,ne){_.i.__h&&_.i.__h(s,U,O||ne),O=0;var be=s.__H||(s.__H={__:[],__h:[]});return U>=be.__.length&&be.__.push({}),be.__[U]}function V(U){return O=1,F($,U)}function F(U,ne,be){var re=X(f++,2);return re.t=U,re.__c||(re.__=[be?be(ne):$(void 0,ne),function(Se){var Ae=re.t(re.__[0],Se);re.__[0]!==Ae&&(re.__=[Ae,re.__[1]],re.__c.setState({}))}],re.__c=s),re.__}function K(U,ne){var be=X(f++,3);!_.i.__s&&L(be.__H,ne)&&(be.__=U,be.__H=ne,s.__H.__h.push(be))}function J(U,ne){var be=X(f++,4);!_.i.__s&&L(be.__H,ne)&&(be.__=U,be.__H=ne,s.__h.push(be))}function Y(U,ne){var be=X(f++,7);return L(be.__H,ne)&&(be.__=U(),be.__H=ne,be.__h=U),be.__}function C(U,ne){return O=8,Y(function(){return U},ne)}function H(){var U;for(x.sort(function(ne,be){return ne.__v.__b-be.__v.__b});U=x.pop();)if(U.__P)try{U.__H.__h.forEach(G),U.__H.__h.forEach(R),U.__H.__h=[]}catch(ne){U.__H.__h=[],_.i.__e(ne,U.__v)}}_.i.__b=function(U){s=null,j&&j(U)},_.i.__r=function(U){P&&P(U),f=0;var ne=(s=U.__c).__H;ne&&(ne.__h.forEach(G),ne.__h.forEach(R),ne.__h=[])},_.i.diffed=function(U){k&&k(U);var ne=U.__c;ne&&ne.__H&&ne.__H.__h.length&&(x.push(ne)!==1&&y===_.i.requestAnimationFrame||((y=_.i.requestAnimationFrame)||B)(H)),s=null},_.i.__c=function(U,ne){ne.some(function(be){try{be.__h.forEach(G),be.__h=be.__h.filter(function(re){return!re.__||R(re)})}catch(re){ne.some(function(Se){Se.__h&&(Se.__h=[])}),ne=[],_.i.__e(re,be.__v)}}),N&&N(U,ne)},_.i.unmount=function(U){I&&I(U);var ne,be=U.__c;be&&be.__H&&(be.__H.__.forEach(function(re){try{G(re)}catch(Se){ne=Se}}),ne&&_.i.__e(ne,be.__v))};var A=typeof requestAnimationFrame=="function";function B(U){var ne,be=function(){clearTimeout(re),A&&cancelAnimationFrame(ne),setTimeout(U)},re=setTimeout(be,100);A&&(ne=requestAnimationFrame(be))}function G(U){var ne=s,be=U.__c;typeof be=="function"&&(U.__c=void 0,be()),s=ne}function R(U){var ne=s;U.__c=U.__(),s=ne}function L(U,ne){return!U||U.length!==ne.length||ne.some(function(be,re){return be!==U[re]})}function $(U,ne){return typeof ne=="function"?ne(U):ne}function ue(U,ne){for(var be in ne)U[be]=ne[be];return U}function fe(U,ne){for(var be in U)if(be!=="__source"&&!(be in ne))return!0;for(var re in ne)if(re!=="__source"&&U[re]!==ne[re])return!0;return!1}function ge(U){this.props=U}function ve(U,ne){function be(Se){var Ae=this.props.ref,Ne=Ae==Se.ref;return!Ne&&Ae&&(Ae.call?Ae(null):Ae.current=null),ne?!ne(this.props,Se)||!Ne:fe(this.props,Se)}function re(Se){return this.shouldComponentUpdate=be,Object(_.e)(U,Se)}return re.displayName="Memo("+(U.displayName||U.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(ge.prototype=new _.a).isPureReactComponent=!0,ge.prototype.shouldComponentUpdate=function(U,ne){return fe(this.props,U)||fe(this.state,ne)};var pe=_.i.__b;_.i.__b=function(U){U.type&&U.type.__f&&U.ref&&(U.props.ref=U.ref,U.ref=null),pe&&pe(U)};var se=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function le(U){function ne(be,re){var Se=ue({},be);return delete Se.ref,U(Se,!(re=be.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return ne.$$typeof=se,ne.render=ne,ne.prototype.isReactComponent=ne.__f=!0,ne.displayName="ForwardRef("+(U.displayName||U.name)+")",ne}var de=function(U,ne){return U==null?null:Object(_.k)(Object(_.k)(U).map(ne))},Ee={map:de,forEach:de,count:function(U){return U?Object(_.k)(U).length:0},only:function(U){var ne=Object(_.k)(U);if(ne.length!==1)throw"Children.only";return ne[0]},toArray:_.k},Te=_.i.__e;_.i.__e=function(U,ne,be){if(U.then){for(var re,Se=ne;Se=Se.__;)if((re=Se.__c)&&re.__c)return ne.__e==null&&(ne.__e=be.__e,ne.__k=be.__k),re.__c(U,ne)}Te(U,ne,be)};var De=_.i.unmount;function ke(){this.__u=0,this.t=null,this.__b=null}function Ie(U){var ne=U.__.__c;return ne&&ne.__e&&ne.__e(U)}function et(){this.u=null,this.o=null}_.i.unmount=function(U){var ne=U.__c;ne&&ne.__R&&ne.__R(),ne&&U.__h===!0&&(U.type=null),De&&De(U)},(ke.prototype=new _.a).__c=function(U,ne){var be=ne.__c,re=this;re.t==null&&(re.t=[]),re.t.push(be);var Se=Ie(re.__v),Ae=!1,Ne=function(){Ae||(Ae=!0,be.__R=null,Se?Se(Ue):Ue())};be.__R=Ne;var Ue=function(){if(!--re.__u){if(re.state.__e){var wt=re.state.__e;re.__v.__k[0]=function Jt(lt,Le,We){return lt&&(lt.__v=null,lt.__k=lt.__k&&lt.__k.map(function(Qe){return Jt(Qe,Le,We)}),lt.__c&&lt.__c.__P===Le&&(lt.__e&&We.insertBefore(lt.__e,lt.__d),lt.__c.__e=!0,lt.__c.__P=We)),lt}(wt,wt.__c.__P,wt.__c.__O)}var $t;for(re.setState({__e:re.__b=null});$t=re.t.pop();)$t.forceUpdate()}},gt=ne.__h===!0;re.__u++||gt||re.setState({__e:re.__b=re.__v.__k[0]}),U.then(Ne,Ne)},ke.prototype.componentWillUnmount=function(){this.t=[]},ke.prototype.render=function(U,ne){if(this.__b){if(this.__v.__k){var be=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=function Ae(Ne,Ue,gt){return Ne&&(Ne.__c&&Ne.__c.__H&&(Ne.__c.__H.__.forEach(function(wt){typeof wt.__c=="function"&&wt.__c()}),Ne.__c.__H=null),(Ne=ue({},Ne)).__c!=null&&(Ne.__c.__P===gt&&(Ne.__c.__P=Ue),Ne.__c=null),Ne.__k=Ne.__k&&Ne.__k.map(function(wt){return Ae(wt,Ue,gt)})),Ne}(this.__b,be,re.__O=re.__P)}this.__b=null}var Se=ne.__e&&Object(_.e)(_.b,null,U.fallback);return Se&&(Se.__h=null),[Object(_.e)(_.b,null,ne.__e?null:U.children),Se]};var Q=function(U,ne,be){if(++be[1]===be[0]&&U.o.delete(ne),U.props.revealOrder&&(U.props.revealOrder[0]!=="t"||!U.o.size))for(be=U.u;be;){for(;be.length>3;)be.pop()();if(be[1]<be[0])break;U.u=be=be[2]}};function Z(U){return this.getChildContext=function(){return U.context},U.children}function oe(U){var ne=this,be=U.i;ne.componentWillUnmount=function(){Object(_.j)(null,ne.l),ne.l=null,ne.i=null},ne.i&&ne.i!==be&&ne.componentWillUnmount(),U.__v?(ne.l||(ne.i=be,ne.l={nodeType:1,parentNode:be,childNodes:[],appendChild:function(re){this.childNodes.push(re),ne.i.appendChild(re)},insertBefore:function(re,Se){this.childNodes.push(re),ne.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),ne.i.removeChild(re)}}),Object(_.j)(Object(_.e)(Z,{context:ne.context},U.__v),ne.l)):ne.l&&ne.componentWillUnmount()}(et.prototype=new _.a).__e=function(U){var ne=this,be=Ie(ne.__v),re=ne.o.get(U);return re[0]++,function(Se){var Ae=function(){ne.props.revealOrder?(re.push(Se),Q(ne,U,re)):Se()};be?be(Ae):Ae()}},et.prototype.render=function(U){this.u=null,this.o=new Map;var ne=Object(_.k)(U.children);U.revealOrder&&U.revealOrder[0]==="b"&&ne.reverse();for(var be=ne.length;be--;)this.o.set(ne[be],this.u=[1,0,this.u]);return U.children},et.prototype.componentDidUpdate=et.prototype.componentDidMount=function(){var U=this;this.o.forEach(function(ne,be){Q(U,be,ne)})};var me=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Me=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",$e=function(U){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(U)};_.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(U){Object.defineProperty(_.a.prototype,U,{configurable:!0,get:function(){return this["UNSAFE_"+U]},set:function(ne){Object.defineProperty(this,U,{configurable:!0,writable:!0,value:ne})}})});var Ye=_.i.event;function tt(){}function Ze(){return this.cancelBubble}function _e(){return this.defaultPrevented}_.i.event=function(U){return Ye&&(U=Ye(U)),U.persist=tt,U.isPropagationStopped=Ze,U.isDefaultPrevented=_e,U.nativeEvent=U};var ee,Xe={configurable:!0,get:function(){return this.class}},Ge=_.i.vnode;_.i.vnode=function(U){var ne=U.type,be=U.props,re=be;if(typeof ne=="string"){var Se=ne.indexOf("-")===-1;for(var Ae in re={},be){var Ne=be[Ae];we&&Ae==="children"&&ne==="noscript"||Ae==="value"&&"defaultValue"in be&&Ne==null||(Ae==="defaultValue"&&"value"in be&&be.value==null?Ae="value":Ae==="download"&&Ne===!0?Ne="":/ondoubleclick/i.test(Ae)?Ae="ondblclick":/^onchange(textarea|input)/i.test(Ae+ne)&&!$e(be.type)?Ae="oninput":/^onfocus$/i.test(Ae)?Ae="onfocusin":/^onblur$/i.test(Ae)?Ae="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ae)?Ae=Ae.toLowerCase():Se&&Me.test(Ae)?Ae=Ae.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ne===null&&(Ne=void 0),re[Ae]=Ne)}ne=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(_.k)(be.children).forEach(function(Ue){Ue.props.selected=re.value.indexOf(Ue.props.value)!=-1})),ne=="select"&&re.defaultValue!=null&&(re.value=Object(_.k)(be.children).forEach(function(Ue){Ue.props.selected=re.multiple?re.defaultValue.indexOf(Ue.props.value)!=-1:re.defaultValue==Ue.props.value})),U.props=re,be.class!=be.className&&(Xe.enumerable="className"in be,be.className!=null&&(re.class=be.className),Object.defineProperty(re,"className",Xe))}U.$$typeof=me,Ge&&Ge(U)};var Ke=_.i.__r;_.i.__r=function(U){Ke&&Ke(U),ee=U.__c};var kt={ReactCurrentDispatcher:{current:{readContext:function(U){return ee.__n[U.__c].props.value}}}};function st(U){return!!U&&U.$$typeof===me}var ft=function(U,ne){return U(ne)},yt=_.b,It={useState:V,useReducer:F,useEffect:K,useLayoutEffect:J,useRef:function(U){return O=5,Y(function(){return{current:U}},[])},useImperativeHandle:function(U,ne,be){O=6,J(function(){typeof U=="function"?U(ne()):U&&(U.current=ne())},be==null?be:be.concat(U))},useMemo:Y,useCallback:C,useContext:function(U){var ne=s.context[U.__c],be=X(f++,9);return be.c=U,ne?(be.__==null&&(be.__=!0,ne.sub(s)),ne.props.value):U.__},useDebugValue:function(U,ne){_.i.useDebugValue&&_.i.useDebugValue(ne?ne(U):U)},version:"17.0.2",Children:Ee,render:function(U,ne,be){return ne.__k==null&&(ne.textContent=""),Object(_.j)(U,ne),typeof be=="function"&&be(),U?U.__c:null},hydrate:function(U,ne,be){return Object(_.h)(U,ne),typeof be=="function"&&be(),U?U.__c:null},unmountComponentAtNode:function(U){return!!U.__k&&(Object(_.j)(null,U),!0)},createPortal:function(U,ne){return Object(_.e)(oe,{__v:U,i:ne})},createElement:_.e,createContext:_.d,createFactory:function(U){return _.e.bind(null,U)},cloneElement:function(U){return st(U)?_.c.apply(null,arguments):U},createRef:_.f,Fragment:_.b,isValidElement:st,findDOMNode:function(U){return U&&(U.base||U.nodeType===1&&U)||null},Component:_.a,PureComponent:ge,memo:ve,forwardRef:le,flushSync:function(U,ne){return U(ne)},unstable_batchedUpdates:ft,StrictMode:yt,Suspense:ke,SuspenseList:et,lazy:function(U){var ne,be,re;function Se(Ae){if(ne||(ne=U()).then(function(Ne){be=Ne.default||Ne},function(Ne){re=Ne}),re)throw re;if(!be)throw ne;return Object(_.e)(be,Ae)}return Se.displayName="Lazy",Se.__f=!0,Se},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:kt};p.d=It},function(c,p,i){var f=i(7),s=i(147),y=i(148),_=i(179),O=i(57),x=function(P){if(P&&P.forEach!==_)try{O(P,"forEach",_)}catch{P.forEach=_}};for(var j in s)s[j]&&x(f[j]&&f[j].prototype);x(y)},function(c,p,i){i(16)({target:"Object",stat:!0},{setPrototypeOf:i(97)})},function(c,p,i){var f=i(16),s=i(18),y=i(38),_=i(96),O=i(137);f({target:"Object",stat:!0,forced:s(function(){_(1)}),sham:!O},{getPrototypeOf:function(x){return _(y(x))}})},function(c,p,i){var f=i(16),s=i(46),y=i(76),_=i(198),O=i(157),x=i(32),j=i(33),P=i(54),k=i(18),N=s("Reflect","construct"),I=Object.prototype,X=[].push,V=k(function(){function J(){}return!(N(function(){},[],J)instanceof J)}),F=!k(function(){N(function(){})}),K=V||F;f({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(J,Y){O(J),x(Y);var C=arguments.length<3?J:O(arguments[2]);if(F&&!V)return N(J,Y,C);if(J==C){switch(Y.length){case 0:return new J;case 1:return new J(Y[0]);case 2:return new J(Y[0],Y[1]);case 3:return new J(Y[0],Y[1],Y[2]);case 4:return new J(Y[0],Y[1],Y[2],Y[3])}var H=[null];return y(X,H,Y),new(y(_,J,H))}var A=C.prototype,B=P(j(A)?A:I),G=y(J,B,Y);return j(G)?G:B}})},function(c,p){var i=Function.prototype,f=i.bind,s=i.call,y=f&&f.bind(s);c.exports=f?function(_){return _&&y(s,_)}:function(_){return _&&function(){return s.apply(_,arguments)}}},function(c,p,i){var f=i(7),s=i(51).f,y=i(57),_=i(44),O=i(108),x=i(134),j=i(95);c.exports=function(P,k){var N,I,X,V,F,K=P.target,J=P.global,Y=P.stat;if(N=J?f:Y?f[K]||O(K,{}):(f[K]||{}).prototype)for(I in k){if(V=k[I],X=P.noTargetGet?(F=s(N,I))&&F.value:N[I],!j(J?I:K+(Y?".":"#")+I,P.forced)&&X!==void 0){if(typeof V==typeof X)continue;x(V,X)}(P.sham||X&&X.sham)&&y(V,"sham",!0),_(N,I,V,P)}}},function(c,p,i){var f=i(16),s=i(7),y=i(99),_=i(100),O=i(33),x=i(67),j=i(43),P=i(39),k=i(61),N=i(27),I=i(75),X=i(101),V=I("slice"),F=N("species"),K=s.Array,J=Math.max;f({target:"Array",proto:!0,forced:!V},{slice:function(Y,C){var H,A,B,G=P(this),R=j(G),L=x(Y,R),$=x(C===void 0?R:C,R);if(y(G)&&(H=G.constructor,(_(H)&&(H===K||y(H.prototype))||O(H)&&(H=H[F])===null)&&(H=void 0),H===K||H===void 0))return X(G,L,$);for(A=new(H===void 0?K:H)(J($-L,0)),B=0;L<$;L++,B++)L in G&&k(A,B,G[L]);return A.length=B,A}})},function(c,p){c.exports=function(i){try{return!!i()}catch{return!0}}},function(c,p,i){var f=i(16),s=i(102);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p,i){var f=i(16),s=i(38),y=i(66);f({target:"Object",stat:!0,forced:i(18)(function(){y(1)})},{keys:function(_){return y(s(_))}})},function(c,p,i){var f=i(16),s=i(18),y=i(39),_=i(51).f,O=i(36),x=s(function(){_(1)});f({target:"Object",stat:!0,forced:!O||x,sham:!O},{getOwnPropertyDescriptor:function(j,P){return _(y(j),P)}})},function(c,p,i){var f=i(16),s=i(74).filter;f({target:"Array",proto:!0,forced:!i(75)("filter")},{filter:function(y){return s(this,y,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(16),s=i(36),y=i(135),_=i(39),O=i(51),x=i(61);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var P,k,N=_(j),I=O.f,X=y(N),V={},F=0;X.length>F;)(k=I(N,P=X[F++]))!==void 0&&x(V,P,k);return V}})},function(c,p,i){var f=i(36),s=i(94).EXISTS,y=i(15),_=i(37).f,O=Function.prototype,x=y(O.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=y(j.exec);f&&!s&&_(O,"name",{configurable:!0,get:function(){try{return P(j,x(this))[1]}catch{return""}}})},function(c,p,i){var f=i(16),s=i(182);f({target:"Array",stat:!0,forced:!i(118)(function(y){Array.from(y)})},{from:s})},,function(c,p,i){var f=i(7),s=i(84),y=i(34),_=i(85),O=i(109),x=i(128),j=s("wks"),P=f.Symbol,k=P&&P.for,N=x?P:P&&P.withoutSetter||_;c.exports=function(I){if(!y(j,I)||!O&&typeof j[I]!="string"){var X="Symbol."+I;O&&y(P,I)?j[I]=P[I]:j[I]=x&&k?k(X):N(X)}return j[I]}},function(c,p){c.exports=function(i){return typeof i=="function"}},function(c,p,i){var f=i(16),s=i(7),y=i(18),_=i(99),O=i(33),x=i(38),j=i(43),P=i(61),k=i(119),N=i(75),I=i(27),X=i(65),V=I("isConcatSpreadable"),F=s.TypeError,K=X>=51||!y(function(){var C=[];return C[V]=!1,C.concat()[0]!==C}),J=N("concat"),Y=function(C){if(!O(C))return!1;var H=C[V];return H!==void 0?!!H:_(C)};f({target:"Array",proto:!0,forced:!K||!J},{concat:function(C){var H,A,B,G,R,L=x(this),$=k(L,0),ue=0;for(H=-1,B=arguments.length;H<B;H++)if(Y(R=H===-1?L:arguments[H])){if(ue+(G=j(R))>9007199254740991)throw F("Maximum allowed index exceeded");for(A=0;A<G;A++,ue++)A in R&&P($,ue,R[A])}else{if(ue>=9007199254740991)throw F("Maximum allowed index exceeded");P($,ue++,R)}return $.length=ue,$}})},function(c,p,i){var f=i(105),s=typeof self=="object"&&self&&self.Object===Object&&self,y=f.a||s||Function("return this")();p.a=y},function(c,p,i){var f=i(16),s=i(200);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,i){var f=i(7),s=i(33),y=f.String,_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(y(O)+" is not an object")}},function(c,p,i){var f=i(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,i){var f=i(15),s=i(38),y=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(_,O){return y(s(_),O)}},function(c,p){var i=Function.prototype.call;c.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,i){var f=i(7),s=i(36),y=i(129),_=i(32),O=i(87),x=f.TypeError,j=Object.defineProperty;p.f=s?j:function(P,k,N){if(_(P),k=O(k),_(N),y)try{return j(P,k,N)}catch{}if("get"in N||"set"in N)throw x("Accessors not supported");return"value"in N&&(P[k]=N.value),P}},function(c,p,i){var f=i(7),s=i(45),y=f.Object;c.exports=function(_){return y(s(_))}},function(c,p,i){var f=i(81),s=i(45);c.exports=function(y){return f(s(y))}},function(c,p,i){var f=i(7),s=i(98),y=f.String;c.exports=function(_){if(s(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(_)}},function(c,p,i){var f=i(16),s=i(74).map;f({target:"Array",proto:!0,forced:!i(75)("map")},{map:function(y){return s(this,y,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){(function(f){i.d(p,"d",function(){return _}),i.d(p,"c",function(){return O}),i.d(p,"b",function(){return x}),i.d(p,"a",function(){return P});var s=i(10),y=function(k,N){var I=typeof Symbol=="function"&&k[Symbol.iterator];if(!I)return k;var X,V,F=I.call(k),K=[];try{for(;(N===void 0||N-- >0)&&!(X=F.next()).done;)K.push(X.value)}catch(J){V={error:J}}finally{try{X&&!X.done&&(I=F.return)&&I.call(F)}finally{if(V)throw V.error}}return K};function _(){var k=y(Object(s.j)(0),2)[1];return Object(s.h)(function(){k(function(N){return N+1})},[])}function O(k){if(!k||typeof k!="object")return!1;var N=Object.getPrototypeOf(k);return!N||N===Object.prototype}function x(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var j={};function P(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:j}}).call(this,i(82))},function(c,p,i){var f=i(90);c.exports=function(s){return f(s.length)}},function(c,p,i){var f=i(7),s=i(28),y=i(34),_=i(57),O=i(108),x=i(92),j=i(56),P=i(94).CONFIGURABLE,k=j.get,N=j.enforce,I=String(String).split("String");(c.exports=function(X,V,F,K){var J,Y=!!K&&!!K.unsafe,C=!!K&&!!K.enumerable,H=!!K&&!!K.noTargetGet,A=K&&K.name!==void 0?K.name:V;s(F)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(F,"name")||P&&F.name!==A)&&_(F,"name",A),(J=N(F)).source||(J.source=I.join(typeof A=="string"?A:""))),X!==f?(Y?!H&&X[V]&&(C=!0):delete X[V],C?X[V]=F:_(X,V,F)):C?X[V]=F:O(V,F)})(Function.prototype,"toString",function(){return s(this)&&k(this).source||x(this)})},function(c,p,i){var f=i(7).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,i){var f=i(7),s=i(28),y=function(_){return s(_)?_:void 0};c.exports=function(_,O){return arguments.length<2?y(f[_]):f[_]&&f[_][O]}},function(c,p,i){var f=i(16),s=i(35),y=i(33),_=i(32),O=i(199),x=i(51),j=i(96);f({target:"Reflect",stat:!0},{get:function P(k,N){var I,X,V=arguments.length<3?k:arguments[2];return _(k)===V?k[N]:(I=x.f(k,N))?O(I)?I.value:I.get===void 0?void 0:s(I.get,V):y(X=j(k))?P(X,N,V):void 0}})},function(c,p,i){(function(f){var s=i(30),y=i(165),_=h&&!h.nodeType&&h,O=_&&typeof f=="object"&&f&&!f.nodeType&&f,x=O&&O.exports===_?s.a.Buffer:void 0,j=(x?x.isBuffer:void 0)||y.a;p.a=j}).call(this,i(121)(c))},function(c,p,i){(function(f){var s=i(105),y=h&&!h.nodeType&&h,_=y&&typeof f=="object"&&f&&!f.nodeType&&f,O=_&&_.exports===y&&s.a.process,x=function(){try{var j=_&&_.require&&_.require("util").types;return j||O&&O.binding&&O.binding("util")}catch{}}();p.a=x}).call(this,i(121)(c))},function(c,p,i){var f=i(15),s=f({}.toString),y=f("".slice);c.exports=function(_){return y(s(_),8,-1)}},function(c,p,i){var f=i(36),s=i(35),y=i(93),_=i(71),O=i(39),x=i(87),j=i(34),P=i(129),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(N,I){if(N=O(N),I=x(I),P)try{return k(N,I)}catch{}if(j(N,I))return _(!s(y.f,N,I),N[I])}},function(c,p,i){var f=i(16),s=i(213).entries;f({target:"Object",stat:!0},{entries:function(y){return s(y)}})},function(c,p,i){var f=i(46);c.exports=f("navigator","userAgent")||""},function(c,p,i){var f,s=i(32),y=i(168),_=i(110),O=i(69),x=i(133),j=i(86),P=i(91),k=P("IE_PROTO"),N=function(){},I=function(F){return"<script>"+F+"<\/script>"},X=function(F){F.write(I("")),F.close();var K=F.parentWindow.Object;return F=null,K},V=function(){try{f=new ActiveXObject("htmlfile")}catch{}var F,K;V=typeof document!="undefined"?document.domain&&f?X(f):((K=j("iframe")).style.display="none",x.appendChild(K),K.src=String("javascript:"),(F=K.contentWindow.document).open(),F.write(I("document.F=Object")),F.close(),F.F):X(f);for(var J=_.length;J--;)delete V.prototype[_[J]];return V()};O[k]=!0,c.exports=Object.create||function(F,K){var J;return F!==null?(N.prototype=s(F),J=new N,N.prototype=null,J[k]=F):J=V(),K===void 0?J:y(J,K)}},function(c,p,i){var f=i(7),s=i(28),y=i(89),_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(y(O)+" is not a function")}},function(c,p,i){var f,s,y,_=i(170),O=i(7),x=i(15),j=i(33),P=i(57),k=i(34),N=i(107),I=i(91),X=i(69),V=O.TypeError,F=O.WeakMap;if(_||N.state){var K=N.state||(N.state=new F),J=x(K.get),Y=x(K.has),C=x(K.set);f=function(A,B){if(Y(K,A))throw new V("Object already initialized");return B.facade=A,C(K,A,B),B},s=function(A){return J(K,A)||{}},y=function(A){return Y(K,A)}}else{var H=I("state");X[H]=!0,f=function(A,B){if(k(A,H))throw new V("Object already initialized");return B.facade=A,P(A,H,B),B},s=function(A){return k(A,H)?A[H]:{}},y=function(A){return k(A,H)}}c.exports={set:f,get:s,has:y,enforce:function(A){return y(A)?s(A):f(A,{})},getterFor:function(A){return function(B){var G;if(!j(B)||(G=s(B)).type!==A)throw V("Incompatible receiver, "+A+" required");return G}}}},function(c,p,i){var f=i(36),s=i(37),y=i(71);c.exports=f?function(_,O,x){return s.f(_,O,y(1,x))}:function(_,O,x){return _[O]=x,_}},function(c,p,i){var f=i(15);c.exports=f({}.isPrototypeOf)},function(c,p,i){var f=i(55);c.exports=function(s,y){var _=s[y];return _==null?void 0:f(_)}},function(c,p,i){i(173)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},i(177))},function(c,p,i){var f=i(87),s=i(37),y=i(71);c.exports=function(_,O,x){var j=f(O);j in _?s.f(_,j,y(0,x)):_[j]=x}},function(c,p,i){var f=i(15),s=i(55),y=f(f.bind);c.exports=function(_,O){return s(_),O===void 0?_:y?y(_,O):function(){return _.apply(O,arguments)}}},function(c,p,i){var f=i(16),s=i(214),y=i(83);f({target:"Array",proto:!0},{fill:s}),y("fill")},function(c,p){c.exports=!1},function(c,p,i){var f,s,y=i(7),_=i(53),O=y.process,x=y.Deno,j=O&&O.versions||x&&x.version,P=j&&j.v8;P&&(s=(f=P.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&_&&(!(f=_.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=_.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,i){var f=i(131),s=i(110);c.exports=Object.keys||function(y){return f(y,s)}},function(c,p,i){var f=i(68),s=Math.max,y=Math.min;c.exports=function(_,O){var x=f(_);return x<0?s(x+O,0):y(x,O)}},function(c,p){var i=Math.ceil,f=Math.floor;c.exports=function(s){var y=+s;return y!=y||y===0?0:(y>0?f:i)(y)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(i,f){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:f}}},function(c,p,i){var f=i(131),s=i(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(y){return f(y,s)}},function(c,p,i){var f=i(37).f,s=i(34),y=i(27)("toStringTag");c.exports=function(_,O,x){_&&!s(_=x?_:_.prototype,y)&&f(_,y,{configurable:!0,value:O})}},function(c,p,i){var f=i(62),s=i(15),y=i(81),_=i(38),O=i(43),x=i(119),j=s([].push),P=function(k){var N=k==1,I=k==2,X=k==3,V=k==4,F=k==6,K=k==7,J=k==5||F;return function(Y,C,H,A){for(var B,G,R=_(Y),L=y(R),$=f(C,H),ue=O(L),fe=0,ge=A||x,ve=N?ge(Y,ue):I||K?ge(Y,0):void 0;ue>fe;fe++)if((J||fe in L)&&(G=$(B=L[fe],fe,R),k))if(N)ve[fe]=G;else if(G)switch(k){case 3:return!0;case 5:return B;case 6:return fe;case 2:j(ve,B)}else switch(k){case 4:return!1;case 7:j(ve,B)}return F?-1:X||V?V:ve}};c.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(c,p,i){var f=i(18),s=i(27),y=i(65),_=s("species");c.exports=function(O){return y>=51||!f(function(){var x=[];return(x.constructor={})[_]=function(){return{foo:1}},x[O](Boolean).foo!==1})}},function(c,p){var i=Function.prototype,f=i.apply,s=i.bind,y=i.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?y.bind(f):function(){return y.apply(f,arguments)})},function(c,p,i){var f=i(16),s=i(15),y=i(81),_=i(39),O=i(120),x=s([].join),j=y!=Object,P=O("join",",");f({target:"Array",proto:!0,forced:j||!P},{join:function(k){return x(_(this),k===void 0?",":k)}})},function(c,p,i){var f=i(76),s=i(35),y=i(15),_=i(122),O=i(154),x=i(32),j=i(45),P=i(156),k=i(123),N=i(90),I=i(40),X=i(59),V=i(113),F=i(124),K=i(102),J=i(151),Y=i(18),C=J.UNSUPPORTED_Y,H=Math.min,A=[].push,B=y(/./.exec),G=y(A),R=y("".slice);_("split",function(L,$,ue){var fe;return fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ge,ve){var pe=I(j(this)),se=ve===void 0?4294967295:ve>>>0;if(se===0)return[];if(ge===void 0)return[pe];if(!O(ge))return s($,pe,ge,se);for(var le,de,Ee,Te=[],De=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(ge.sticky?"y":""),ke=0,Ie=new RegExp(ge.source,De+"g");(le=s(K,Ie,pe))&&!((de=Ie.lastIndex)>ke&&(G(Te,R(pe,ke,le.index)),le.length>1&&le.index<pe.length&&f(A,Te,V(le,1)),Ee=le[0].length,ke=de,Te.length>=se));)Ie.lastIndex===le.index&&Ie.lastIndex++;return ke===pe.length?!Ee&&B(Ie,"")||G(Te,""):G(Te,R(pe,ke)),Te.length>se?V(Te,0,se):Te}:"0".split(void 0,0).length?function(ge,ve){return ge===void 0&&ve===0?[]:s($,this,ge,ve)}:$,[function(ge,ve){var pe=j(this),se=ge==null?void 0:X(ge,L);return se?s(se,ge,pe,ve):s(fe,I(pe),ge,ve)},function(ge,ve){var pe=x(this),se=I(ge),le=ue(fe,pe,se,ve,fe!==$);if(le.done)return le.value;var de=P(pe,RegExp),Ee=pe.unicode,Te=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(C?"g":"y"),De=new de(C?"^(?:"+pe.source+")":pe,Te),ke=ve===void 0?4294967295:ve>>>0;if(ke===0)return[];if(se.length===0)return F(De,se)===null?[se]:[];for(var Ie=0,et=0,Q=[];et<se.length;){De.lastIndex=C?0:et;var Z,oe=F(De,C?R(se,et):se);if(oe===null||(Z=H(N(De.lastIndex+(C?et:0)),se.length))===Ie)et=k(se,et,Ee);else{if(G(Q,R(se,Ie,et)),Q.length===ke)return Q;for(var me=1;me<=oe.length-1;me++)if(G(Q,oe[me]),Q.length===ke)return Q;et=Ie=Z}}return G(Q,R(se,Ie)),Q}]},!!Y(function(){var L=/(?:)/,$=L.exec;L.exec=function(){return $.apply(this,arguments)};var ue="ab".split(L);return ue.length!==2||ue[0]!=="a"||ue[1]!=="b"}),C)},function(c,p,i){var f=i(36),s=i(7),y=i(15),_=i(95),O=i(44),x=i(34),j=i(143),P=i(58),k=i(88),N=i(130),I=i(18),X=i(72).f,V=i(51).f,F=i(37).f,K=i(196),J=i(159).trim,Y=s.Number,C=Y.prototype,H=s.TypeError,A=y("".slice),B=y("".charCodeAt),G=function(ge){var ve=N(ge,"number");return typeof ve=="bigint"?ve:R(ve)},R=function(ge){var ve,pe,se,le,de,Ee,Te,De,ke=N(ge,"number");if(k(ke))throw H("Cannot convert a Symbol value to a number");if(typeof ke=="string"&&ke.length>2){if(ke=J(ke),(ve=B(ke,0))===43||ve===45){if((pe=B(ke,2))===88||pe===120)return NaN}else if(ve===48){switch(B(ke,1)){case 66:case 98:se=2,le=49;break;case 79:case 111:se=8,le=55;break;default:return+ke}for(Ee=(de=A(ke,2)).length,Te=0;Te<Ee;Te++)if((De=B(de,Te))<48||De>le)return NaN;return parseInt(de,se)}}return+ke};if(_("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var L,$=function(ge){var ve=arguments.length<1?0:Y(G(ge)),pe=this;return P(C,pe)&&I(function(){K(pe)})?j(Object(ve),pe,$):ve},ue=f?X(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),fe=0;ue.length>fe;fe++)x(Y,L=ue[fe])&&!x($,L)&&F($,L,V(Y,L));$.prototype=C,C.constructor=$,O(s,"Number",$)}},function(c,p,i){i(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,i){var f=i(7),s=i(15),y=i(18),_=i(50),O=f.Object,x=s("".split);c.exports=y(function(){return!O("z").propertyIsEnumerable(0)})?function(j){return _(j)=="String"?x(j,""):O(j)}:O},function(c,p){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}c.exports=i},function(c,p,i){var f=i(27),s=i(54),y=i(37),_=f("unscopables"),O=Array.prototype;O[_]==null&&y.f(O,_,{configurable:!0,value:s(null)}),c.exports=function(x){O[_][x]=!0}},function(c,p,i){var f=i(64),s=i(107);(c.exports=function(y,_){return s[y]||(s[y]=_!==void 0?_:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,i){var f=i(15),s=0,y=Math.random(),_=f(1 .toString);c.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+_(++s+y,36)}},function(c,p,i){var f=i(7),s=i(33),y=f.document,_=s(y)&&s(y.createElement);c.exports=function(O){return _?y.createElement(O):{}}},function(c,p,i){var f=i(130),s=i(88);c.exports=function(y){var _=f(y,"string");return s(_)?_:_+""}},function(c,p,i){var f=i(7),s=i(46),y=i(28),_=i(58),O=i(128),x=f.Object;c.exports=O?function(j){return typeof j=="symbol"}:function(j){var P=s("Symbol");return y(P)&&_(P.prototype,x(j))}},function(c,p,i){var f=i(7).String;c.exports=function(s){try{return f(s)}catch{return"Object"}}},function(c,p,i){var f=i(68),s=Math.min;c.exports=function(y){return y>0?s(f(y),9007199254740991):0}},function(c,p,i){var f=i(84),s=i(85),y=f("keys");c.exports=function(_){return y[_]||(y[_]=s(_))}},function(c,p,i){var f=i(15),s=i(28),y=i(107),_=f(Function.toString);s(y.inspectSource)||(y.inspectSource=function(O){return _(O)}),c.exports=y.inspectSource},function(c,p,i){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,y=s&&!f.call({1:2},1);p.f=y?function(_){var O=s(this,_);return!!O&&O.enumerable}:f},function(c,p,i){var f=i(36),s=i(34),y=Function.prototype,_=f&&Object.getOwnPropertyDescriptor,O=s(y,"name"),x=O&&function(){}.name==="something",j=O&&(!f||f&&_(y,"name").configurable);c.exports={EXISTS:O,PROPER:x,CONFIGURABLE:j}},function(c,p,i){var f=i(18),s=i(28),y=/#|\.prototype\./,_=function(k,N){var I=x[O(k)];return I==P||I!=j&&(s(N)?f(N):!!N)},O=_.normalize=function(k){return String(k).replace(y,".").toLowerCase()},x=_.data={},j=_.NATIVE="N",P=_.POLYFILL="P";c.exports=_},function(c,p,i){var f=i(7),s=i(34),y=i(28),_=i(38),O=i(91),x=i(137),j=O("IE_PROTO"),P=f.Object,k=P.prototype;c.exports=x?P.getPrototypeOf:function(N){var I=_(N);if(s(I,j))return I[j];var X=I.constructor;return y(X)&&I instanceof X?X.prototype:I instanceof P?k:null}},function(c,p,i){var f=i(15),s=i(32),y=i(172);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,O=!1,x={};try{(_=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x,[]),O=x instanceof Array}catch{}return function(j,P){return s(j),y(P),O?_(j,P):j.__proto__=P,j}}():void 0)},function(c,p,i){var f=i(7),s=i(116),y=i(28),_=i(50),O=i(27)("toStringTag"),x=f.Object,j=_(function(){return arguments}())=="Arguments";c.exports=s?_:function(P){var k,N,I;return P===void 0?"Undefined":P===null?"Null":typeof(N=function(X,V){try{return X[V]}catch{}}(k=x(P),O))=="string"?N:j?_(k):(I=_(k))=="Object"&&y(k.callee)?"Arguments":I}},function(c,p,i){var f=i(50);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,i){var f=i(15),s=i(18),y=i(28),_=i(98),O=i(46),x=i(92),j=function(){},P=[],k=O("Reflect","construct"),N=/^\s*(?:class|function)\b/,I=f(N.exec),X=!N.exec(j),V=function(F){if(!y(F))return!1;try{return k(j,P,F),!0}catch{return!1}};c.exports=!k||s(function(){var F;return V(V.call)||!V(Object)||!V(function(){F=!0})||F})?function(F){if(!y(F))return!1;switch(_(F)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return X||!!I(N,x(F))}:V},function(c,p,i){var f=i(15);c.exports=f([].slice)},function(c,p,i){var f,s,y=i(35),_=i(15),O=i(40),x=i(184),j=i(151),P=i(84),k=i(54),N=i(56).get,I=i(185),X=i(186),V=P("native-string-replace",String.prototype.replace),F=RegExp.prototype.exec,K=F,J=_("".charAt),Y=_("".indexOf),C=_("".replace),H=_("".slice),A=(s=/b*/g,y(F,f=/a/,"a"),y(F,s,"a"),f.lastIndex!==0||s.lastIndex!==0),B=j.BROKEN_CARET,G=/()??/.exec("")[1]!==void 0;(A||G||B||I||X)&&(K=function(R){var L,$,ue,fe,ge,ve,pe,se=this,le=N(se),de=O(R),Ee=le.raw;if(Ee)return Ee.lastIndex=se.lastIndex,L=y(K,Ee,de),se.lastIndex=Ee.lastIndex,L;var Te=le.groups,De=B&&se.sticky,ke=y(x,se),Ie=se.source,et=0,Q=de;if(De&&(ke=C(ke,"y",""),Y(ke,"g")===-1&&(ke+="g"),Q=H(de,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&J(de,se.lastIndex-1)!==`
`)&&(Ie="(?: "+Ie+")",Q=" "+Q,et++),$=new RegExp("^(?:"+Ie+")",ke)),G&&($=new RegExp("^"+Ie+"$(?!\\s)",ke)),A&&(ue=se.lastIndex),fe=y(F,De?$:se,Q),De?fe?(fe.input=H(fe.input,et),fe[0]=H(fe[0],et),fe.index=se.lastIndex,se.lastIndex+=fe[0].length):se.lastIndex=0:A&&fe&&(se.lastIndex=se.global?fe.index+fe[0].length:ue),G&&fe&&fe.length>1&&y(V,fe[0],$,function(){for(ge=1;ge<arguments.length-2;ge++)arguments[ge]===void 0&&(fe[ge]=void 0)}),fe&&Te)for(fe.groups=ve=k(null),ge=0;ge<Te.length;ge++)ve[(pe=Te[ge])[0]]=fe[pe[1]];return fe}),c.exports=K},function(c,p,i){var f=i(16),s=i(7),y=i(67),_=i(68),O=i(43),x=i(38),j=i(119),P=i(61),k=i(75)("splice"),N=s.TypeError,I=Math.max,X=Math.min;f({target:"Array",proto:!0,forced:!k},{splice:function(V,F){var K,J,Y,C,H,A,B=x(this),G=O(B),R=y(V,G),L=arguments.length;if(L===0?K=J=0:L===1?(K=0,J=G-R):(K=L-2,J=X(I(_(F),0),G-R)),G+K-J>9007199254740991)throw N("Maximum allowed length exceeded");for(Y=j(B,J),C=0;C<J;C++)(H=R+C)in B&&P(Y,C,B[H]);if(Y.length=J,K<J){for(C=R;C<G-J;C++)A=C+K,(H=C+J)in B?B[A]=B[H]:delete B[A];for(C=G;C>G-J+K;C--)delete B[C-1]}else if(K>J)for(C=G-J;C>R;C--)A=C+K-1,(H=C+J-1)in B?B[A]=B[H]:delete B[A];for(C=0;C<K;C++)B[C+R]=arguments[C+2];return B.length=G-J+K,Y}})},function(c,p,i){var f=i(16),s=i(201);f({target:"String",proto:!0,forced:i(202)("anchor")},{anchor:function(y){return s(this,"a","name",y)}})},function(c,p,i){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,i(82))},function(c,p,i){(function(f){var s=i(30),y=h&&!h.nodeType&&h,_=y&&typeof f=="object"&&f&&!f.nodeType&&f,O=_&&_.exports===y?s.a.Buffer:void 0,x=O?O.allocUnsafe:void 0;p.a=function(j,P){if(P)return j.slice();var k=j.length,N=x?x(k):new j.constructor(k);return j.copy(N),N}}).call(this,i(121)(c))},function(c,p,i){var f=i(7),s=i(108),y=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=y},function(c,p,i){var f=i(7),s=Object.defineProperty;c.exports=function(y,_){try{s(f,y,{value:_,configurable:!0,writable:!0})}catch{f[y]=_}return _}},function(c,p,i){var f=i(65),s=i(18);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,i){var f=i(16),s=i(35),y=i(64),_=i(94),O=i(28),x=i(171),j=i(96),P=i(97),k=i(73),N=i(57),I=i(44),X=i(27),V=i(70),F=i(136),K=_.PROPER,J=_.CONFIGURABLE,Y=F.IteratorPrototype,C=F.BUGGY_SAFARI_ITERATORS,H=X("iterator"),A=function(){return this};c.exports=function(B,G,R,L,$,ue,fe){x(R,G,L);var ge,ve,pe,se=function(Ie){if(Ie===$&&De)return De;if(!C&&Ie in Ee)return Ee[Ie];switch(Ie){case"keys":case"values":case"entries":return function(){return new R(this,Ie)}}return function(){return new R(this)}},le=G+" Iterator",de=!1,Ee=B.prototype,Te=Ee[H]||Ee["@@iterator"]||$&&Ee[$],De=!C&&Te||se($),ke=G=="Array"&&Ee.entries||Te;if(ke&&(ge=j(ke.call(new B)))!==Object.prototype&&ge.next&&(y||j(ge)===Y||(P?P(ge,Y):O(ge[H])||I(ge,H,A)),k(ge,le,!0,!0),y&&(V[le]=A)),K&&$=="values"&&Te&&Te.name!=="values"&&(!y&&J?N(Ee,"name","values"):(de=!0,De=function(){return s(Te,this)})),$)if(ve={values:se("values"),keys:ue?De:se("keys"),entries:se("entries")},fe)for(pe in ve)(C||de||!(pe in Ee))&&I(Ee,pe,ve[pe]);else f({target:G,proto:!0,forced:C||de},ve);return y&&!fe||Ee[H]===De||I(Ee,H,De,{name:$}),V[G]=De,ve}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,i){var f=i(7),s=i(67),y=i(43),_=i(61),O=f.Array,x=Math.max;c.exports=function(j,P,k){for(var N=y(j),I=s(P,N),X=s(k===void 0?N:k,N),V=O(x(X-I,0)),F=0;I<X;I++,F++)_(V,F,j[I]);return V.length=F,V}},function(c,p,i){var f=i(7),s=i(62),y=i(35),_=i(32),O=i(89),x=i(140),j=i(43),P=i(58),k=i(141),N=i(115),I=i(142),X=f.TypeError,V=function(K,J){this.stopped=K,this.result=J},F=V.prototype;c.exports=function(K,J,Y){var C,H,A,B,G,R,L,$=Y&&Y.that,ue=!(!Y||!Y.AS_ENTRIES),fe=!(!Y||!Y.IS_ITERATOR),ge=!(!Y||!Y.INTERRUPTED),ve=s(J,$),pe=function(le){return C&&I(C,"normal",le),new V(!0,le)},se=function(le){return ue?(_(le),ge?ve(le[0],le[1],pe):ve(le[0],le[1])):ge?ve(le,pe):ve(le)};if(fe)C=K;else{if(!(H=N(K)))throw X(O(K)+" is not iterable");if(x(H)){for(A=0,B=j(K);B>A;A++)if((G=se(K[A]))&&P(F,G))return G;return new V(!1)}C=k(K,H)}for(R=C.next;!(L=y(R,C)).done;){try{G=se(L.value)}catch(le){I(C,"throw",le)}if(typeof G=="object"&&G&&P(F,G))return G}return new V(!1)}},function(c,p,i){var f=i(98),s=i(59),y=i(70),_=i(27)("iterator");c.exports=function(O){if(O!=null)return s(O,_)||s(O,"@@iterator")||y[f(O)]}},function(c,p,i){var f={};f[i(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,i){var f=i(7),s=i(58),y=f.TypeError;c.exports=function(_,O){if(s(O,_))return _;throw y("Incorrect invocation")}},function(c,p,i){var f=i(27)("iterator"),s=!1;try{var y=0,_={next:function(){return{done:!!y++}},return:function(){s=!0}};_[f]=function(){return this},Array.from(_,function(){throw 2})}catch{}c.exports=function(O,x){if(!x&&!s)return!1;var j=!1;try{var P={};P[f]=function(){return{next:function(){return{done:j=!0}}}},O(P)}catch{}return j}},function(c,p,i){var f=i(180);c.exports=function(s,y){return new(f(s))(y===0?0:y)}},function(c,p,i){var f=i(18);c.exports=function(s,y){var _=[][s];return!!_&&f(function(){_.call(null,y||function(){throw 1},1)})}},function(c,p){c.exports=function(i){if(!i.webpackPolyfill){var f=Object.create(i);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,i){i(19);var f=i(15),s=i(44),y=i(102),_=i(18),O=i(27),x=i(57),j=O("species"),P=RegExp.prototype;c.exports=function(k,N,I,X){var V=O(k),F=!_(function(){var C={};return C[V]=function(){return 7},""[k](C)!=7}),K=F&&!_(function(){var C=!1,H=/a/;return k==="split"&&((H={}).constructor={},H.constructor[j]=function(){return H},H.flags="",H[V]=/./[V]),H.exec=function(){return C=!0,null},H[V](""),!C});if(!F||!K||I){var J=f(/./[V]),Y=N(V,""[k],function(C,H,A,B,G){var R=f(C),L=H.exec;return L===y||L===P.exec?F&&!G?{done:!0,value:J(H,A,B)}:{done:!0,value:R(A,H,B)}:{done:!1}});s(String.prototype,k,Y[0]),s(P,V,Y[1])}X&&x(P[V],"sham",!0)}},function(c,p,i){var f=i(146).charAt;c.exports=function(s,y,_){return y+(_?f(s,y).length:1)}},function(c,p,i){var f=i(7),s=i(35),y=i(32),_=i(28),O=i(50),x=i(102),j=f.TypeError;c.exports=function(P,k){var N=P.exec;if(_(N)){var I=s(N,P,k);return I!==null&&y(I),I}if(O(P)==="RegExp")return s(x,P,k);throw j("RegExp#exec called on incompatible receiver")}},function(c,p,i){var f=i(76),s=i(35),y=i(15),_=i(122),O=i(18),x=i(32),j=i(28),P=i(68),k=i(90),N=i(40),I=i(45),X=i(123),V=i(59),F=i(197),K=i(124),J=i(27)("replace"),Y=Math.max,C=Math.min,H=y([].concat),A=y([].push),B=y("".indexOf),G=y("".slice),R="a".replace(/./,"$0")==="$0",L=!!/./[J]&&/./[J]("a","$0")==="";_("replace",function($,ue,fe){var ge=L?"$":"$0";return[function(ve,pe){var se=I(this),le=ve==null?void 0:V(ve,J);return le?s(le,ve,se,pe):s(ue,N(se),ve,pe)},function(ve,pe){var se=x(this),le=N(ve);if(typeof pe=="string"&&B(pe,ge)===-1&&B(pe,"$<")===-1){var de=fe(ue,se,le,pe);if(de.done)return de.value}var Ee=j(pe);Ee||(pe=N(pe));var Te=se.global;if(Te){var De=se.unicode;se.lastIndex=0}for(var ke=[];;){var Ie=K(se,le);if(Ie===null||(A(ke,Ie),!Te))break;N(Ie[0])===""&&(se.lastIndex=X(le,k(se.lastIndex),De))}for(var et,Q="",Z=0,oe=0;oe<ke.length;oe++){for(var me=N((Ie=ke[oe])[0]),Me=Y(C(P(Ie.index),le.length),0),we=[],$e=1;$e<Ie.length;$e++)A(we,(et=Ie[$e])===void 0?et:String(et));var Ye=Ie.groups;if(Ee){var tt=H([me],we,Me,le);Ye!==void 0&&A(tt,Ye);var Ze=N(f(pe,void 0,tt))}else Ze=F(me,le,Me,we,Ye,pe);Me>=Z&&(Q+=G(le,Z,Me)+Ze,Z=Me+me.length)}return Q+G(le,Z)}]},!!O(function(){var $=/./;return $.exec=function(){var ue=[];return ue.groups={a:"7"},ue},"".replace($,"$<a>")!=="7"})||!R||L)},function(c,p,i){var f=i(50),s=i(7);c.exports=f(s.process)=="process"},function(c,p,i){i(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,i){var f=i(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,i){var f=i(36),s=i(18),y=i(86);c.exports=!f&&!s(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,i){var f=i(7),s=i(35),y=i(33),_=i(88),O=i(59),x=i(169),j=i(27),P=f.TypeError,k=j("toPrimitive");c.exports=function(N,I){if(!y(N)||_(N))return N;var X,V=O(N,k);if(V){if(I===void 0&&(I="default"),X=s(V,N,I),!y(X)||_(X))return X;throw P("Can't convert object to primitive value")}return I===void 0&&(I="number"),x(N,I)}},function(c,p,i){var f=i(15),s=i(34),y=i(39),_=i(132).indexOf,O=i(69),x=f([].push);c.exports=function(j,P){var k,N=y(j),I=0,X=[];for(k in N)!s(O,k)&&s(N,k)&&x(X,k);for(;P.length>I;)s(N,k=P[I++])&&(~_(X,k)||x(X,k));return X}},function(c,p,i){var f=i(39),s=i(67),y=i(43),_=function(O){return function(x,j,P){var k,N=f(x),I=y(N),X=s(P,I);if(O&&j!=j){for(;I>X;)if((k=N[X++])!=k)return!0}else for(;I>X;X++)if((O||X in N)&&N[X]===j)return O||X||0;return!O&&-1}};c.exports={includes:_(!0),indexOf:_(!1)}},function(c,p,i){var f=i(46);c.exports=f("document","documentElement")},function(c,p,i){var f=i(34),s=i(135),y=i(51),_=i(37);c.exports=function(O,x){for(var j=s(x),P=_.f,k=y.f,N=0;N<j.length;N++){var I=j[N];f(O,I)||P(O,I,k(x,I))}}},function(c,p,i){var f=i(46),s=i(15),y=i(72),_=i(112),O=i(32),x=s([].concat);c.exports=f("Reflect","ownKeys")||function(j){var P=y.f(O(j)),k=_.f;return k?x(P,k(j)):P}},function(c,p,i){var f,s,y,_=i(18),O=i(28),x=i(54),j=i(96),P=i(44),k=i(27),N=i(64),I=k("iterator"),X=!1;[].keys&&("next"in(y=[].keys())?(s=j(j(y)))!==Object.prototype&&(f=s):X=!0),f==null||_(function(){var V={};return f[I].call(V)!==V})?f={}:N&&(f=x(f)),O(f[I])||P(f,I,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:X}},function(c,p,i){var f=i(18);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,i){var f=i(16),s=i(15),y=i(69),_=i(33),O=i(34),x=i(37).f,j=i(72),P=i(139),k=i(174),N=i(85),I=i(176),X=!1,V=N("meta"),F=0,K=function(Y){x(Y,V,{value:{objectID:"O"+F++,weakData:{}}})},J=c.exports={enable:function(){J.enable=function(){},X=!0;var Y=j.f,C=s([].splice),H={};H[V]=1,Y(H).length&&(j.f=function(A){for(var B=Y(A),G=0,R=B.length;G<R;G++)if(B[G]===V){C(B,G,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(Y,C){if(!_(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!O(Y,V)){if(!k(Y))return"F";if(!C)return"E";K(Y)}return Y[V].objectID},getWeakData:function(Y,C){if(!O(Y,V)){if(!k(Y))return!0;if(!C)return!1;K(Y)}return Y[V].weakData},onFreeze:function(Y){return I&&X&&k(Y)&&!O(Y,V)&&K(Y),Y}};y[V]=!0},function(c,p,i){var f=i(50),s=i(39),y=i(72).f,_=i(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(x){return O&&f(x)=="Window"?function(j){try{return y(j)}catch{return _(O)}}(x):y(s(x))}},function(c,p,i){var f=i(27),s=i(70),y=f("iterator"),_=Array.prototype;c.exports=function(O){return O!==void 0&&(s.Array===O||_[y]===O)}},function(c,p,i){var f=i(7),s=i(35),y=i(55),_=i(32),O=i(89),x=i(115),j=f.TypeError;c.exports=function(P,k){var N=arguments.length<2?x(P):k;if(y(N))return _(s(N,P));throw j(O(P)+" is not iterable")}},function(c,p,i){var f=i(35),s=i(32),y=i(59);c.exports=function(_,O,x){var j,P;s(_);try{if(!(j=y(_,"return"))){if(O==="throw")throw x;return x}j=f(j,_)}catch(k){P=!0,j=k}if(O==="throw")throw x;if(P)throw j;return s(j),x}},function(c,p,i){var f=i(28),s=i(33),y=i(97);c.exports=function(_,O,x){var j,P;return y&&f(j=O.constructor)&&j!==x&&s(P=j.prototype)&&P!==x.prototype&&y(_,P),_}},function(c,p,i){var f=i(44);c.exports=function(s,y,_){for(var O in y)f(s,O,y[O],_);return s}},function(c,p,i){var f=i(46),s=i(37),y=i(27),_=i(36),O=y("species");c.exports=function(x){var j=f(x),P=s.f;_&&j&&!j[O]&&P(j,O,{configurable:!0,get:function(){return this}})}},function(c,p,i){var f=i(15),s=i(68),y=i(40),_=i(45),O=f("".charAt),x=f("".charCodeAt),j=f("".slice),P=function(k){return function(N,I){var X,V,F=y(_(N)),K=s(I),J=F.length;return K<0||K>=J?k?"":void 0:(X=x(F,K))<55296||X>56319||K+1===J||(V=x(F,K+1))<56320||V>57343?k?O(F,K):X:k?j(F,K,K+2):V-56320+(X-55296<<10)+65536}};c.exports={codeAt:P(!1),charAt:P(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,i){var f=i(86)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,i){var f=i(27);p.f=f},function(c,p,i){var f=i(181),s=i(34),y=i(149),_=i(37).f;c.exports=function(O){var x=f.Symbol||(f.Symbol={});s(x,O)||_(x,O,{value:y.f(O)})}},function(c,p,i){var f=i(18),s=i(7).RegExp,y=f(function(){var x=s("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),_=y||f(function(){return!s("a","y").sticky}),O=y||f(function(){var x=s("^r","gy");return x.lastIndex=2,x.exec("str")!=null});c.exports={BROKEN_CARET:O,MISSED_STICKY:_,UNSUPPORTED_Y:y}},function(c,p,i){var f=i(16),s=i(132).includes,y=i(83);f({target:"Array",proto:!0},{includes:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(c,p,i){var f=i(16),s=i(15),y=i(193),_=i(45),O=i(40),x=i(194),j=s("".indexOf);f({target:"String",proto:!0,forced:!x("includes")},{includes:function(P){return!!~j(O(_(this)),O(y(P)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(33),s=i(50),y=i(27)("match");c.exports=function(_){var O;return f(_)&&((O=_[y])!==void 0?!!O:s(_)=="RegExp")}},function(c,p){var i,f,s=c.exports={};function y(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function O(F){if(i===setTimeout)return setTimeout(F,0);if((i===y||!i)&&setTimeout)return i=setTimeout,setTimeout(F,0);try{return i(F,0)}catch{try{return i.call(null,F,0)}catch{return i.call(this,F,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:y}catch{i=y}try{f=typeof clearTimeout=="function"?clearTimeout:_}catch{f=_}})();var x,j=[],P=!1,k=-1;function N(){P&&x&&(P=!1,x.length?j=x.concat(j):k=-1,j.length&&I())}function I(){if(!P){var F=O(N);P=!0;for(var K=j.length;K;){for(x=j,j=[];++k<K;)x&&x[k].run();k=-1,K=j.length}x=null,P=!1,function(J){if(f===clearTimeout)return clearTimeout(J);if((f===_||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(J);try{f(J)}catch{try{return f.call(null,J)}catch{return f.call(this,J)}}}(F)}}function X(F,K){this.fun=F,this.array=K}function V(){}s.nextTick=function(F){var K=new Array(arguments.length-1);if(arguments.length>1)for(var J=1;J<arguments.length;J++)K[J-1]=arguments[J];j.push(new X(F,K)),j.length!==1||P||O(I)},X.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=V,s.addListener=V,s.once=V,s.off=V,s.removeListener=V,s.removeAllListeners=V,s.emit=V,s.prependListener=V,s.prependOnceListener=V,s.listeners=function(F){return[]},s.binding=function(F){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(F){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,i){var f=i(32),s=i(157),y=i(27)("species");c.exports=function(_,O){var x,j=f(_).constructor;return j===void 0||(x=f(j)[y])==null?O:s(x)}},function(c,p,i){var f=i(7),s=i(100),y=i(89),_=f.TypeError;c.exports=function(O){if(s(O))return O;throw _(y(O)+" is not a constructor")}},function(c,p,i){var f=i(16),s=i(159).trim;f({target:"String",proto:!0,forced:i(195)("trim")},{trim:function(){return s(this)}})},function(c,p,i){var f=i(15),s=i(45),y=i(40),_=i(160),O=f("".replace),x="["+_+"]",j=RegExp("^"+x+x+"*"),P=RegExp(x+x+"*$"),k=function(N){return function(I){var X=y(s(I));return 1&N&&(X=O(X,j,"")),2&N&&(X=O(X,P,"")),X}};c.exports={start:k(1),end:k(2),trim:k(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,i){var f=i(35),s=i(122),y=i(32),_=i(90),O=i(40),x=i(45),j=i(59),P=i(123),k=i(124);s("match",function(N,I,X){return[function(V){var F=x(this),K=V==null?void 0:j(V,N);return K?f(K,V,F):new RegExp(V)[N](O(F))},function(V){var F=y(this),K=O(V),J=X(I,F,K);if(J.done)return J.value;if(!F.global)return k(F,K);var Y=F.unicode;F.lastIndex=0;for(var C,H=[],A=0;(C=k(F,K))!==null;){var B=O(C[0]);H[A]=B,B===""&&(F.lastIndex=P(K,_(F.lastIndex),Y)),A++}return A===0?null:H}]})},function(c,p,i){var f,s,y,_,O=i(7),x=i(76),j=i(62),P=i(28),k=i(34),N=i(18),I=i(133),X=i(101),V=i(86),F=i(163),K=i(126),J=O.setImmediate,Y=O.clearImmediate,C=O.process,H=O.Dispatch,A=O.Function,B=O.MessageChannel,G=O.String,R=0,L={};try{f=O.location}catch{}var $=function(ve){if(k(L,ve)){var pe=L[ve];delete L[ve],pe()}},ue=function(ve){return function(){$(ve)}},fe=function(ve){$(ve.data)},ge=function(ve){O.postMessage(G(ve),f.protocol+"//"+f.host)};J&&Y||(J=function(ve){var pe=X(arguments,1);return L[++R]=function(){x(P(ve)?ve:A(ve),void 0,pe)},s(R),R},Y=function(ve){delete L[ve]},K?s=function(ve){C.nextTick(ue(ve))}:H&&H.now?s=function(ve){H.now(ue(ve))}:B&&!F?(_=(y=new B).port2,y.port1.onmessage=fe,s=j(_.postMessage,_)):O.addEventListener&&P(O.postMessage)&&!O.importScripts&&f&&f.protocol!=="file:"&&!N(ge)?(s=ge,O.addEventListener("message",fe,!1)):s="onreadystatechange"in V("script")?function(ve){I.appendChild(V("script")).onreadystatechange=function(){I.removeChild(this),$(ve)}}:function(ve){setTimeout(ue(ve),0)}),c.exports={set:J,clear:Y}},function(c,p,i){var f=i(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,i){var f=i(55),s=function(y){var _,O;this.promise=new y(function(x,j){if(_!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");_=x,O=j}),this.resolve=f(_),this.reject=f(O)};c.exports.f=function(y){return new s(y)}},function(c,p,i){p.a=function(){return!1}},function(c,p,i){(function(f){i.d(p,"a",function(){return K});var s=i(0);function y(C){throw new Error("[mobx-utils] "+C)}function _(C,H){H===void 0&&(H="Illegal state"),C||y(H)}var O=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(O(Object.getPrototypeOf(C))||[])},x=function(C){return function(H){var A=O(H);return A.filter(function(B,G){return A.indexOf(B)===G})}(C).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})};function j(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function P(C,H){if(_(arguments.length<=2,"fromPromise expects up to two arguments"),_(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var A=C;C.then(Object(s.k)("observableFromPromise-resolve",function(G){A.value=G,A.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(G){A.value=G,A.state="rejected"})),A.isPromiseBasedObservable=!0,A.case=j;var B=H&&H.state==="fulfilled"?H.value:void 0;return Object(s.q)(A,{value:B,state:"pending"},{},{deep:!1}),A}(function(C){C.reject=Object(s.k)("fromPromise.reject",function(H){var A=C(Promise.reject(H));return A.state="rejected",A.value=H,A}),C.resolve=Object(s.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var A=C(Promise.resolve(H));return A.state="fulfilled",A.value=H,A})})(P||(P={}));var k=function(C,H,A,B){var G,R=arguments.length,L=R<3?H:B===null?B=Object.getOwnPropertyDescriptor(H,A):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,H,A,B);else for(var $=C.length-1;$>=0;$--)(G=C[$])&&(L=(R<3?G(L):R>3?G(H,A,L):G(H,A))||L);return R>3&&L&&Object.defineProperty(H,A,L),L};(function(){function C(H,A){var B=this;Object(s.G)(function(){B.current=A,B.subscription=H.subscribe(B)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(H){this.current=H},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(H){this.current=H,this.dispose()},k([s.C.ref],C.prototype,"current",void 0),k([s.k.bound],C.prototype,"next",null),k([s.k.bound],C.prototype,"complete",null),k([s.k.bound],C.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(C){for(var H,A=1,B=arguments.length;A<B;A++)for(var G in H=arguments[A])Object.prototype.hasOwnProperty.call(H,G)&&(C[G]=H[G]);return C}).apply(this,arguments)},I=function(C,H,A,B){var G,R=arguments.length,L=R<3?H:B===null?B=Object.getOwnPropertyDescriptor(H,A):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,H,A,B);else for(var $=C.length-1;$>=0;$--)(G=C[$])&&(L=(R<3?G(L):R>3?G(H,A,L):G(H,A))||L);return R>3&&L&&Object.defineProperty(H,A,L),L},X=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(H){var A=this;this.model=H,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(B){return A.localValues.has(B)},_(Object(s.A)(H),"createViewModel expects an observable object"),x(H).forEach(function(B){if(B!==s.a&&B!=="__mobxDidRunLazyInitializers"){if(_(X.indexOf(B)===-1,"The propertyname "+B+" is reserved and cannot be used with viewModels"),Object(s.w)(H,B)){var G=Object(s.h)(H,B).derivation;A.localComputedValues.set(B,Object(s.m)(G.bind(A)))}var R=Object.getOwnPropertyDescriptor(H,B),L=R?{enumerable:R.enumerable}:{};Object.defineProperty(A,B,N(N({},L),{configurable:!0,get:function(){return Object(s.w)(H,B)?A.localComputedValues.get(B).get():A.isPropertyDirty(B)?A.localValues.get(B):A.model[B]},set:Object(s.k)(function($){$!==A.model[B]?A.localValues.set(B,$):A.localValues.delete(B)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var H=this;Object(s.B)(this.localValues).forEach(function(A){var B=H.localValues.get(A),G=H.model[A];Object(s.y)(G)?G.replace(B):Object(s.z)(G)?(G.clear(),G.merge(B)):Object(s.v)(B)||(H.model[A]=B)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(H){this.localValues.delete(H)},I([s.m],C.prototype,"isDirty",null),I([s.m],C.prototype,"changedValues",null),I([s.k.bound],C.prototype,"submit",null),I([s.k.bound],C.prototype,"reset",null),I([s.k.bound],C.prototype,"resetProperty",null)})();function V(C){if(!C)return"ROOT";for(var H=[];C.parent;)H.push(C.path),C=C.parent;return H.reverse().join("/")}function F(C){return Object(s.A)(C)||Object(s.y)(C)||Object(s.z)(C)}function K(C,H){var A=new WeakMap;function B(L){var $=A.get(L.object);(function(ue,fe){switch(ue.type){case"add":G(ue.newValue,fe,ue.name);break;case"update":R(ue.oldValue),G(ue.newValue,fe,ue.name||""+ue.index);break;case"remove":case"delete":R(ue.oldValue);break;case"splice":ue.removed.map(R),ue.added.forEach(function(pe,se){return G(pe,fe,""+(ue.index+se))});for(var ge=ue.index+ue.addedCount;ge<ue.object.length;ge++)if(F(ue.object[ge])){var ve=A.get(ue.object[ge]);ve&&(ve.path=""+ge)}}})(L,$),H(L,V($),C)}function G(L,$,ue){if(F(L)){var fe=A.get(L);if(fe){if(fe.parent!==$||fe.path!==ue)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+V($)+"/"+ue+"', but it already exists at '"+V(fe.parent)+"/"+fe.path+"'")}else{var ge={parent:$,path:ue,dispose:Object(s.D)(L,B)};A.set(L,ge),Object(s.p)(L).forEach(function(ve){var pe=ve[0];return G(ve[1],ge,pe)})}}}function R(L){if(F(L)){var $=A.get(L);if(!$)return;A.delete(L),$.dispose(),Object(s.L)(L).forEach(R)}}return G(C,void 0,""),function(){R(C)}}var J,Y=(J=function(C,H){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,B){A.__proto__=B}||function(A,B){for(var G in B)B.hasOwnProperty(G)&&(A[G]=B[G])})(C,H)},function(C,H){function A(){this.constructor=C}J(C,H),C.prototype=H===null?Object.create(H):(A.prototype=H.prototype,new A)});(function(C){function H(A,B,G){var R=G===void 0?{}:G,L=R.name,$=L===void 0?"ogm"+(1e3*Math.random()|0):L,ue=R.keyToName,fe=ue===void 0?function(pe){return""+pe}:ue,ge=C.call(this)||this;ge._keyToName=fe,ge._groupBy=B,ge._ogmInfoKey=Symbol("ogmInfo"+$),ge._base=A;for(var ve=0;ve<A.length;ve++)ge._addItem(A[ve]);return ge._disposeBaseObserver=Object(s.D)(ge._base,function(pe){if(pe.type==="splice")Object(s.J)(function(){for(var se=0,le=pe.removed;se<le.length;se++){var de=le[se];ge._removeItem(de)}for(var Ee=0,Te=pe.added;Ee<Te.length;Ee++){var De=Te[Ee];ge._addItem(De)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){ge._removeItem(pe.oldValue),ge._addItem(pe.newValue)})}}),ge}Y(H,C),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(A){throw new Error("not supported")},H.prototype.set=function(A,B){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var A=0;A<this._base.length;A++){var B=this._base[A];B[this._ogmInfoKey].reaction(),delete B[this._ogmInfoKey]}},H.prototype._getGroupArr=function(A){var B=C.prototype.get.call(this,A);return B===void 0&&(B=Object(s.C)([],{name:"GroupArray["+this._keyToName(A)+"]",deep:!1}),C.prototype.set.call(this,A,B)),B},H.prototype._removeFromGroupArr=function(A,B){var G=C.prototype.get.call(this,A);G.length===1?C.prototype.delete.call(this,A):(B===G.length-1||(G[B]=G[G.length-1],G[B][this._ogmInfoKey].groupArrIndex=B),G.length--)},H.prototype._addItem=function(A){var B=this,G=this._groupBy(A),R=this._getGroupArr(G),L={groupByValue:G,groupArrIndex:R.length,reaction:Object(s.F)(function(){return B._groupBy(A)},function($,ue){var fe=A[B._ogmInfoKey];B._removeFromGroupArr(fe.groupByValue,fe.groupArrIndex);var ge=B._getGroupArr($),ve=ge.length;ge.push(A),fe.groupByValue=$,fe.groupArrIndex=ve})};Object.defineProperty(A,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:L}),R.push(A)},H.prototype._removeItem=function(A){var B=A[this._ogmInfoKey];this._removeFromGroupArr(B.groupByValue,B.groupArrIndex),B.reaction(),delete A[this._ogmInfoKey]}})(s.b),function(){function C(H,A){this.base=H,this.args=A,this.closestIdx=0,this.isDisposed=!1;for(var B=this.closest=this.root=H,G=0;G<this.args.length-1&&(B=B.get(A[G]));G++)this.closest=B;this.closestIdx=G}return C.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(H){this.assertNotDisposed();for(var A=this.args.length,B=this.closest,G=this.closestIdx;G<A-1;G++){var R=new Map;B.set(this.args[G],R),B=R}this.closestIdx=A-1,this.closest=B,B.set(this.args[A-1],H)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var A=this.root,B=[A],G=0;G<H-1;G++)A=A.get(this.args[G]),B.push(A);for(G=B.length-1;G>0;G--)B[G].size===0&&B[G-1].delete(this.args[G-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,i(155))},function(c,p,i){var f;(function(s,y,_){if(s){for(var O,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)x[111+N]="f"+N;for(N=0;N<=9;++N)x[N+96]=N.toString();J.prototype.bind=function(Y,C,H){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,C,H),this},J.prototype.unbind=function(Y,C){return this.bind.call(this,Y,function(){},C)},J.prototype.trigger=function(Y,C){return this._directMap[Y+":"+C]&&this._directMap[Y+":"+C]({},Y),this},J.prototype.reset=function(){return this._callbacks={},this._directMap={},this},J.prototype.stopCallback=function(Y,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function A(B,G){return B!==null&&B!==y&&(B===G||A(B.parentNode,G))}(C,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var H=Y.composedPath()[0];H!==Y.target&&(C=H)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},J.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},J.addKeycodes=function(Y){for(var C in Y)Y.hasOwnProperty(C)&&(x[C]=Y[C]);O=null},J.init=function(){var Y=J(y);for(var C in Y)C.charAt(0)!=="_"&&(J[C]=function(H){return function(){return Y[H].apply(Y,arguments)}}(C))},J.init(),s.Mousetrap=J,c.exports&&(c.exports=J),(f=function(){return J}.call(p,i,p,c))===void 0||(c.exports=f)}function I(Y,C,H){Y.addEventListener?Y.addEventListener(C,H,!1):Y.attachEvent("on"+C,H)}function X(Y){if(Y.type=="keypress"){var C=String.fromCharCode(Y.which);return Y.shiftKey||(C=C.toLowerCase()),C}return x[Y.which]?x[Y.which]:j[Y.which]?j[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function V(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function F(Y,C,H){return H||(H=function(){if(!O)for(var A in O={},x)A>95&&A<112||x.hasOwnProperty(A)&&(O[x[A]]=A);return O}()[Y]?"keydown":"keypress"),H=="keypress"&&C.length&&(H="keydown"),H}function K(Y,C){var H,A,B,G=[];for(H=function(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}(Y),B=0;B<H.length;++B)A=H[B],k[A]&&(A=k[A]),C&&C!="keypress"&&P[A]&&(A=P[A],G.push("shift")),V(A)&&G.push(A);return{key:A,modifiers:G,action:C=F(A,G,C)}}function J(Y){var C=this;if(Y=Y||y,!(C instanceof J))return new J(Y);C.target=Y,C._callbacks={},C._directMap={};var H,A={},B=!1,G=!1,R=!1;function L(pe){pe=pe||{};var se,le=!1;for(se in A)pe[se]?le=!0:A[se]=0;le||(R=!1)}function $(pe,se,le,de,Ee,Te){var De,ke,Ie,et,Q=[],Z=le.type;if(!C._callbacks[pe])return[];for(Z=="keyup"&&V(pe)&&(se=[pe]),De=0;De<C._callbacks[pe].length;++De)if(ke=C._callbacks[pe][De],(de||!ke.seq||A[ke.seq]==ke.level)&&Z==ke.action&&(Z=="keypress"&&!le.metaKey&&!le.ctrlKey||(Ie=se,et=ke.modifiers,Ie.sort().join(",")===et.sort().join(",")))){var oe=!de&&ke.combo==Ee,me=de&&ke.seq==de&&ke.level==Te;(oe||me)&&C._callbacks[pe].splice(De,1),Q.push(ke)}return Q}function ue(pe,se,le,de){C.stopCallback(se,se.target||se.srcElement,le,de)||pe(se,le)===!1&&(function(Ee){Ee.preventDefault?Ee.preventDefault():Ee.returnValue=!1}(se),function(Ee){Ee.stopPropagation?Ee.stopPropagation():Ee.cancelBubble=!0}(se))}function fe(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var se=X(pe);se&&(pe.type!="keyup"||B!==se?C.handleKey(se,function(le){var de=[];return le.shiftKey&&de.push("shift"),le.altKey&&de.push("alt"),le.ctrlKey&&de.push("ctrl"),le.metaKey&&de.push("meta"),de}(pe),pe):B=!1)}function ge(pe,se,le,de){function Ee(Ie){return function(){R=Ie,++A[pe],clearTimeout(H),H=setTimeout(L,1e3)}}function Te(Ie){ue(le,Ie,pe),de!=="keyup"&&(B=X(Ie)),setTimeout(L,10)}A[pe]=0;for(var De=0;De<se.length;++De){var ke=De+1===se.length?Te:Ee(de||K(se[De+1]).action);ve(se[De],ke,de,pe,De)}}function ve(pe,se,le,de,Ee){C._directMap[pe+":"+le]=se;var Te,De=(pe=pe.replace(/\s+/g," ")).split(" ");De.length>1?ge(pe,De,se,le):(Te=K(pe,le),C._callbacks[Te.key]=C._callbacks[Te.key]||[],$(Te.key,Te.modifiers,{type:Te.action},de,pe,Ee),C._callbacks[Te.key][de?"unshift":"push"]({callback:se,modifiers:Te.modifiers,action:Te.action,seq:de,level:Ee,combo:pe}))}C._handleKey=function(pe,se,le){var de,Ee=$(pe,se,le),Te={},De=0,ke=!1;for(de=0;de<Ee.length;++de)Ee[de].seq&&(De=Math.max(De,Ee[de].level));for(de=0;de<Ee.length;++de)if(Ee[de].seq){if(Ee[de].level!=De)continue;ke=!0,Te[Ee[de].seq]=1,ue(Ee[de].callback,le,Ee[de].combo,Ee[de].seq)}else ke||ue(Ee[de].callback,le,Ee[de].combo);var Ie=le.type=="keypress"&&G;le.type!=R||V(pe)||Ie||L(Te),G=ke&&le.type=="keydown"},C._bindMultiple=function(pe,se,le){for(var de=0;de<pe.length;++de)ve(pe[de],se,le)},I(Y,"keypress",fe),I(Y,"keydown",fe),I(Y,"keyup",fe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,i){var f=i(36),s=i(37),y=i(32),_=i(39),O=i(66);c.exports=f?Object.defineProperties:function(x,j){y(x);for(var P,k=_(j),N=O(j),I=N.length,X=0;I>X;)s.f(x,P=N[X++],k[P]);return x}},function(c,p,i){var f=i(7),s=i(35),y=i(28),_=i(33),O=f.TypeError;c.exports=function(x,j){var P,k;if(j==="string"&&y(P=x.toString)&&!_(k=s(P,x))||y(P=x.valueOf)&&!_(k=s(P,x))||j!=="string"&&y(P=x.toString)&&!_(k=s(P,x)))return k;throw O("Can't convert object to primitive value")}},function(c,p,i){var f=i(7),s=i(28),y=i(92),_=f.WeakMap;c.exports=s(_)&&/native code/.test(y(_))},function(c,p,i){var f=i(136).IteratorPrototype,s=i(54),y=i(71),_=i(73),O=i(70),x=function(){return this};c.exports=function(j,P,k,N){var I=P+" Iterator";return j.prototype=s(f,{next:y(+!N,k)}),_(j,I,!1,!0),O[I]=x,j}},function(c,p,i){var f=i(7),s=i(28),y=f.String,_=f.TypeError;c.exports=function(O){if(typeof O=="object"||s(O))return O;throw _("Can't set "+y(O)+" as a prototype")}},function(c,p,i){var f=i(16),s=i(7),y=i(15),_=i(95),O=i(44),x=i(138),j=i(114),P=i(117),k=i(28),N=i(33),I=i(18),X=i(118),V=i(73),F=i(143);c.exports=function(K,J,Y){var C=K.indexOf("Map")!==-1,H=K.indexOf("Weak")!==-1,A=C?"set":"add",B=s[K],G=B&&B.prototype,R=B,L={},$=function(se){var le=y(G[se]);O(G,se,se=="add"?function(de){return le(this,de===0?0:de),this}:se=="delete"?function(de){return!(H&&!N(de))&&le(this,de===0?0:de)}:se=="get"?function(de){return H&&!N(de)?void 0:le(this,de===0?0:de)}:se=="has"?function(de){return!(H&&!N(de))&&le(this,de===0?0:de)}:function(de,Ee){return le(this,de===0?0:de,Ee),this})};if(_(K,!k(B)||!(H||G.forEach&&!I(function(){new B().entries().next()}))))R=Y.getConstructor(J,K,C,A),x.enable();else if(_(K,!0)){var ue=new R,fe=ue[A](H?{}:-0,1)!=ue,ge=I(function(){ue.has(1)}),ve=X(function(se){new B(se)}),pe=!H&&I(function(){for(var se=new B,le=5;le--;)se[A](le,le);return!se.has(-0)});ve||((R=J(function(se,le){P(se,G);var de=F(new B,se,R);return le!=null&&j(le,de[A],{that:de,AS_ENTRIES:C}),de})).prototype=G,G.constructor=R),(ge||pe)&&($("delete"),$("has"),C&&$("get")),(pe||fe)&&$(A),H&&G.clear&&delete G.clear}return L[K]=R,f({global:!0,forced:R!=B},L),V(R,K),H||Y.setStrong(R,K,C),R}},function(c,p,i){var f=i(18),s=i(33),y=i(50),_=i(175),O=Object.isExtensible,x=f(function(){});c.exports=x||_?function(j){return!!s(j)&&(!_||y(j)!="ArrayBuffer")&&(!O||O(j))}:O},function(c,p,i){var f=i(18);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,i){var f=i(37).f,s=i(54),y=i(144),_=i(62),O=i(117),x=i(114),j=i(111),P=i(145),k=i(36),N=i(138).fastKey,I=i(56),X=I.set,V=I.getterFor;c.exports={getConstructor:function(F,K,J,Y){var C=F(function(R,L){O(R,H),X(R,{type:K,index:s(null),first:void 0,last:void 0,size:0}),k||(R.size=0),L!=null&&x(L,R[Y],{that:R,AS_ENTRIES:J})}),H=C.prototype,A=V(K),B=function(R,L,$){var ue,fe,ge=A(R),ve=G(R,L);return ve?ve.value=$:(ge.last=ve={index:fe=N(L,!0),key:L,value:$,previous:ue=ge.last,next:void 0,removed:!1},ge.first||(ge.first=ve),ue&&(ue.next=ve),k?ge.size++:R.size++,fe!=="F"&&(ge.index[fe]=ve)),R},G=function(R,L){var $,ue=A(R),fe=N(L);if(fe!=="F")return ue.index[fe];for($=ue.first;$;$=$.next)if($.key==L)return $};return y(H,{clear:function(){for(var R=A(this),L=R.index,$=R.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=void 0),delete L[$.index],$=$.next;R.first=R.last=void 0,k?R.size=0:this.size=0},delete:function(R){var L=A(this),$=G(this,R);if($){var ue=$.next,fe=$.previous;delete L.index[$.index],$.removed=!0,fe&&(fe.next=ue),ue&&(ue.previous=fe),L.first==$&&(L.first=ue),L.last==$&&(L.last=fe),k?L.size--:this.size--}return!!$},forEach:function(R){for(var L,$=A(this),ue=_(R,arguments.length>1?arguments[1]:void 0);L=L?L.next:$.first;)for(ue(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(R){return!!G(this,R)}}),y(H,J?{get:function(R){var L=G(this,R);return L&&L.value},set:function(R,L){return B(this,R===0?0:R,L)}}:{add:function(R){return B(this,R=R===0?0:R,R)}}),k&&f(H,"size",{get:function(){return A(this).size}}),C},setStrong:function(F,K,J){var Y=K+" Iterator",C=V(K),H=V(Y);j(F,K,function(A,B){X(this,{type:Y,target:A,state:C(A),kind:B,last:void 0})},function(){for(var A=H(this),B=A.kind,G=A.last;G&&G.removed;)G=G.previous;return A.target&&(A.last=G=G?G.next:A.state.first)?B=="keys"?{value:G.key,done:!1}:B=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:(A.target=void 0,{value:void 0,done:!0})},J?"entries":"values",!J,!0),P(K)}}},function(c,p,i){var f=i(116),s=i(98);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,i){var f=i(74).forEach,s=i(120)("forEach");c.exports=s?[].forEach:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}},function(c,p,i){var f=i(7),s=i(99),y=i(100),_=i(33),O=i(27)("species"),x=f.Array;c.exports=function(j){var P;return s(j)&&(P=j.constructor,(y(P)&&(P===x||s(P.prototype))||_(P)&&(P=P[O])===null)&&(P=void 0)),P===void 0?x:P}},function(c,p,i){var f=i(7);c.exports=f},function(c,p,i){var f=i(7),s=i(62),y=i(35),_=i(38),O=i(183),x=i(140),j=i(100),P=i(43),k=i(61),N=i(141),I=i(115),X=f.Array;c.exports=function(V){var F=_(V),K=j(this),J=arguments.length,Y=J>1?arguments[1]:void 0,C=Y!==void 0;C&&(Y=s(Y,J>2?arguments[2]:void 0));var H,A,B,G,R,L,$=I(F),ue=0;if(!$||this==X&&x($))for(H=P(F),A=K?new this(H):X(H);H>ue;ue++)L=C?Y(F[ue],ue):F[ue],k(A,ue,L);else for(R=(G=N(F,$)).next,A=K?new this:[];!(B=y(R,G)).done;ue++)L=C?O(G,Y,[B.value,ue],!0):B.value,k(A,ue,L);return A.length=ue,A}},function(c,p,i){var f=i(32),s=i(142);c.exports=function(y,_,O,x){try{return x?_(f(O)[0],O[1]):_(O)}catch(j){s(y,"throw",j)}}},function(c,p,i){var f=i(32);c.exports=function(){var s=f(this),y="";return s.global&&(y+="g"),s.ignoreCase&&(y+="i"),s.multiline&&(y+="m"),s.dotAll&&(y+="s"),s.unicode&&(y+="u"),s.sticky&&(y+="y"),y}},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var y=s(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var y=s("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(c,p,i){var f=i(16),s=i(15),y=i(55),_=i(38),O=i(43),x=i(40),j=i(18),P=i(188),k=i(120),N=i(189),I=i(190),X=i(65),V=i(191),F=[],K=s(F.sort),J=s(F.push),Y=j(function(){F.sort(void 0)}),C=j(function(){F.sort(null)}),H=k("sort"),A=!j(function(){if(X)return X<70;if(!(N&&N>3)){if(I)return!0;if(V)return V<603;var B,G,R,L,$="";for(B=65;B<76;B++){switch(G=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(L=0;L<47;L++)F.push({k:G+L,v:R})}for(F.sort(function(ue,fe){return fe.v-ue.v}),L=0;L<F.length;L++)G=F[L].k.charAt(0),$.charAt($.length-1)!==G&&($+=G);return $!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:Y||!C||!H||!A},{sort:function(B){B!==void 0&&y(B);var G=_(this);if(A)return B===void 0?K(G):K(G,B);var R,L,$=[],ue=O(G);for(L=0;L<ue;L++)L in G&&J($,G[L]);for(P($,function(fe){return function(ge,ve){return ve===void 0?-1:ge===void 0?1:fe!==void 0?+fe(ge,ve)||0:x(ge)>x(ve)?1:-1}}(B)),R=$.length,L=0;L<R;)G[L]=$[L++];for(;L<ue;)delete G[L++];return G}})},function(c,p,i){var f=i(113),s=Math.floor,y=function(x,j){var P=x.length,k=s(P/2);return P<8?_(x,j):O(x,y(f(x,0,k),j),y(f(x,k),j),j)},_=function(x,j){for(var P,k,N=x.length,I=1;I<N;){for(k=I,P=x[I];k&&j(x[k-1],P)>0;)x[k]=x[--k];k!==I++&&(x[k]=P)}return x},O=function(x,j,P,k){for(var N=j.length,I=P.length,X=0,V=0;X<N||V<I;)x[X+V]=X<N&&V<I?k(j[X],P[V])<=0?j[X++]:P[V++]:X<N?j[X++]:P[V++];return x};c.exports=y},function(c,p,i){var f=i(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,i){var f=i(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(16),s=i(74).find,y=i(83),_=!0;"find"in[]&&Array(1).find(function(){_=!1}),f({target:"Array",proto:!0,forced:_},{find:function(O){return s(this,O,arguments.length>1?arguments[1]:void 0)}}),y("find")},function(c,p,i){var f=i(7),s=i(154),y=f.TypeError;c.exports=function(_){if(s(_))throw y("The method doesn't accept regular expressions");return _}},function(c,p,i){var f=i(27)("match");c.exports=function(s){var y=/./;try{"/./"[s](y)}catch{try{return y[f]=!1,"/./"[s](y)}catch{}}return!1}},function(c,p,i){var f=i(94).PROPER,s=i(18),y=i(160);c.exports=function(_){return s(function(){return!!y[_]()||"\u200B\x85\u180E"[_]()!=="\u200B\x85\u180E"||f&&y[_].name!==_})}},function(c,p,i){var f=i(15);c.exports=f(1 .valueOf)},function(c,p,i){var f=i(15),s=i(38),y=Math.floor,_=f("".charAt),O=f("".replace),x=f("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;c.exports=function(k,N,I,X,V,F){var K=I+k.length,J=X.length,Y=P;return V!==void 0&&(V=s(V),Y=j),O(F,Y,function(C,H){var A;switch(_(H,0)){case"$":return"$";case"&":return k;case"`":return x(N,0,I);case"'":return x(N,K);case"<":A=V[x(H,1,-1)];break;default:var B=+H;if(B===0)return C;if(B>J){var G=y(B/10);return G===0?C:G<=J?X[G-1]===void 0?_(H,1):X[G-1]+_(H,1):C}A=X[B-1]}return A===void 0?"":A})}},function(c,p,i){var f=i(7),s=i(15),y=i(55),_=i(33),O=i(34),x=i(101),j=f.Function,P=s([].concat),k=s([].join),N={},I=function(X,V,F){if(!O(N,V)){for(var K=[],J=0;J<V;J++)K[J]="a["+J+"]";N[V]=j("C,a","return new C("+k(K,",")+")")}return N[V](X,F)};c.exports=j.bind||function(X){var V=y(this),F=V.prototype,K=x(arguments,1),J=function(){var Y=P(K,x(arguments));return this instanceof J?I(V,Y.length,Y):V.apply(X,Y)};return _(F)&&(J.prototype=F),J}},function(c,p,i){var f=i(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,i){var f=i(36),s=i(15),y=i(35),_=i(18),O=i(66),x=i(112),j=i(93),P=i(38),k=i(81),N=Object.assign,I=Object.defineProperty,X=s([].concat);c.exports=!N||_(function(){if(f&&N({b:1},N(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var V={},F={},K=Symbol();return V[K]=7,"abcdefghijklmnopqrst".split("").forEach(function(J){F[J]=J}),N({},V)[K]!=7||O(N({},F)).join("")!="abcdefghijklmnopqrst"})?function(V,F){for(var K=P(V),J=arguments.length,Y=1,C=x.f,H=j.f;J>Y;)for(var A,B=k(arguments[Y++]),G=C?X(O(B),C(B)):O(B),R=G.length,L=0;R>L;)A=G[L++],f&&!y(H,B,A)||(K[A]=B[A]);return K}:N},function(c,p,i){var f=i(15),s=i(45),y=i(40),_=/"/g,O=f("".replace);c.exports=function(x,j,P,k){var N=y(s(x)),I="<"+j;return P!==""&&(I+=" "+P+'="'+O(y(k),_,"&quot;")+'"'),I+">"+N+"</"+j+">"}},function(c,p,i){var f=i(18);c.exports=function(s){return f(function(){var y=""[s]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(c,p,i){var f=i(16),s=Math.hypot,y=Math.abs,_=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(O,x){for(var j,P,k=0,N=0,I=arguments.length,X=0;N<I;)X<(j=y(arguments[N++]))?(k=k*(P=X/j)*P+1,X=j):k+=j>0?(P=j/X)*P:j;return X===1/0?1/0:X*_(k)}})},function(c,p,i){var f,s,y,_,O=i(16),x=i(64),j=i(7),P=i(46),k=i(35),N=i(205),I=i(44),X=i(144),V=i(97),F=i(73),K=i(145),J=i(55),Y=i(28),C=i(33),H=i(117),A=i(92),B=i(114),G=i(118),R=i(156),L=i(162).set,$=i(206),ue=i(209),fe=i(210),ge=i(164),ve=i(211),pe=i(56),se=i(95),le=i(27),de=i(212),Ee=i(126),Te=i(65),De=le("species"),ke="Promise",Ie=pe.getterFor(ke),et=pe.set,Q=pe.getterFor(ke),Z=N&&N.prototype,oe=N,me=Z,Me=j.TypeError,we=j.document,$e=j.process,Ye=ge.f,tt=Ye,Ze=!!(we&&we.createEvent&&j.dispatchEvent),_e=Y(j.PromiseRejectionEvent),ee=!1,Xe=se(ke,function(){var re=A(oe),Se=re!==String(oe);if(!Se&&Te===66||x&&!me.finally)return!0;if(Te>=51&&/native code/.test(re))return!1;var Ae=new oe(function(Ue){Ue(1)}),Ne=function(Ue){Ue(function(){},function(){})};return(Ae.constructor={})[De]=Ne,!(ee=Ae.then(function(){})instanceof Ne)||!Se&&de&&!_e}),Ge=Xe||!G(function(re){oe.all(re).catch(function(){})}),Ke=function(re){var Se;return!(!C(re)||!Y(Se=re.then))&&Se},kt=function(re,Se){if(!re.notified){re.notified=!0;var Ae=re.reactions;$(function(){for(var Ne=re.value,Ue=re.state==1,gt=0;Ae.length>gt;){var wt,$t,Jt,lt=Ae[gt++],Le=Ue?lt.ok:lt.fail,We=lt.resolve,Qe=lt.reject,rt=lt.domain;try{Le?(Ue||(re.rejection===2&&It(re),re.rejection=1),Le===!0?wt=Ne:(rt&&rt.enter(),wt=Le(Ne),rt&&(rt.exit(),Jt=!0)),wt===lt.promise?Qe(Me("Promise-chain cycle")):($t=Ke(wt))?k($t,wt,We,Qe):We(wt)):Qe(Ne)}catch(xt){rt&&!Jt&&rt.exit(),Qe(xt)}}re.reactions=[],re.notified=!1,Se&&!re.rejection&&ft(re)})}},st=function(re,Se,Ae){var Ne,Ue;Ze?((Ne=we.createEvent("Event")).promise=Se,Ne.reason=Ae,Ne.initEvent(re,!1,!0),j.dispatchEvent(Ne)):Ne={promise:Se,reason:Ae},!_e&&(Ue=j["on"+re])?Ue(Ne):re==="unhandledrejection"&&fe("Unhandled promise rejection",Ae)},ft=function(re){k(L,j,function(){var Se,Ae=re.facade,Ne=re.value;if(yt(re)&&(Se=ve(function(){Ee?$e.emit("unhandledRejection",Ne,Ae):st("unhandledrejection",Ae,Ne)}),re.rejection=Ee||yt(re)?2:1,Se.error))throw Se.value})},yt=function(re){return re.rejection!==1&&!re.parent},It=function(re){k(L,j,function(){var Se=re.facade;Ee?$e.emit("rejectionHandled",Se):st("rejectionhandled",Se,re.value)})},U=function(re,Se,Ae){return function(Ne){re(Se,Ne,Ae)}},ne=function(re,Se,Ae){re.done||(re.done=!0,Ae&&(re=Ae),re.value=Se,re.state=2,kt(re,!0))},be=function(re,Se,Ae){if(!re.done){re.done=!0,Ae&&(re=Ae);try{if(re.facade===Se)throw Me("Promise can't be resolved itself");var Ne=Ke(Se);Ne?$(function(){var Ue={done:!1};try{k(Ne,Se,U(be,Ue,re),U(ne,Ue,re))}catch(gt){ne(Ue,gt,re)}}):(re.value=Se,re.state=1,kt(re,!1))}catch(Ue){ne({done:!1},Ue,re)}}};if(Xe&&(me=(oe=function(re){H(this,me),J(re),k(f,this);var Se=Ie(this);try{re(U(be,Se),U(ne,Se))}catch(Ae){ne(Se,Ae)}}).prototype,(f=function(re){et(this,{type:ke,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=X(me,{then:function(re,Se){var Ae=Q(this),Ne=Ae.reactions,Ue=Ye(R(this,oe));return Ue.ok=!Y(re)||re,Ue.fail=Y(Se)&&Se,Ue.domain=Ee?$e.domain:void 0,Ae.parent=!0,Ne[Ne.length]=Ue,Ae.state!=0&&kt(Ae,!1),Ue.promise},catch:function(re){return this.then(void 0,re)}}),s=function(){var re=new f,Se=Ie(re);this.promise=re,this.resolve=U(be,Se),this.reject=U(ne,Se)},ge.f=Ye=function(re){return re===oe||re===y?new s(re):tt(re)},!x&&Y(N)&&Z!==Object.prototype)){_=Z.then,ee||(I(Z,"then",function(re,Se){var Ae=this;return new oe(function(Ne,Ue){k(_,Ae,Ne,Ue)}).then(re,Se)},{unsafe:!0}),I(Z,"catch",me.catch,{unsafe:!0}));try{delete Z.constructor}catch{}V&&V(Z,me)}O({global:!0,wrap:!0,forced:Xe},{Promise:oe}),F(oe,ke,!1,!0),K(ke),y=P(ke),O({target:ke,stat:!0,forced:Xe},{reject:function(re){var Se=Ye(this);return k(Se.reject,void 0,re),Se.promise}}),O({target:ke,stat:!0,forced:x||Xe},{resolve:function(re){return ue(x&&this===y?oe:this,re)}}),O({target:ke,stat:!0,forced:Ge},{all:function(re){var Se=this,Ae=Ye(Se),Ne=Ae.resolve,Ue=Ae.reject,gt=ve(function(){var wt=J(Se.resolve),$t=[],Jt=0,lt=1;B(re,function(Le){var We=Jt++,Qe=!1;lt++,k(wt,Se,Le).then(function(rt){Qe||(Qe=!0,$t[We]=rt,--lt||Ne($t))},Ue)}),--lt||Ne($t)});return gt.error&&Ue(gt.value),Ae.promise},race:function(re){var Se=this,Ae=Ye(Se),Ne=Ae.reject,Ue=ve(function(){var gt=J(Se.resolve);B(re,function(wt){k(gt,Se,wt).then(Ae.resolve,Ne)})});return Ue.error&&Ne(Ue.value),Ae.promise}})},function(c,p,i){var f=i(7);c.exports=f.Promise},function(c,p,i){var f,s,y,_,O,x,j,P,k=i(7),N=i(62),I=i(51).f,X=i(162).set,V=i(163),F=i(207),K=i(208),J=i(126),Y=k.MutationObserver||k.WebKitMutationObserver,C=k.document,H=k.process,A=k.Promise,B=I(k,"queueMicrotask"),G=B&&B.value;G||(f=function(){var R,L;for(J&&(R=H.domain)&&R.exit();s;){L=s.fn,s=s.next;try{L()}catch($){throw s?_():y=void 0,$}}y=void 0,R&&R.enter()},V||J||K||!Y||!C?!F&&A&&A.resolve?((j=A.resolve(void 0)).constructor=A,P=N(j.then,j),_=function(){P(f)}):J?_=function(){H.nextTick(f)}:(X=N(X,k),_=function(){X(f)}):(O=!0,x=C.createTextNode(""),new Y(f).observe(x,{characterData:!0}),_=function(){x.data=O=!O})),c.exports=G||function(R){var L={fn:R,next:void 0};y&&(y.next=L),s||(s=L,_()),y=L}},function(c,p,i){var f=i(53),s=i(7);c.exports=/ipad|iphone|ipod/i.test(f)&&s.Pebble!==void 0},function(c,p,i){var f=i(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,i){var f=i(32),s=i(33),y=i(164);c.exports=function(_,O){if(f(_),s(O)&&O.constructor===_)return O;var x=y.f(_);return(0,x.resolve)(O),x.promise}},function(c,p,i){var f=i(7);c.exports=function(s,y){var _=f.console;_&&_.error&&(arguments.length==1?_.error(s):_.error(s,y))}},function(c,p){c.exports=function(i){try{return{error:!1,value:i()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,i){var f=i(36),s=i(15),y=i(66),_=i(39),O=s(i(93).f),x=s([].push),j=function(P){return function(k){for(var N,I=_(k),X=y(I),V=X.length,F=0,K=[];V>F;)N=X[F++],f&&!O(I,N)||x(K,P?[N,I[N]]:I[N]);return K}};c.exports={entries:j(!0),values:j(!1)}},function(c,p,i){var f=i(38),s=i(67),y=i(43);c.exports=function(_){for(var O=f(this),x=y(O),j=arguments.length,P=s(j>1?arguments[1]:void 0,x),k=j>2?arguments[2]:void 0,N=k===void 0?x:s(k,x);N>P;)O[P++]=_;return O}},function(c,p,i){i.r(p),i.d(p,"observer",function(){return Ln}),i.d(p,"LogicFlow",function(){return Kc}),i.d(p,"h",function(){return ee.g}),i.d(p,"LogicFlowUtil",function(){return f}),i.d(p,"BaseNode",function(){return hr}),i.d(p,"RectNode",function(){return pc}),i.d(p,"CircleNode",function(){return hc}),i.d(p,"PolygonNode",function(){return vc}),i.d(p,"DiamondNode",function(){return bc}),i.d(p,"EllipseNode",function(){return _c}),i.d(p,"TextNode",function(){return wc}),i.d(p,"HtmlNode",function(){return Ec}),i.d(p,"BaseEdge",function(){return vi}),i.d(p,"LineEdge",function(){return Cc}),i.d(p,"PolylineEdge",function(){return Lc}),i.d(p,"BezierEdge",function(){return Fc}),i.d(p,"Arrow",function(){return Wh}),i.d(p,"BaseEdgeModel",function(){return ju}),i.d(p,"BezierEdgeModel",function(){return Ku}),i.d(p,"LineEdgeModel",function(){return Pu}),i.d(p,"PolylineEdgeModel",function(){return Au}),i.d(p,"BaseNodeModel",function(){return pr}),i.d(p,"CircleNodeModel",function(){return Zu}),i.d(p,"DiamondNodeModel",function(){return Qu}),i.d(p,"EllipseNodeModel",function(){return ec}),i.d(p,"PolygonNodeModel",function(){return nc}),i.d(p,"RectNodeModel",function(){return rc}),i.d(p,"TextNodeModel",function(){return oc}),i.d(p,"HtmlNodeModel",function(){return ac}),i.d(p,"EditConfigModel",function(){return Ns}),i.d(p,"GraphModel",function(){return Ef}),i.d(p,"SnaplineModel",function(){return qd}),i.d(p,"Keyboard",function(){return Ly}),i.d(p,"get",function(){return bp}),i.d(p,"defaults",function(){return _p});var f={};i.r(f),i.d(f,"createUuid",function(){return Yr}),i.d(f,"refreshGraphId",function(){return pb}),i.d(f,"createDrag",function(){return Ru}),i.d(f,"StepDrag",function(){return $r});var s=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var _=i(42),O=Object(_.b)("observerBatching");function x(e){e()}var j=!1;function P(){return j}function k(e){return Object(s.t)(e)}var N,I=1e4,X=new Set;function V(){N===void 0&&(N=setTimeout(F,1e4))}function F(){N=void 0;var e=Date.now();X.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,X.delete(t))}),X.size>0&&V()}var K=!1,J=[],Y={};function C(e){return"observer"+e}function H(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=Y),P();var r,a=function(m){return function(){K?J.push(m):m()}}((n.useForceUpdate||_.d)()),o=y.d.useRef(null);if(!o.current){var u=new s.c(C(t),function(){l.mounted?a():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+I,reaction:m}}(u);o.current=l,r=o,X.add(r),V()}var d=o.current.reaction;return y.d.useDebugValue(d,k),y.d.useEffect(function(){var m;return m=o,X.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(C(t),function(){a()}),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){K=!0,J=[];try{var w=m();K=!1;var S=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){S&&S.forEach(function(T){return T()})},[S]),w}finally{K=!1}}(function(){var m,w;if(d.track(function(){try{m=e()}catch(S){w=S}}),w)throw w;return m})}var A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function B(e,t){var n,r,a,o=A({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return H(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(y.f)(Object(y.e)(l)):Object(y.f)(l),r=e,a=n,Object.keys(r).forEach(function(d){G[d]||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var G={$$typeof:!0,render:!0,compare:!0,type:!0};function R(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:H(r)}function L(e,t,n,r,a){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}R.propTypes={children:L,render:L},R.displayName="Observer";var $;($=y.g)||($=x),Object(s.n)({reactionScheduler:$}),Object(_.a)()[O]=!0;var ue=0,fe={};function ge(e){return fe[e]||(fe[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ue+")";return ue++,n}(e)),fe[e]}function ve(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!pe(e[n[a]],t[n[a]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var le=ge("patchMixins"),de=ge("patchedDefinition");function Ee(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,a)})}}function Te(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ee.call.apply(Ee,[this,e,t].concat(r))}}function De(e,t,n){var r=function(l,d){var m=l[le]=l[le]||{},w=m[d]=m[d]||{};return w.locks=w.locks||0,w.methods=w.methods||[],w}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[de]){var o=e[t],u=function l(d,m,w,S,T){var z,q=Te(T,S);return(z={})[de]=!0,z.get=function(){return q},z.set=function(te){if(this===d)q=Te(te,S);else{var ae=l(this,m,w,S,te);Object.defineProperty(this,m,ae)}},z.configurable=!0,z.enumerable=w,z}(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var ke=s.a||"$mobx",Ie=ge("isMobXReactObserver"),et=ge("isUnmounted"),Q=ge("skipRender"),Z=ge("isForcingUpdate");function oe(e){var t=e.prototype;if(e[Ie]){var n=me(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ie]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;$e(t,"props"),$e(t,"state");var r=t.render;return t.render=function(){return Me.call(this,r)},De(t,"componentWillUnmount",function(){var a;if((a=this.render[ke])===null||a===void 0||a.dispose(),this[et]=!0,!this.render[ke]){var o=me(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function me(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Me(e){var t=this;se(this,Q,!1),se(this,Z,!1);var n=me(this),r=e.bind(this),a=!1,o=new s.c(n+".render()",function(){if(!a&&(a=!0,t[et]!==!0)){var l=!0;try{se(t,Z,!0),t[Q]||y.a.prototype.forceUpdate.call(t),l=!1}finally{se(t,Z,!1),l&&o.dispose()}}});function u(){a=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[ke]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!ve(this.props,e)}function $e(e,t){var n=ge("reactProp_"+t+"_valueHolder"),r=ge("reactProp_"+t+"_atomHolder");function a(){return this[r]||se(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),a.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[Z]||ve(this[n],o)?se(this,n,o):(se(this,n,o),se(this,Q,!0),a.call(this).reportChanged(),se(this,Q,!1))}})}var Ye=typeof Symbol=="function"&&Symbol.for,tt=Ye?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,Ze=Ye?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function _e(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ze&&e.$$typeof===Ze)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(tt&&e.$$typeof===tt){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(R,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(y.a,e)?oe(e):B(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var ee=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);var Xe=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},Ge=function(){this.__data__=[],this.size=0},Ke=function(e,t){return e===t||e!=e&&t!=t},kt=function(e,t){for(var n=e.length;n--;)if(Ke(e[n][0],t))return n;return-1},st=Array.prototype.splice,ft=function(e){var t=this.__data__,n=kt(t,e);return!(n<0)&&(n==t.length-1?t.pop():st.call(t,n,1),--this.size,!0)},yt=function(e){var t=this.__data__,n=kt(t,e);return n<0?void 0:t[n][1]},It=function(e){return kt(this.__data__,e)>-1},U=function(e,t){var n=this.__data__,r=kt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ne(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=Ge,ne.prototype.delete=ft,ne.prototype.get=yt,ne.prototype.has=It,ne.prototype.set=U;var be=ne,re=function(){this.__data__=new be,this.size=0},Se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae=function(e){return this.__data__.get(e)},Ne=function(e){return this.__data__.has(e)},Ue=i(30),gt=Ue.a.Symbol,wt=Object.prototype,$t=wt.hasOwnProperty,Jt=wt.toString,lt=gt?gt.toStringTag:void 0,Le=function(e){var t=$t.call(e,lt),n=e[lt];try{e[lt]=void 0;var r=!0}catch{}var a=Jt.call(e);return r&&(t?e[lt]=n:delete e[lt]),a},We=Object.prototype.toString,Qe=function(e){return We.call(e)},rt=gt?gt.toStringTag:void 0,xt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":rt&&rt in Object(e)?Le(e):Qe(e)},Mt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Qt,Io=function(e){if(!Mt(e))return!1;var t=xt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},zn=Ue.a["__core-js_shared__"],or=(Qt=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||""))?"Symbol(src)_1."+Qt:"",ao=function(e){return!!or&&or in e},$a=Function.prototype.toString,jn=function(e){if(e!=null){try{return $a.call(e)}catch{}try{return e+""}catch{}}return""},uo=/^\[object .+?Constructor\]$/,Ai=Function.prototype,Fe=Object.prototype,Ka=Ai.toString,Ti=Fe.hasOwnProperty,Di=RegExp("^"+Ka.call(Ti).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=function(e){return!(!Mt(e)||ao(e))&&(Io(e)?Di:uo).test(jn(e))},hn=function(e,t){return e==null?void 0:e[t]},Bn=function(e,t){var n=hn(e,t);return dn(n)?n:void 0},_r=Bn(Ue.a,"Map"),Sn=Bn(Object,"create"),Lo=function(){this.__data__=Sn?Sn(null):{},this.size=0},Mi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qa=Object.prototype.hasOwnProperty,co=function(e){var t=this.__data__;if(Sn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return qa.call(t,e)?t[e]:void 0},Za=Object.prototype.hasOwnProperty,Ni=function(e){var t=this.__data__;return Sn?t[e]!==void 0:Za.call(t,e)},Ja=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sn&&t===void 0?"__lodash_hash_undefined__":t,this};function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=Lo,ir.prototype.delete=Mi,ir.prototype.get=co,ir.prototype.has=Ni,ir.prototype.set=Ja;var Ci=ir,Fn=function(){this.size=0,this.__data__={hash:new Ci,map:new(_r||be),string:new Ci}},Qa=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},so=function(e,t){var n=e.__data__;return Qa(t)?n[typeof t=="string"?"string":"hash"]:n.map},zo=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Bo=function(e){return so(this,e).get(e)},eu=function(e){return so(this,e).has(e)},Ri=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Fn,Or.prototype.delete=zo,Or.prototype.get=Bo,Or.prototype.has=eu,Or.prototype.set=Ri;var wr=Or,Ii=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!_r||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(e,t),this.size=n.size,this};function xr(e){var t=this.__data__=new be(e);this.size=t.size}xr.prototype.clear=re,xr.prototype.delete=Se,xr.prototype.get=Ae,xr.prototype.has=Ne,xr.prototype.set=Ii;var Hn=xr,Li=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zi=function(e){return this.__data__.has(e)};function Cr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wr;++t<n;)this.add(e[t])}Cr.prototype.add=Cr.prototype.push=Li,Cr.prototype.has=zi;var Bi=Cr,tu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Fi=function(e,t){return e.has(t)},Hi=function(e,t,n,r,a,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),w=o.get(t);if(m&&w)return m==t&&w==e;var S=-1,T=!0,z=2&n?new Bi:void 0;for(o.set(e,t),o.set(t,e);++S<l;){var q=e[S],te=t[S];if(r)var ae=u?r(te,q,S,t,e,o):r(q,te,S,e,t,o);if(ae!==void 0){if(ae)continue;T=!1;break}if(z){if(!tu(t,function(ie,ye){if(!Fi(z,ye)&&(q===ie||a(q,ie,n,r,o)))return z.push(ye)})){T=!1;break}}else if(q!==te&&!a(q,te,n,r,o)){T=!1;break}}return o.delete(e),o.delete(t),T},Rr=Ue.a.Uint8Array,Xi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},nu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Gi=gt?gt.prototype:void 0,Fo=Gi?Gi.valueOf:void 0,Ir=function(e,t,n,r,a,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Rr(e),new Rr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Xi;case"[object Set]":var d=1&r;if(l||(l=nu),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var w=Hi(l(e),l(t),r,a,o,u);return u.delete(e),w;case"[object Symbol]":if(Fo)return Fo.call(e)==Fo.call(t)}return!1},Xn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},Gt=Array.isArray,Vi=function(e,t,n){var r=t(e);return Gt(e)?r:Xn(r,n(e))},ru=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[a++]=u)}return o},Ui=function(){return[]},Er=Object.prototype.propertyIsEnumerable,Yi=Object.getOwnPropertySymbols,Ho=Yi?function(e){return e==null?[]:(e=Object(e),ru(Yi(e),function(t){return Er.call(e,t)}))}:Ui,mn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_n=function(e){return e!=null&&typeof e=="object"},Xo=function(e){return _n(e)&&xt(e)=="[object Arguments]"},Wi=Object.prototype,lo=Wi.hasOwnProperty,fo=Wi.propertyIsEnumerable,Lr=Xo(function(){return arguments}())?Xo:function(e){return _n(e)&&lo.call(e,"callee")&&!fo.call(e,"callee")},zr=i(48),On=/^(?:0|[1-9]\d*)$/,Gn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&On.test(e))&&e>-1&&e%1==0&&e<t},sn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},pt={};pt["[object Float32Array]"]=pt["[object Float64Array]"]=pt["[object Int8Array]"]=pt["[object Int16Array]"]=pt["[object Int32Array]"]=pt["[object Uint8Array]"]=pt["[object Uint8ClampedArray]"]=pt["[object Uint16Array]"]=pt["[object Uint32Array]"]=!0,pt["[object Arguments]"]=pt["[object Array]"]=pt["[object ArrayBuffer]"]=pt["[object Boolean]"]=pt["[object DataView]"]=pt["[object Date]"]=pt["[object Error]"]=pt["[object Function]"]=pt["[object Map]"]=pt["[object Number]"]=pt["[object Object]"]=pt["[object RegExp]"]=pt["[object Set]"]=pt["[object String]"]=pt["[object WeakMap]"]=!1;var Br=function(e){return _n(e)&&sn(e.length)&&!!pt[xt(e)]},en=function(e){return function(t){return e(t)}},jr=i(49),$i=jr.a&&jr.a.isTypedArray,po=$i?en($i):Br,Pn=Object.prototype.hasOwnProperty,Go=function(e,t){var n=Gt(e),r=!n&&Lr(e),a=!n&&!r&&Object(zr.a)(e),o=!n&&!r&&!a&&po(e),u=n||r||a||o,l=u?mn(e.length,String):[],d=l.length;for(var m in e)!t&&!Pn.call(e,m)||u&&(m=="length"||a&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Gn(m,d))||l.push(m);return l},ou=Object.prototype,ln=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||ou)},Vo=function(e,t){return function(n){return e(t(n))}},iu=Vo(Object.keys,Object),Uo=Object.prototype.hasOwnProperty,tn=function(e){if(!ln(e))return iu(e);var t=[];for(var n in Object(e))Uo.call(e,n)&&n!="constructor"&&t.push(n);return t},ar=function(e){return e!=null&&sn(e.length)&&!Io(e)},ur=function(e){return ar(e)?Go(e):tn(e)},Kt=function(e){return Vi(e,ur,Ho)},Ki=Object.prototype.hasOwnProperty,Yo=function(e,t,n,r,a,o){var u=1&n,l=Kt(e),d=l.length;if(d!=Kt(t).length&&!u)return!1;for(var m=d;m--;){var w=l[m];if(!(u?w in t:Ki.call(t,w)))return!1}var S=o.get(e),T=o.get(t);if(S&&T)return S==t&&T==e;var z=!0;o.set(e,t),o.set(t,e);for(var q=u;++m<d;){var te=e[w=l[m]],ae=t[w];if(r)var ie=u?r(ae,te,w,t,e,o):r(te,ae,w,e,t,o);if(!(ie===void 0?te===ae||a(te,ae,n,r,o):ie)){z=!1;break}q||(q=w=="constructor")}if(z&&!q){var ye=e.constructor,Oe=t.constructor;ye==Oe||!("constructor"in e)||!("constructor"in t)||typeof ye=="function"&&ye instanceof ye&&typeof Oe=="function"&&Oe instanceof Oe||(z=!1)}return o.delete(e),o.delete(t),z},ho=Bn(Ue.a,"DataView"),yo=Bn(Ue.a,"Promise"),vo=Bn(Ue.a,"Set"),Wo=Bn(Ue.a,"WeakMap"),yn=jn(ho),wn=jn(_r),Fr=jn(yo),qi=jn(vo),$o=jn(Wo),Vn=xt;(ho&&Vn(new ho(new ArrayBuffer(1)))!="[object DataView]"||_r&&Vn(new _r)!="[object Map]"||yo&&Vn(yo.resolve())!="[object Promise]"||vo&&Vn(new vo)!="[object Set]"||Wo&&Vn(new Wo)!="[object WeakMap]")&&(Vn=function(e){var t=xt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?jn(n):"";if(r)switch(r){case yn:return"[object DataView]";case wn:return"[object Map]";case Fr:return"[object Promise]";case qi:return"[object Set]";case $o:return"[object WeakMap]"}return t});var Hr=Vn,Xr=Object.prototype.hasOwnProperty,au=function(e,t,n,r,a,o){var u=Gt(e),l=Gt(t),d=u?"[object Array]":Hr(e),m=l?"[object Array]":Hr(t),w=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",S=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",T=d==m;if(T&&Object(zr.a)(e)){if(!Object(zr.a)(t))return!1;u=!0,w=!1}if(T&&!w)return o||(o=new Hn),u||po(e)?Hi(e,t,n,r,a,o):Ir(e,t,d,n,r,a,o);if(!(1&n)){var z=w&&Xr.call(e,"__wrapped__"),q=S&&Xr.call(t,"__wrapped__");if(z||q){var te=z?e.value():e,ae=q?t.value():t;return o||(o=new Hn),a(te,ae,n,r,o)}}return!!T&&(o||(o=new Hn),Yo(e,t,n,r,a,o))},v=function e(t,n,r,a,o){return t===n||(t==null||n==null||!_n(t)&&!_n(n)?t!=t&&n!=n:au(t,n,r,a,e,o))},g=function(e,t,n,r){var a=n.length,o=a,u=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var d=(l=n[a])[0],m=e[d],w=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var S=new Hn;if(r)var T=r(m,w,d,e,t,S);if(!(T===void 0?v(w,m,3,r,S):T))return!1}}return!0},E=function(e){return e==e&&!Mt(e)},D=function(e){for(var t=ur(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,E(a)]}return t},M=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},W=function(e){var t=D(e);return t.length==1&&t[0][2]?M(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},ce=function(e){return typeof e=="symbol"||_n(e)&&xt(e)=="[object Symbol]"},xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ze=/^\w*$/,ut=function(e,t){if(Gt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ce(e))||ze.test(e)||!xe.test(e)||t!=null&&e in Object(t)};function ot(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=e.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(ot.Cache||wr),n}ot.Cache=wr;var Et=ot,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,Pt=function(e){var t=Et(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(n,r,a,o){t.push(a?o.replace(vt,"$1"):r||n)}),t}),jt=gt?gt.prototype:void 0,mt=jt?jt.toString:void 0,kn=function e(t){if(typeof t=="string")return t;if(Gt(t))return Xe(t,e)+"";if(ce(t))return mt?mt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},uu=function(e){return e==null?"":kn(e)},Gr=function(e,t){return Gt(e)?e:ut(e,t)?[e]:Pt(uu(e))},Sr=function(e){if(typeof e=="string"||ce(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vr=function(e,t){for(var n=0,r=(t=Gr(t,e)).length;e!=null&&n<r;)e=e[Sr(t[n++])];return n&&n==r?e:void 0},Ko=function(e,t,n){var r=e==null?void 0:Vr(e,t);return r===void 0?n:r},nn=function(e,t){return e!=null&&t in Object(e)},Zi=function(e,t,n){for(var r=-1,a=(t=Gr(t,e)).length,o=!1;++r<a;){var u=Sr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=a?o:!!(a=e==null?0:e.length)&&sn(a)&&Gn(u,a)&&(Gt(e)||Lr(e))},qo=function(e,t){return e!=null&&Zi(e,t,nn)},ng=function(e,t){return ut(e)&&E(t)?M(Sr(e),t):function(n){var r=Ko(n,e);return r===void 0&&r===t?qo(n,e):v(t,r,3)}},cu=function(e){return e},rg=function(e){return function(t){return t==null?void 0:t[e]}},og=function(e){return function(t){return Vr(t,e)}},ig=function(e){return ut(e)?rg(Sr(e)):og(e)},ag=function(e){return typeof e=="function"?e:e==null?cu:typeof e=="object"?Gt(e)?ng(e[0],e[1]):W(e):ig(e)},ss=function(e){return function(t,n,r){for(var a=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++a];if(n(o[d],d,o)===!1)break}return t}}(),ug=function(e,t){return function(n,r){if(n==null)return n;if(!ar(n))return e(n,r);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ss(e,t,ur)}),cg=function(e,t){var n=-1,r=ar(e)?Array(e.length):[];return ug(e,function(a,o,u){r[++n]=t(a,o,u)}),r},Ji=function(e,t){return(Gt(e)?Xe:cg)(e,ag(t))},Qi=function(){try{var e=Bn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),su=function(e,t,n){t=="__proto__"&&Qi?Qi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},sg=Object.prototype.hasOwnProperty,ea=function(e,t,n){var r=e[t];sg.call(e,t)&&Ke(r,n)&&(n!==void 0||t in e)||su(e,t,n)},go=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),a?su(n,l,d):ea(n,l,d)}return n},lg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ls=Math.max,fs=function(e,t,n){return t=ls(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=ls(r.length-t,0),u=Array(o);++a<o;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),lg(e,this,l)}},fg=function(e){return function(){return e}},pg=Qi?function(e,t){return Qi(e,"toString",{configurable:!0,enumerable:!1,value:fg(t),writable:!0})}:cu,dg=Date.now,ps=function(e){var t=0,n=0;return function(){var r=dg(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(pg),hg=function(e,t){return ps(fs(e,t,cu),e+"")},yg=function(e,t,n){if(!Mt(n))return!1;var r=typeof t;return!!(r=="number"?ar(n)&&Gn(t,n.length):r=="string"&&t in n)&&Ke(n[t],e)},ds=function(e){return hg(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&yg(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})},vg=Object.prototype.hasOwnProperty,rn=ds(function(e,t){if(ln(t)||ar(t))go(t,ur(t),e);else for(var n in t)vg.call(t,n)&&ea(e,n,t[n])}),gg=function(e,t,n,r){if(!Mt(e))return e;for(var a=-1,o=(t=Gr(t,e)).length,u=o-1,l=e;l!=null&&++a<o;){var d=Sr(t[a]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=u){var w=l[d];(m=r?r(w,d,l):void 0)===void 0&&(m=Mt(w)?w:Gn(t[a+1])?[]:{})}ea(l,d,m),l=l[d]}return e},bg=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var u=t[r],l=Vr(e,u);n(l,u)&&gg(o,Gr(u,e),l)}return o},mg=function(e,t){return bg(e,t,function(n,r){return qo(e,r)})},hs=gt?gt.isConcatSpreadable:void 0,_g=function(e){return Gt(e)||Lr(e)||!!(hs&&e&&e[hs])},Og=function e(t,n,r,a,o){var u=-1,l=t.length;for(r||(r=_g),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,a,o):Xn(o,d):a||(o[o.length]=d)}return o},wg=function(e){return e!=null&&e.length?Og(e,1):[]},Lt,ys,vs,gs,bs,ms,_s,Os,ws,xs,Es,js,Ss,Ps,ks,As,Ts,Zo=function(e){return ps(fs(e,void 0,wg),e+"")}(function(e,t){return e==null?{}:mg(e,t)});function qt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var St,Ms,dt,Ht,nt,Tt,Eg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},lu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Ns=(ys=Vt((Lt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),qt(this,"isSilentMode",ys,this),qt(this,"stopZoomGraph",vs,this),qt(this,"stopScrollGraph",gs,this),qt(this,"stopMoveGraph",bs,this),qt(this,"adjustEdge",ms,this),qt(this,"adjustEdgeMiddle",_s,this),qt(this,"adjustEdgeStartAndEnd",Os,this),qt(this,"adjustNodePosition",ws,this),qt(this,"hideAnchors",xs,this),qt(this,"hoverOutline",Es,this),qt(this,"nodeSelectedOutline",js,this),qt(this,"edgeSelectedOutline",Ss,this),qt(this,"nodeTextEdit",Ps,this),qt(this,"edgeTextEdit",ks,this),qt(this,"nodeTextDraggable",As,this),qt(this,"edgeTextDraggable",Ts,this),Ds(this,"multipleSelectKey",""),Ds(this,"defaultConfig",{}),rn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);rn(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,o=r.textEdit,u={};if(a===!1&&rn(u,this.defaultConfig),a===!0){var l=Zo(Eg,lu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},rn(u,l)}o===!1&&rn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Zo(r,lu);return rn(u,d)}},{key:"getConfig",value:function(){return Zo(this,lu)}}])&&xg(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=Vt(Lt.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Vt(Lt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Vt(Lt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Vt(Lt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Vt(Lt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Vt(Lt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Vt(Lt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xs=Vt(Lt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Es=Vt(Lt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),js=Vt(Lt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Vt(Lt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Vt(Lt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Vt(Lt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Vt(Lt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=Vt(Lt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt(Lt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);i(77),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ms||(Ms={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(dt||(dt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ht||(Ht={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(nt||(nt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Tt||(Tt={}));var vn,zt,Cs,Rs,Is,Ls,zs,Bs,Fs;function ta(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hs(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hs(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(vn||(vn={}));var Sg=(Cs=An((zt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),fu(this,"MINI_SCALE_SIZE",.2),fu(this,"MAX_SCALE_SIZE",16),Ur(this,"SCALE_X",Cs,this),Ur(this,"SKEW_Y",Rs,this),Ur(this,"SKEW_X",Is,this),Ur(this,"SCALE_Y",Ls,this),Ur(this,"TRANSLATE_X",zs,this),Ur(this,"TRANSLATE_Y",Bs,this),Ur(this,"ZOOM_SIZE",Fs,this),fu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=ta(r,2),o=a[0],u=a[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=ta(r,2),o=a[0],u=a[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,o){var u=ta(r,2),l=u[0],d=u[1];return[l+a/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(o-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(nt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,o,u){var l=ta(this.CanvasPointToHtmlPoint([r,a]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&jg(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rs=An(zt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Is=An(zt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=An(zt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zs=An(zt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bs=An(zt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=An(zt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),An(zt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"zoom"),zt.prototype),An(zt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"resetZoom"),zt.prototype),An(zt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"translate"),zt.prototype),An(zt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"focusOn"),zt.prototype),zt),Pg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},kg=function(e,t){return e&&go(t,ur(t),e)},Ag=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},Tg=Object.prototype.hasOwnProperty,Dg=function(e){if(!Mt(e))return Ag(e);var t=ln(e),n=[];for(var r in e)(r!="constructor"||!t&&Tg.call(e,r))&&n.push(r);return n},Jo=function(e){return ar(e)?Go(e,!0):Dg(e)},Mg=function(e,t){return e&&go(t,Jo(t),e)},Xs=i(106),Gs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ng=function(e,t){return go(e,Ho(e),t)},pu=Vo(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xn(t,Ho(e)),e=pu(e);return t}:Ui,Cg=function(e,t){return go(e,Vs(e),t)},Rg=function(e){return Vi(e,Jo,Vs)},Ig=Object.prototype.hasOwnProperty,Lg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ig.call(e,"index")&&(n.index=e.index,n.input=e.input),n},du=function(e){var t=new e.constructor(e.byteLength);return new Rr(t).set(new Rr(e)),t},zg=function(e,t){var n=t?du(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Bg=/\w*$/,Fg=function(e){var t=new e.constructor(e.source,Bg.exec(e));return t.lastIndex=e.lastIndex,t},Us=gt?gt.prototype:void 0,Ys=Us?Us.valueOf:void 0,Hg=function(e){return Ys?Object(Ys.call(e)):{}},Ws=function(e,t){var n=t?du(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Xg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return du(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return zg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ws(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Fg(e);case"[object Set]":return new r;case"[object Symbol]":return Hg(e)}},$s=Object.create,Gg=function(){function e(){}return function(t){if(!Mt(t))return{};if($s)return $s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ks=function(e){return typeof e.constructor!="function"||ln(e)?{}:Gg(pu(e))},Vg=function(e){return _n(e)&&Hr(e)=="[object Map]"},qs=jr.a&&jr.a.isMap,Ug=qs?en(qs):Vg,Yg=function(e){return _n(e)&&Hr(e)=="[object Set]"},Zs=jr.a&&jr.a.isSet,Wg=Zs?en(Zs):Yg,At={};At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object DataView]"]=At["[object Boolean]"]=At["[object Date]"]=At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object Symbol]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Error]"]=At["[object Function]"]=At["[object WeakMap]"]=!1;var $g=function e(t,n,r,a,o,u){var l,d=1&n,m=2&n,w=4&n;if(r&&(l=o?r(t,a,o,u):r(t)),l!==void 0)return l;if(!Mt(t))return t;var S=Gt(t);if(S){if(l=Lg(t),!d)return Gs(t,l)}else{var T=Hr(t),z=T=="[object Function]"||T=="[object GeneratorFunction]";if(Object(zr.a)(t))return Object(Xs.a)(t,d);if(T=="[object Object]"||T=="[object Arguments]"||z&&!o){if(l=m||z?{}:Ks(t),!d)return m?Cg(t,Mg(l,t)):Ng(t,kg(l,t))}else{if(!At[T])return o?t:{};l=Xg(t,T,d)}}u||(u=new Hn);var q=u.get(t);if(q)return q;u.set(t,l),Wg(t)?t.forEach(function(ae){l.add(e(ae,n,r,ae,t,u))}):Ug(t)&&t.forEach(function(ae,ie){l.set(ie,e(ae,n,r,ie,t,u))});var te=S?void 0:(w?m?Rg:Kt:m?Jo:ur)(t);return Pg(te||t,function(ae,ie){te&&(ae=t[ie=ae]),ea(l,ie,e(ae,n,r,ie,t,u))}),l},Dt=function(e){return $g(e,5)},hu=function(e,t,n){(n!==void 0&&!Ke(e[t],n)||n===void 0&&!(t in e))&&su(e,t,n)},Kg=function(e){return _n(e)&&ar(e)},qg=Function.prototype,Zg=Object.prototype,Js=qg.toString,Jg=Zg.hasOwnProperty,Qg=Js.call(Object),eb=function(e){if(!_n(e)||xt(e)!="[object Object]")return!1;var t=pu(e);if(t===null)return!0;var n=Jg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Js.call(n)==Qg},yu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},tb=function(e){return go(e,Jo(e))},nb=function(e,t,n,r,a,o,u){var l=yu(e,n),d=yu(t,n),m=u.get(d);if(m)hu(e,n,m);else{var w=o?o(l,d,n+"",e,t,u):void 0,S=w===void 0;if(S){var T=Gt(d),z=!T&&Object(zr.a)(d),q=!T&&!z&&po(d);w=d,T||z||q?Gt(l)?w=l:Kg(l)?w=Gs(l):z?(S=!1,w=Object(Xs.a)(d,!0)):q?(S=!1,w=Ws(d,!0)):w=[]:eb(d)||Lr(d)?(w=l,Lr(l)?w=tb(l):Mt(l)&&!Io(l)||(w=Ks(d))):S=!1}S&&(u.set(d,w),a(w,d,r,o,u),u.delete(d)),hu(e,n,w)}},rb=function e(t,n,r,a,o){t!==n&&ss(n,function(u,l){if(o||(o=new Hn),Mt(u))nb(t,n,l,r,e,a,o);else{var d=a?a(yu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),hu(t,l,d)}},Jo)},Qs=ds(function(e,t,n){rb(e,t,n)}),ob={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},el=function(e){var t=Dt(ob);return e&&(t=Qs(t,e)),t};i(78),i(158);function ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ab=function(){function e(){var r,a,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,a,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:a,once:!!o})}),this}},{key:"once",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,a,!0)})}},{key:"emit",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(w){for(var S=w.length,T=0;T<S;T++)if(w[T]){var z=w[T],q=z.callback;z.once&&(w.splice(T,1),w.length===0&&delete o._events[u],S--,T--),q.apply(o,[a])}};m(l),m(d)})}},{key:"off",value:function(r,a){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===a&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&ib(t.prototype,n),e}();function bo(e,t){return t*Math.round(e/t)||e}function tl(e,t){return e%t}function vu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gu,bu=function(e,t,n){var r=vu(e,2),a=r[0],o=r[1],u=vu(t,2),l=u[0],d=u[1],m=vu(n,2),w=m[0],S=m[1];return a>l&&a<w&&o>d&&o<S},rl=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},ub=(i(79),i(161),i(125),i(80),i(12),i(13),i(14),i(47),i(31),new Uint8Array(16));function cb(){if(!gu&&!(gu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gu(ub)}for(var sb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,lb=function(e){return typeof e=="string"&&sb.test(e)},Ut=[],mu=0;mu<256;++mu)Ut.push((mu+256).toString(16).substr(1));var fb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ut[e[t+0]]+Ut[e[t+1]]+Ut[e[t+2]]+Ut[e[t+3]]+"-"+Ut[e[t+4]]+Ut[e[t+5]]+"-"+Ut[e[t+6]]+Ut[e[t+7]]+"-"+Ut[e[t+8]]+Ut[e[t+9]]+"-"+Ut[e[t+10]]+Ut[e[t+11]]+Ut[e[t+12]]+Ut[e[t+13]]+Ut[e[t+14]]+Ut[e[t+15]]).toLowerCase();if(!lb(n))throw TypeError("Stringified UUID is invalid");return n},_u=function(e,t,n){var r=(e=e||{}).random||(e.rng||cb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return fb(r)},Yr=function(){return _u()},pb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+_u(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+_u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Qo=(i(104),i(203),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function ol(e){return(ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?il(Object(n),!0).forEach(function(r){db(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe,ul,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,_l,Ol,wl,xl,Ou=function(e){return e.anchors},na=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var o=r[a];if(vb(e,o)){var u=yb(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!hb(o,n.node,t)||(n=l)}}}return n},hb=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},yb=function(e,t){for(var n,r=Ou(t),a=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Un(e.x,e.y,r[o].x,r[o].y);u<a&&(a=u,n={index:o,anchor:al(al({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Un=function(e,t,n,r){return Math.hypot(e-n,t-r)},Pr=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},vb=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},gn=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},El=function(e,t,n){var r,a=function(u){var l=u,d=l.x,m=l.y,w=l.width,S=l.height,T=l.radius;return[{x:d-w/2+T,y:m-S/2+T,r:T},{x:d+w/2-T,y:m-S/2+T,r:T},{x:d-w/2+T,y:m+S/2-T,r:T},{x:d+w/2-T,y:m+S/2-T,r:T}]}(n),o=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var l=Un(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),wu(e,t,r)},wu=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.r;if(t===Tt.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===Tt.VERTICAL){var w=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),S=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),T=Math.abs(w-e.y)<Math.abs(S-e.y)?w:S;r={x:e.x,y:T}}return r},jl=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,w=n.width,S=n.height;return e.y===m+S/2||e.y===m-S/2?r=e.x>a&&e.x<o:e.x!==d+w/2&&e.x!==d-w/2||(r=e.y>u&&e.y<l),r},Sl=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.rx,d=a.ry;if(t===Tt.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),w=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(w-e.x)?m:w,y:e.y}}else if(t===Tt.VERTICAL){var S=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),T=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),z=Math.abs(S-e.y)<Math.abs(T-e.y)?S:T;r={x:e.x,y:z}}return r},Pl=function(e,t,n){for(var r,a=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach(function(d){var m=d.start,w=d.end,S=m,T=w;m.x>w.x&&(S=w,T=m);var z={x:e.x,y:e.y};if(S.x===T.x&&t===Tt.HORIZONTAL&&(z={x:S.x,y:e.y}),S.y===T.y&&t===Tt.VERTICAL&&(z={x:e.x,y:S.y}),S.x!==T.x&&S.y!==T.y){var q=(T.y-S.y)/(T.x-S.x),te=(S.x*T.y-T.x*S.y)/(S.x-T.x);t===Tt.HORIZONTAL?z={x:(e.y-te)/q,y:e.y}:t===Tt.VERTICAL&&(z={x:e.x,y:q*e.x+te})}if(Qo(z,m,w)){var ae=Un(z.x,z.y,e.x,e.y);ae<o&&(o=ae,r=z)}}),r},kl=function(e,t,n,r){var a=e.x,o=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:a,y:o}},Al=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=a,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},xu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(o){var u=rf(o);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},ra=function(e){return ol(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Tl={node:!1,edge:!1},gb={node:!0,edge:!0},bb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Yn=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},mb=1e3,_b=999,Eu=function(){return++mb};function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dl(Object(n),!0).forEach(function(r){Tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ju=(ul=it((Pe=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Tn(this,"id",Yr()),Yt(this,"type",ul,this),Yt(this,"sourceNodeId",cl,this),Yt(this,"targetNodeId",sl,this),Yt(this,"startPoint",ll,this),Yt(this,"endPoint",fl,this),Yt(this,"text",pl,this),Yt(this,"properties",dl,this),Yt(this,"points",hl,this),Yt(this,"pointsList",yl,this),Yt(this,"isSelected",vl,this),Yt(this,"isHovered",gl,this),Yt(this,"isHitable",bl,this),Yt(this,"draggable",ml,this),Yt(this,"visible",_l,this),Yt(this,"isAnimation",Ol,this),Tn(this,"graphModel",void 0),Yt(this,"zIndex",wl,this),Tn(this,"BaseType",Ht.EDGE),Tn(this,"modelType",dt.EDGE),Yt(this,"state",xl,this),Tn(this,"additionStateData",void 0),Tn(this,"sourceAnchorId",""),Tn(this,"targetAnchorId",""),Tn(this,"menu",void 0),Tn(this,"customTextPosition",!1),Tn(this,"animationData",bb),this.graphModel=a,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}rn(this,Bb(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||Eu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Dt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Dt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var o,u;return Ou(r).forEach(function(l){var d=uf(l,a);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var a,o,u=this;return Ou(r).forEach(function(l){var d=uf(l,u.startPoint);o?d<o&&(o=d,a=l):(o=d,a=l)}),a}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:a,y:o,value:u}),this.graphModel.overlapMode===vn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=Yn(a),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=oa(oa({},this.properties),Yn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var a=this.textPosition,o=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,o=r.y;this.text.x=a,this.text.y=o}},{key:"moveText",value:function(r,a){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,w=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+a,editable:w}}}},{key:"setText",value:function(r){r&&rn(this.text,r)}},{key:"updateText",value:function(r){this.text=oa(oa({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){rn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,o=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&Ob(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cl=it(Pe.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=it(Pe.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=it(Pe.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fl=it(Pe.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=it(Pe.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),dl=it(Pe.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hl=it(Pe.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yl=it(Pe.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vl=it(Pe.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=it(Pe.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=it(Pe.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ml=it(Pe.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=it(Pe.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=it(Pe.prototype,"isAnimation",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wl=it(Pe.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=it(Pe.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),it(Pe.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"sourceNode"),Pe.prototype),it(Pe.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"targetNode"),Pe.prototype),it(Pe.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"textPosition"),Pe.prototype),it(Pe.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperty"),Pe.prototype),it(Pe.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperties"),Pe.prototype),it(Pe.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"formatText"),Pe.prototype),it(Pe.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"resetTextPosition"),Pe.prototype),it(Pe.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveText"),Pe.prototype),it(Pe.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setText"),Pe.prototype),it(Pe.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateText"),Pe.prototype),it(Pe.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setAnchors"),Pe.prototype),it(Pe.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setSelected"),Pe.prototype),it(Pe.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHovered"),Pe.prototype),it(Pe.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHitable"),Pe.prototype),it(Pe.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"openEdgeAnimation"),Pe.prototype),it(Pe.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"closeEdgeAnimation"),Pe.prototype),it(Pe.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setElementState"),Pe.prototype),it(Pe.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateStartPoint"),Pe.prototype),it(Pe.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveStartPoint"),Pe.prototype),it(Pe.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateEndPoint"),Pe.prototype),it(Pe.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveEndPoint"),Pe.prototype),it(Pe.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setZIndex"),Pe.prototype),it(Pe.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"initPoints"),Pe.prototype),it(Pe.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAttributes"),Pe.prototype),it(Pe.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustStart"),Pe.prototype),it(Pe.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustEnd"),Pe.prototype),it(Pe.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAfterAdjustStartAndEnd"),Pe.prototype),Pe),Su=ju;function Ml(e){return(Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(){return(Rl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Eb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Eb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ei(e))!==null;);return e}function Il(e,t){return(Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ei(e);if(t){var a=ei(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}function Ll(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at,Bl,Pu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Il(o,u)})(a,e);var t,n,r=jb(a);function a(){var o;wb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return zl(Ll(o=r.call.apply(r,[this].concat(l))),"modelType",dt.LINE_EDGE),o}return t=a,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Cl(Cl({},Rl(ei(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&xb(t.prototype,n),a}(Su);function Fl(e){return(Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xl(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(){return(ia=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Db(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Db(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Wr(e))!==null;);return e}function Vl(e,t){return(Vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Mb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wr(e);if(t){var a=Wr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Au=(Bl=on((at=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vl(o,u)})(a,e);var t,n,r=Mb(a);function a(){var o;Ab(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ku(ti(o=r.call.apply(r,[this].concat(l))),"modelType",dt.POLYLINE_EDGE),ku(ti(o),"draginngPointList",void 0),kb(ti(o),"dbClickPosition",Bl,ti(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=30,ia(Wr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Gl(Gl({},ia(Wr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=mo(this.points),m=Pb(Lb(d),2),w=m[0],S=m[1];return{x:(w.x+S.x)/2,y:(w.y+S.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(w){var S;o===Tt.HORIZONTAL?S=Math.abs(u.y-w.y):o===Tt.VERTICAL&&(S=Math.abs(u.x-w.x)),(!m||m>S)&&(m=S,d=w)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===Tt.HORIZONTAL?d={x:l.x,y:u.y}:o===Tt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(ie){return ie});if(o===1){var m=d[o],w=d[u],S=d[o-1];if(Ql(S,m,this.sourceNode)){if(ef(m,w,this.sourceNode)){var T=tf(m,w,this.sourceNode);T&&(d[o]=T,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(ie){(ie.x===S.x&&ie.x===m.x||ie.y===S.y&&ie.y===m.y)&&Un(ie.x,ie.y,m.x,m.y)<Un(S.x,S.y,m.x,m.y)&&(d[o-1]=ie)})}if(u===l.length-2){var z=d[o],q=d[u],te=d[u+1];if(Ql(q,te,this.targetNode)){if(ef(z,q,this.targetNode)){var ae=tf(z,q,this.targetNode);ae&&(d[u]=ae,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(ie){(ie.x===te.x&&ie.x===q.x||ie.y===te.y&&ie.y===q.y)&&Un(ie.x,ie.y,q.x,q.y)<Un(te.x,te.y,q.x,q.y)&&(d[u+1]=ie)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,m){var w=m.map(function(z){return z}),S=this.getAfterAnchor(o,l,d),T=this.getCorssPoint(o,l,S);return u==="start"?(w.unshift(T),w.unshift(S)):(w.push(T),w.push(S)),w}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(Oe){return Oe}),l=o[0],d=o[1],m=o[u.length-2],w=o[u.length-1],S=this.sourceNode,T=this.targetNode,z=S.modelType,q=T.modelType,te=fa(l,d),ae=u[0];switch(z){case dt.RECT_NODE:S.radius!==0&&(jl(l,S)||(ae=El(l,te,S)));break;case dt.CIRCLE_NODE:ae=wu(l,te,S);break;case dt.ELLIPSE_NODE:ae=Sl(l,te,S);break;case dt.DIAMOND_NODE:case dt.POLYGON_NODE:ae=Pl(l,te,S)}u[0]=ae;var ie=fa(m,w),ye=u[u.length-1];switch(q){case dt.RECT_NODE:T.radius!==0&&(jl(w,T)||(ye=El(w,ie,T)));break;case dt.CIRCLE_NODE:ye=wu(w,ie,T);break;case dt.ELLIPSE_NODE:ye=Sl(w,ie,T);break;case dt.DIAMOND_NODE:case dt.POLYGON_NODE:ye=Pl(w,ie,T)}return u[u.length-1]=ye,u}},{key:"getData",value:function(){var o=ia(Wr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,w=o.endIndex,S=o.direction,T=this.pointsList,z=T;return S===Tt.HORIZONTAL?(T[m]={x:l.x,y:l.y+u.y},T[w]={x:d.x,y:d.y+u.y},z=this.pointsList.map(function(q){return q})):S===Tt.VERTICAL&&(T[m]={x:l.x+u.x,y:l.y},T[w]={x:d.x+u.x,y:d.y},z=this.pointsList.map(function(q){return q})),this.updatePointsAfterDrage(z),this.draginngPointList=z,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[m]),end:Object.assign({},T[w]),startIndex:m,endIndex:w,direction:S}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,w=o.endIndex,S=o.direction,T=this.pointsList;if(S===Tt.HORIZONTAL){T[m]={x:l.x,y:l.y+u.y},T[w]={x:d.x,y:d.y+u.y};var z=this.pointsList.map(function(He){return He});if(m!==0&&w!==this.pointsList.length-1&&(z=this.removeCrossPoints(m,w,z)),m===0){var q={x:l.x,y:l.y+u.y};if(!Pr(q,this.sourceNode)){var te=this.sourceNode.anchors;z=this.getDragingPoints(S,"start",q,te,z)}}if(w===this.pointsList.length-1){var ae={x:d.x,y:d.y+u.y};if(!Pr(ae,this.targetNode)){var ie=this.targetNode.anchors;z=this.getDragingPoints(S,"end",ae,ie,z)}}z=Cu(z),this.updatePointsAfterDrage(z),this.draginngPointList=z}else if(S===Tt.VERTICAL){T[m]={x:l.x+u.x,y:l.y},T[w]={x:d.x+u.x,y:d.y};var ye=this.pointsList.map(function(He){return He});if(m!==0&&w!==this.pointsList.length-1&&(ye=this.removeCrossPoints(m,w,ye)),m===0){var Oe={x:l.x+u.x,y:l.y};if(!Pr(Oe,this.sourceNode)){var Ce=this.sourceNode.anchors;ye=this.getDragingPoints(S,"start",Oe,Ce,ye)}}if(w===this.pointsList.length-1){var je={x:d.x+u.x,y:d.y};if(!Pr(je,this.targetNode)){var Be=this.targetNode.anchors;ye=this.getDragingPoints(S,"end",je,Be,ye)}}ye=Cu(ye),this.updatePointsAfterDrage(ye),this.draginngPointList=ye}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[m]),end:Object.assign({},T[w]),startIndex:m,endIndex:w,direction:S}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=mo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,w=Jl({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=w,this.initPoints()}}])&&Tb(t.prototype,n),a}(Su)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on(at.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),on(at.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),on(at.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),on(at.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),on(at.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),on(at.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),on(at.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),on(at.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),on(at.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),on(at.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),on(at.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrage"),at.prototype),on(at.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),on(at.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),on(at.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),ni=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/a),m=Math.sqrt(a*a+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u};function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ul(Object(n),!0).forEach(function(r){Cb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rb(e){return function(t){if(Array.isArray(t))return Du(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Wl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yl(e){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Wl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wl(e,t){if(e){if(typeof e=="string")return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(e,t):void 0}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mu=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},ua=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ca=function(e,t){return function(n,r){var a=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return a/r.width>o/r.height?Tt.HORIZONTAL:Tt.VERTICAL}(t,e)===Tt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},$l=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:a,maxY:o,height:o-r,width:a-n}},ri=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(w){n.push(w.x),r.push(w.y)});var a=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-a,m=l-u;return t&&(d+=t,m+=t),{centerX:(a+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:a,minY:u,x:(a+o)/2,y:(u+l)/2,height:m,width:d}},sa=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},la=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Nu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Kl=function(e,t,n,r,a){return Nu(e,t)+Nu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,a])},oi=function(e,t,n,r){var a=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+a*(e.y-n.y))/(-u*o+a*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+a*l);return d>=0&&d<=1&&m>=0&&m<=1},ql=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Tu(sa(n),4),a=r[0],o=r[1],u=r[2],l=r[3];return oi(e,t,a,o)||oi(e,t,a,l)||oi(e,t,o,u)||oi(e,t,u,l)},Ib=function(e,t,n,r,a,o,u){var l=[],d=[t],m={},w={},S={};w[t.id]=0,S[t.id]=Kl(t,n,t);var T={};e.forEach(function(te){T[te.id]=te});for(var z=function(){var te,ae,ie,ye=void 0,Oe=1/0;if(d.forEach(function(je){S[je.id]<Oe&&(Oe=S[je.id],ye=je)}),ye===n){var Ce=[];return function je(Be,He,Re,ct,ht){ht||(ht=0),Be.unshift(He[ct]),Re[ct]&&Re[ct]!==ct&&ht<=100&&je(Be,He,Re,Re[ct],ht+1)}(Ce,T,m,n.id),{v:Ce}}ae=ye,(ie=(te=d).indexOf(ae))>-1&&te.splice(ie,1),l.push(ye),function(je,Be,He,Re){var ct=[];return je.forEach(function(ht){ht!==Be&&(ht.x!==Be.x&&ht.y!==Be.y||ql(ht,Be,He)||ql(ht,Be,Re)||ct.push(ht))}),Mu(ct)}(e,ye,r,a).forEach(function(je){if(l.indexOf(je)===-1){d.indexOf(je)===-1&&d.push(je);var Be=S[ye.id]+Nu(ye,je);w[je.id]&&Be>=w[je.id]||(m[je.id]=ye.id,w[je.id]=Be,S[je.id]=w[je.id]+Kl(je,n,t,o,u))}})};d.length;){var q=z();if(Yl(q)==="object")return q.v}return[t,n]},Zl=function(e){return gn(e)},Cu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],a=t[n],o=t[n+1];r.x===a.x&&a.x===o.x||r.y===a.y&&a.y===o.y?t.splice(n,1):n++}return t},Jl=function(e,t,n,r,a){var o,u,l=Zl(n),d=Zl(r),m=ua(l,a),w=ua(d,a),S=ca(m,e),T=ca(w,t);if(o=m,u=w,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var z=zb(e,t,S,T);return[e,S].concat(Rb(z),[T,t])}var q=ri([S,T]),te=$l(m,q),ae=$l(w,q),ie=[];ie=(ie=ie.concat(sa(te))).concat(sa(ae));var ye={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[q,te,ae].forEach(function(Ce){ie=ie.concat(function(je,Be){return function(He,Re){return Re<He.minX||Re>He.maxX?[]:[{x:Re,y:He.minY},{x:Re,y:He.maxY}]}(je,Be.x).concat(function(He,Re){return Re<He.minY||Re>He.maxY?[]:[{x:He.minX,y:Re},{x:He.maxX,y:Re}]}(je,Be.y))}(Ce,ye).filter(function(je){return la(je,m)&&la(je,w)}))}),[{x:S.x,y:T.y},{x:T.x,y:S.y}].forEach(function(Ce){la(Ce,m)&&la(Ce,w)&&ie.push(Ce)}),ie.unshift(S),ie.push(T),ie=Mu(ie);var Oe=Ib(ie,S,T,l,d,e,t);return Oe.unshift(e),Oe.push(t),Oe.length>2&&(Oe=Cu(Oe)),Mu(Oe)},Lb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Un(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Un(u.x,u.y,l.x,l.y);d>a&&(a=d,n=u,r=l)}t=[n,r]}return t},Ql=function(e,t,n){var r=Pr(e,n),a=Pr(t,n);return r&&a},ef=function(e,t,n){var r=Pr(e,n),a=Pr(t,n);return!(r&&a)&&(r||a)},tf=function(e,t,n){for(var r,a,o=gn(n),u=sa(o),l=0;l<u.length;l++)oi(e,t,u[l],u[(l+1)%u.length])&&(a=[u[l],u[(l+1)%u.length]]);return a&&(r=function(d,m,w,S){var T=(m.y-d.y)*(S.x-w.x)-(d.x-m.x)*(w.y-S.y);if(T===0)return!1;var z=((m.x-d.x)*(S.x-w.x)*(w.y-d.y)+(m.y-d.y)*(S.x-w.x)*d.x-(S.y-w.y)*(m.x-d.x)*w.x)/T,q=-((m.y-d.y)*(S.y-w.y)*(w.x-d.x)+(m.x-d.x)*(S.y-w.y)*d.y-(S.x-w.x)*(m.y-d.y)*w.y)/T;return(z-d.x)*(z-m.x)<=0&&(q-d.y)*(q-m.y)<=0&&(z-w.x)*(z-S.x)<=0&&(q-w.y)*(q-S.y)<=0&&{x:z,y:q}}(e,t,a[0],a[1])),r},fa=function(e,t){var n;return e.x===t.x?n=Tt.VERTICAL:e.y===t.y&&(n=Tt.HORIZONTAL),n},mo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=Tu(r.split(","),2),o=a[0],u=a[1];n.push({x:Number(o),y:Number(u)})}),n},zb=function(e,t,n,r){var a=[];if(fa(e,n)===fa(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Qo(o,e,n),l=Qo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=nf(o,e,n),m=nf(o,t,r);d&&m&&(o={x:r.x,y:n.y})}a.push(o)}return a},nf=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},rf=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},of=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,o=e.offset,u=gn(r),l=gn(a),d=ua(u,o),m=ua(l,o);return{sNext:ca(d,t),ePre:ca(m,n)}},pa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[da(t[0]),da(t[1]),da(t[2]),da(t[3])]},da=function(e){var t=Tu(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},af=function(e,t){for(var n,r=e.x,a=e.y,o=mo(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(T){var z=T.start,q=T.end;if(z.x===q.x){var te={x:z.x,y:a};if(Qo(te,z,q)){var ae=Math.abs(z.x-r);ae<u&&(u=ae,n=te)}}else if(z.y===q.y){var ie={x:r,y:z.y};if(Qo(ie,z,q)){var ye=Math.abs(z.y-a);ye<u&&(u=ye,n=ie)}}}),!n){var m=l[0],w=m.start,S=m.end;n={x:w.x+(S.x-w.x)/2,y:w.y+(S.y-w.y)/2}}return n},Bb=function(e){return Zo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},uf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var _o=function(){};function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=window.document;function Ru(e){var t=e.onDragStart,n=t===void 0?_o:t,r=e.onDraging,a=r===void 0?_o:r,o=e.onDragEnd,u=o===void 0?_o:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,w=m===void 0||m,S=!1,T=!1,z=0,q=0,te=0,ae=0;function ie(Oe){if(w&&Oe.stopPropagation(),T&&(S=!0,te+=Oe.clientX-z,ae+=Oe.clientY-q,z=Oe.clientX,q=Oe.clientY,Math.abs(te)>d||Math.abs(ae)>d)){var Ce=te%d,je=ae%d,Be=te-Ce,He=ae-je;te=Ce,ae=je,a({deltaX:Be,deltaY:He,event:Oe})}}function ye(Oe){if(w&&Oe.stopPropagation(),T=!1,Wn.removeEventListener("mousemove",ie,!1),Wn.removeEventListener("mouseup",ye,!1),S)return S=!1,u({event:Oe})}return function(Oe){if(Oe.button===0)return w&&Oe.stopPropagation(),T=!0,z=Oe.clientX,q=Oe.clientY,Wn.addEventListener("mousemove",ie,!1),Wn.addEventListener("mouseup",ye,!1),n({event:Oe})}}var he,cf,sf,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,$r=function(){function e(r){var a=this,o=r.onDragStart,u=o===void 0?_o:o,l=r.onDraging,d=l===void 0?_o:l,m=r.onDragEnd,w=m===void 0?_o:m,S=r.eventType,T=S===void 0?"":S,z=r.eventCenter,q=z===void 0?null:z,te=r.step,ae=te===void 0?1:te,ie=r.isStopPropagation,ye=ie===void 0||ie,Oe=r.model,Ce=Oe===void 0?null:Oe;(function(je,Be){if(!(je instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,e),Bt(this,"onDragStart",void 0),Bt(this,"onDraging",void 0),Bt(this,"onDragEnd",void 0),Bt(this,"step",void 0),Bt(this,"isStopPropagation",void 0),Bt(this,"isDraging",!1),Bt(this,"isStartDraging",!1),Bt(this,"startX",0),Bt(this,"startY",0),Bt(this,"sumDeltaX",0),Bt(this,"sumDeltaY",0),Bt(this,"eventType",void 0),Bt(this,"eventCenter",void 0),Bt(this,"model",void 0),Bt(this,"startTime",void 0),Bt(this,"isGrag",void 0),Bt(this,"handleMouseDown",function(je){var Be,He;if(je.button===0){a.isStopPropagation&&je.stopPropagation(),a.isStartDraging=!0,a.startX=je.clientX,a.startY=je.clientY,Wn.addEventListener("mousemove",a.handleMouseMove,!1),Wn.addEventListener("mouseup",a.handleMouseUp,!1);var Re=(Be=a.model)===null||Be===void 0?void 0:Be.getData();(He=a.eventCenter)===null||He===void 0||He.emit(nt["".concat(a.eventType,"_MOUSEDOWN")],{e:je,data:Re}),a.startTime=new Date().getTime()}}),Bt(this,"handleMouseMove",function(je){if(a.isStopPropagation&&je.stopPropagation(),a.isStartDraging&&(a.sumDeltaX+=je.clientX-a.startX,a.sumDeltaY+=je.clientY-a.startY,a.startX=je.clientX,a.startY=je.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var Be,He=a.sumDeltaX%a.step,Re=a.sumDeltaY%a.step,ct=a.sumDeltaX-He,ht=a.sumDeltaY-Re;a.sumDeltaX=He,a.sumDeltaY=Re;var Ct,Xt=(Be=a.model)===null||Be===void 0?void 0:Be.getData();a.isDraging||((Ct=a.eventCenter)===null||Ct===void 0||Ct.emit(nt["".concat(a.eventType,"_DRAGSTART")],{e:je,data:Xt}),a.onDragStart({event:je})),a.isDraging=!0,Promise.resolve().then(function(){var cn,fn;a.onDraging({deltaX:ct,deltaY:ht,event:je}),(cn=a.eventCenter)===null||cn===void 0||cn.emit(nt["".concat(a.eventType,"_MOUSEMOVE")],{e:je,data:Xt}),(fn=a.eventCenter)===null||fn===void 0||fn.emit(nt["".concat(a.eventType,"_DRAG")],{e:je,data:Xt})})}}),Bt(this,"handleMouseUp",function(je){a.isStartDraging=!1,a.isStopPropagation&&je.stopPropagation(),Promise.resolve().then(function(){var Be,He,Re;Wn.removeEventListener("mousemove",a.handleMouseMove,!1),Wn.removeEventListener("mouseup",a.handleMouseUp,!1);var ct=(Be=a.model)===null||Be===void 0?void 0:Be.getData();(He=a.eventCenter)===null||He===void 0||He.emit(nt["".concat(a.eventType,"_MOUSEUP")],{e:je,data:ct}),a.isDraging&&(a.isDraging=!1,a.onDragEnd({event:je}),(Re=a.eventCenter)===null||Re===void 0||Re.emit(nt["".concat(a.eventType,"_DROP")],{e:je,data:ct}))})}),Bt(this,"cancelDrag",function(){Wn.removeEventListener("mousemove",a.handleMouseMove,!1),Wn.removeEventListener("mouseup",a.handleMouseUp,!1),a.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=w,this.step=ae,this.isStopPropagation=ye,this.eventType=T,this.eventCenter=q,this.model=Ce}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Fb(t.prototype,n),e}();function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_f(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Of(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||wf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oo(e){return function(t){if(Array.isArray(t))return Iu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wf(e,t){if(e){if(typeof e=="string")return Iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}}function Iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lu(e){return(Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xf,Ef=(cf=Je((he=function(){function e(r){(function(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"rootEl",void 0),xn(this,"width",cf,this),xn(this,"height",sf,this),cr(this,"theme",void 0),cr(this,"eventCenter",void 0),cr(this,"modelMap",new Map),cr(this,"topElement",void 0),cr(this,"animation",void 0),cr(this,"idGenerator",void 0),cr(this,"nodeMoveRules",[]),xn(this,"edgeType",lf,this),xn(this,"nodes",ff,this),xn(this,"edges",pf,this),xn(this,"overlapMode",df,this),xn(this,"background",hf,this),xn(this,"transformModel",yf,this),xn(this,"editConfigModel",vf,this),xn(this,"gridSize",gf,this),xn(this,"partial",bf,this),xn(this,"fakerNode",mf,this);var a,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,m=r.idGenerator,w=r.animation;this.background=l,Lu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Ns(r),this.eventCenter=new ab,this.transformModel=new Sg(this.eventCenter),this.theme=el(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(a=w)&&typeof a!="boolean"?Qs(Dt(Tl),a):Dt(a===!0?gb:Tl),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=m}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(Oo(this.nodes),Oo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(S){return r.push(S)}),this.edges.forEach(function(S){return r.push(S)}),r=r.sort(function(S,T){return S.zIndex-T.zIndex});for(var a=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,u,l,!1,!1))&&(m.zIndex===9999&&(o=a.length),a.push(m))}if(o!==-1){var w=a[a.length-1];a[a.length-1]=a[o],a[o]=w}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===St.TEXT_EDIT}),a=this.edges.find(function(o){return o.state===St.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"getAreaElement",value:function(r,a){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=[],d=[];this.nodes.forEach(function(S){return d.push(S)}),this.edges.forEach(function(S){return d.push(S)});for(var m=0;m<d.length;m++){var w=d[m];this.isElementInArea(w,r,a,o,u)&&l.push(w)}return l}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:a-u.left,y:o-u.top},d=Of(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,a,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ht.NODE){for(var d=gn(r=r),m=d.minX,w=d.minY,S=d.maxX,T=d.maxY,z=[{x:m,y:w},{x:S,y:w},{x:S,y:T},{x:m,y:T}],q=l,te=0;te<z.length;te++){var ae=z[te],ie=ae.x,ye=ae.y,Oe=this.transformModel.CanvasPointToHtmlPoint([ie,ye]),Ce=Of(Oe,2);if(ie=Ce[0],ye=Ce[1],bu([ie,ye],a,o)!==l){q=!l;break}}return q}if(r.BaseType===Ht.EDGE){var je=r=r,Be=je.startPoint,He=je.endPoint,Re=this.transformModel.CanvasPointToHtmlPoint([Be.x,Be.y]),ct=this.transformModel.CanvasPointToHtmlPoint([He.x,He.y]),ht=bu(Re,a,o),Ct=bu(ct,a,o);return u?ht&&Ct:ht||Ct}return!1}},{key:"graphDataToModel",value:function(r){var a=this;this.nodes=Ji(r.nodes,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=bo(l,a.gridSize),o.y=bo(d,a.gridSize),Lu(o.text)==="object"&&(o.text.x-=tl(l,a.gridSize),o.text.y-=tl(d,a.gridSize))),new u(o,a)}),this.edges=Ji(r.edges,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,a)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var a=[];return this.nodes.forEach(function(o){var u=o.getData();u&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var w=this.edges[m];if(w.isDragging){l=!0;break}d.push(w.getHistoryData())}return!l&&{nodes:a,edges:d}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,o={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Ht.NODE&&o.nodes.push(u.getData()),u.BaseType===Ht.EDGE){var l=u.getData(),d=a.get(l.sourceNodeId)&&a.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Yr()),this.nodesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=a),o.targetNodeId===r&&(o.targetNodeId=a)}),this.nodesMap[r].model.id=a,a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,a){return a||(a=Yr()),this.edgesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=a)}),a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,o,u,l=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===vn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===vn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof a=="number"&&(l=a),a==="top"&&(l=Eu()),a==="bottom"&&(l=--_b),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(nt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=Yn(r);a.id&&this.nodesMap[r.id]&&delete a.id;var o=this.getModel(a.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(a.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(a,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(nt.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),o=a.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.move(a,o,u);m&&this.moveEdge(r,a,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,w=d.y,S=a-m,T=o-w;this.moveNode(r,S,T,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=Yn(r),o=a.type;o||(o=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(ha(ha({},a),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(nt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,a,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],m=d.textPosition,w=m.x,S=m.y,T=this.edges[u].sourceNodeId===r,z=this.edges[u].targetNodeId===r;if(T&&d.moveStartPoint(a,o),z&&d.moveEndPoint(a,o),T||z)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===dt.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var q=d.text,te=af(q,d.points);d.moveText(te.x-q.x,te.y-q.y)}else{var ae=d.textPosition,ie=ae.x,ye=ae.y;d.moveText(ie-w,ye-S)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===a){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(nt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,a,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(o){o.id===r&&o.updateText(a)}),this.edges.forEach(function(o){o.id===r&&o.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===vn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,a,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var w=kl(d,m.startPoint,d.width,d.height);m.updateStartPoint(w)}if(m.targetNodeId===r){var S=kl(d,m.endPoint,d.width,d.height);m.updateEndPoint(S)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,a){var o=this.getEdgeModelById(r);if(o){if(o.type!==a){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.targetNodeId===r&&a.push(o)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&a.push(o)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(a.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(a.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=el(ha(ha({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r!=null?r:this.width,this.height=a!=null?a:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],o=[];r.forEach(function(S){var T=S.x,z=S.y,q=S.width,te=S.height,ae=S.getNodeStyle().strokeWidth,ie=ae===void 0?0:ae;a=a.concat([T+q/2+ie,T-q/2-ie]),o=o.concat([z+te/2+ie,z-te/2-ie])});var u=Math.min.apply(Math,Oo(a)),l=Math.max.apply(Math,Oo(a)),d=Math.min.apply(Math,Oo(o)),m=l-u||0,w=Math.max.apply(Math,Oo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:w,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+w/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=a||u.clientWidth,m=o||u.clientHeight,w=this.getVirtualRectSize(),S=w.virtualRectCenterPositionX,T=w.virtualRectCenterPositionY;l.focusOn(S,T,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,u=this.width,l=this.height,d=this.rootEl,m=this.transformModel;if(o.length){var w=u||d.clientWidth,S=l||d.clientHeight,T=this.getVirtualRectSize(),z=T.virtualRectWidth,q=T.virtualRectHeight,te=T.virtualRectCenterPositionX,ae=T.virtualRectCenterPositionY,ie=(z+a)/w,ye=(q+r)/S,Oe=0;Oe=1/Math.max(ie,ye);var Ce=[w/2,S/2];m.zoom(Oe,Ce),m.focusOn(te,ae,w,S)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}])&&Hb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=Je(he.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=Je(he.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=Je(he.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pf=Je(he.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),df=Je(he.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vn.DEFAULT}}),hf=Je(he.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=Je(he.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=Je(he.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=Je(he.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bf=Je(he.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=Je(he.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(he.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"nodesMap"),he.prototype),Je(he.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"edgesMap"),he.prototype),Je(he.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"modelsMap"),he.prototype),Je(he.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"sortElements"),he.prototype),Je(he.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"textEditElement"),he.prototype),Je(he.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"selectElements"),he.prototype),Je(he.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setFakerNode"),he.prototype),Je(he.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"removeFakerNode"),he.prototype),Je(he.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setModel"),he.prototype),Je(he.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"toFront"),he.prototype),Je(he.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementZIndex"),he.prototype),Je(he.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteNode"),he.prototype),Je(he.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"addNode"),he.prototype),Je(he.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"cloneNode"),he.prototype),Je(he.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode"),he.prototype),Je(he.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode2Coordinate"),he.prototype),Je(he.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"editText"),he.prototype),Je(he.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"addEdge"),he.prototype),Je(he.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveEdge"),he.prototype),Je(he.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySourceAndTarget"),he.prototype),Je(he.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeById"),he.prototype),Je(he.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySource"),he.prototype),Je(he.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeByTarget"),he.prototype),Je(he.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementStateById"),he.prototype),Je(he.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"updateText"),he.prototype),Je(he.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectNodeById"),he.prototype),Je(he.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectEdgeById"),he.prototype),Je(he.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectElementById"),he.prototype),Je(he.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"clearSelectElements"),he.prototype),Je(he.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNodes"),he.prototype),Je(he.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setDefaultEdgeType"),he.prototype),Je(he.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"changeNodeType"),he.prototype),Je(he.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"changeEdgeType"),he.prototype),Je(he.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingEdge"),he.prototype),Je(he.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingEdge"),he.prototype),Je(he.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingNode"),he.prototype),Je(he.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingNode"),he.prototype),Je(he.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setTheme"),he.prototype),Je(he.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"resize"),he.prototype),Je(he.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"clearData"),he.prototype),Je(he.prototype,"translateCenter",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"translateCenter"),he.prototype),Je(he.prototype,"fitView",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"fitView"),he.prototype),Je(he.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"openEdgeAnimation"),he.prototype),Je(he.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"closeEdgeAnimation"),he.prototype),he),Xb=Ef;function jf(e){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sf(){return(Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Vb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zu(e);if(t){var a=zu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kf,Yb=Ln(xf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(a,e);var t,n,r=Vb(a);function a(o){var u;(function(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),sr($n(u=r.call(this)),"stepDrag",void 0),sr($n(u),"stepScrollX",0),sr($n(u),"stepScrollY",0),sr($n(u),"onDraging",function(w){var S=w.deltaX,T=w.deltaY;u.setState({isDraging:!0});var z=u.props.graphModel,q=z.transformModel;z.editConfigModel.stopMoveGraph||q.translate(S,T)}),sr($n(u),"onDragEnd",function(){u.setState({isDraging:!1})}),sr($n(u),"zoomHandler",function(w){var S=u.props,T=S.graphModel,z=T.editConfigModel,q=T.transformModel,te=T.gridSize,ae=S.graphModel,ie=w.deltaX,ye=w.deltaY;if(z.stopScrollGraph||w.ctrlKey===!0){if(!z.stopZoomGraph){w.preventDefault();var Oe=ae.getPointByClient({x:w.clientX,y:w.clientY}).canvasOverlayPosition,Ce=Oe.x,je=Oe.y;q.zoom(w.deltaY<0,[Ce,je])}}else{if(w.preventDefault(),u.stepScrollX+=ie,u.stepScrollY+=ye,Math.abs(u.stepScrollX)>=te){var Be=u.stepScrollX%te,He=u.stepScrollX-Be;q.translate(-He*q.SCALE_X,0),u.stepScrollX=Be}if(Math.abs(u.stepScrollY)>=te){var Re=u.stepScrollY%te,ct=u.stepScrollY-Re;q.translate(0,-ct*q.SCALE_Y),u.stepScrollY=Re}}}),sr($n(u),"clickHandler",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){var S=u.props.graphModel;S.selectElements.size>0&&S.clearSelectElements(),S.eventCenter.emit(nt.BLANK_CLICK,{e:w})}}),sr($n(u),"handleContextMenu",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){w.preventDefault();var S=u.props.graphModel,T=S.getPointByClient({x:w.clientX,y:w.clientY});S.eventCenter.emit(nt.BLANK_CONTEXTMENU,{e:w,position:T})}}),sr($n(u),"mouseDownHandler",function(w){var S=u.props.graphModel,T=S.eventCenter,z=S.editConfigModel,q=S.transformModel.SCALE_X,te=S.gridSize,ae=w.target,ie=!z.adjustEdge&&!z.adjustNodePosition;(ae.getAttribute("name")==="canvas-overlay"||ie)&&(z.stopMoveGraph?T.emit(nt.BLANK_MOUSEDOWN,{e:w}):(u.stepDrag.setStep(te*q),u.stepDrag.handleMouseDown(w)),u.clickHandler(w))});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new $r({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDraging;return Object(ee.g)("svg",Sf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(ee.g)("g",{transform:o},l))}}])&&Gb(t.prototype,n),a}(ee.a))||xf;function Af(e){return(Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Kb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bu(e);if(t){var a=Bu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qb(this,n)}}function qb(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Df(e)}function Df(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Zb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jb=Ln(kf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Tf(o,u)})(a,e);var t,n,r=Kb(a);function a(){var o;Wb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Zb(Df(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(m){var w=o.props.tool.getInstance();w.components.forEach(function(S){return S(w,m)}),w.components=[]}),o}return t=a,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(ee.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&$b(t.prototype,n),a}(ee.a))||kf;function Mf(e){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function tm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fu(e);if(t){var a=Fu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf,rm=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nf(o,u)})(a,e);var t,n,r=tm(a);function a(){return Qb(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:o,className:"lf-background-area"}))}}])&&em(t.prototype,n),a}(ee.a);function Rf(e){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hu(e);if(t){var a=Hu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return um(this,n)}}function um(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lf(e)}function Lf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zf=Ln(Cf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&If(o,u)})(a,e);var t,n,r=am(a);function a(){var o;om(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return cm(Lf(o=r.call.apply(r,[this].concat(l))),"id",Yr()),o}return t=a,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,w=o.size,S=o.visible,T=Math.min(Math.max(2,m),w/2),z=1;return S||(z=0),Object(ee.g)("rect",{width:T,height:T,rx:T/2,ry:T/2,fill:l,opacity:z})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,w=o.size,S=o.visible,T=Math.min(Math.max(1,m),w/2),z="M ".concat(w," 0 H0 M0 0 V0 ").concat(w),q=1;return S||(q=0),Object(ee.g)("path",{d:z,stroke:l,strokeWidth:T,opacity:q})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),w="matrix(".concat(m,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:w,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&im(t.prototype,n),a}(ee.a))||Cf;zf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function sm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ff(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ff(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hf,Kr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=sm(n,2),a=r[0],o=r[1];(a==="style"||Bf(o)!=="object")&&(t[a]=o)}),Object(ee.g)("line",t)};function Xf(e){return(Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gf(Object(n),!0).forEach(function(r){lm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e,t){return(Vf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function dm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xu(e);if(t){var a=Xu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Uf,ym=Ln(Hf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vf(o,u)})(a,e);var t,n,r=dm(a);function a(){return fm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),w=u.x,S=w===void 0?0:w,T=u.y,z=T===void 0?0:T,q=ya(ya({x1:-1e5,y1:z,x2:1e5,y2:z},m),{},{stroke:l?m.stroke:"none"}),te=ya(ya({x1:S,y1:-1e5,x2:S,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Kr,q),Object(ee.g)(Kr,te))}}])&&pm(t.prototype,n),a}(ee.a))||Hf;function Yf(e){return(Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Wf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-a/2,m={};return Object.entries(e).forEach(function(w){var S=vm(w,2),T=S[0],z=S[1];Yf(z)!=="object"&&(m[T]=z)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(ee.g)("rect",m)}function $f(e){return($f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(n),!0).forEach(function(r){gm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zf(e,t){return(Zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _m(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(e);if(t){var a=Gu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}kr.defaultProps={className:"",radius:""};var Jf,wm=Ln(Uf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zf(o,u)})(a,e);var t,n,r=_m(a);function a(){return bm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,w=[];return u.forEach(function(S){if(S.isHovered||S.isSelected){var T=S.isHovered,z=S.isSelected,q=S.x,te=S.y,ae=S.width,ie=S.height;if(m&&z||d&&T){var ye=S.getOutlineStyle(),Oe={};if(Object.keys(ye).forEach(function(je){je!=="hover"&&(Oe[je]=ye[je])}),T){var Ce=ye.hover;Oe=qf(qf({},Oe),Ce)}w.push(Object(ee.g)(kr,ii({className:"lf-outline-node",x:q,y:te,width:ae+10,height:ie+10},Oe)))}}}),w}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,w=[],S=0;S<u.length;S++){var T=u[S];(d&&T.isSelected||m&&T.isHovered)&&(T.modelType===dt.LINE_EDGE?w.push(this.getLineOutline(T)):T.modelType===dt.POLYLINE_EDGE?w.push(this.getPolylineOutline(T)):T.modelType===dt.BEZIER_EDGE&&w.push(this.getBezierOutline(T)))}return w}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,w=Math.abs(u.x-l.x)+10,S=Math.abs(u.y-l.y)+10,T=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline-edge",x:d,y:m,width:w,height:S},T))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=mo(u),d=ri(l,8),m=d.x,w=d.y,S=d.width,T=d.height,z=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline",x:m,y:w,width:S,height:T},z))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=pa(u),d=ri(l,8),m=d.x,w=d.y,S=d.width,T=d.height,z=o.getOutlineStyle();return Object(ee.g)(kr,ii({className:"lf-outline",x:m,y:w,width:S,height:T},z))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&mm(t.prototype,n),a}(ee.a))||Uf;function Qf(e){return(Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ep(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ai(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var w=xm(m,2),S=w[0],T=w[1];Qf(T)!=="object"&&(d[S]=T)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(ee.g)("circle",d)}function tp(e){return(tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Em(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return np(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return np(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t,n){return t&&op(e.prototype,t),n&&op(e,n),e}function ap(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}function up(e,t){return(up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function cp(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vu(e);if(t){var a=Vu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jm(this,n)}}function jm(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp,lp=function(e){ap(n,e);var t=cp(n);function n(){var r;return rp(this,n),Uu(ga(r=t.call(this)),"dragHandler",void 0),Uu(ga(r),"onDraging",function(a){var o=a.event,u=r.props,l=u.graphModel,d=u.bezierModel,m=u.type,w=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,S=w.x,T=w.y;d.updateAdjustAnchor({x:S,y:T},m)}),Uu(ga(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new $r({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return ip(n,[{key:"render",value:function(){var r=this,a=this.props.position,o=a.x,u=a.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(ai,va({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(ee.a),Sm=Ln(Jf=function(e){ap(n,e);var t=cp(n);function n(){return rp(this,n),t.apply(this,arguments)}return ip(n,[{key:"getBezierAdjust",value:function(r,a){var o=r.path,u=r.id,l=Em(pa(o),4),d=l[0],m=l[1],w=l[2],S=l[3],T=r.getEdgeStyle().adjustLine,z=[];return z.push(Object(ee.g)(Kr,va({x1:d.x,y1:d.y,x2:m.x,y2:m.y},T))),z.push(Object(ee.g)(lp,{position:m,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),z.push(Object(ee.g)(Kr,va({x1:S.x,y1:S.y,x2:w.x,y2:w.y},T))),z.push(Object(ee.g)(lp,{position:w,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),z}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,o=[],u=0;u<a.length;u++){var l=a[u];l.isSelected&&l.modelType===dt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Jf;function fp(e){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t){return(pp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yu(e);if(t){var a=Yu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tm(this,n)}}function Tm(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dp,Dm=Ln(sp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pp(o,u)})(a,e);var t,n,r=Am(a);function a(){return Pm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:o},u))}}])&&km(t.prototype,n),a}(ee.a))||sp;function hp(e){return(hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Cm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wu(e);if(t){var a=Wu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rm(this,n)}}function Rm(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Im=Ln(dp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(a,e);var t,n,r=Cm(a);function a(){return Mm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(ee.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,w=u.dnd,S=u.snaplineModel,T={};m.width&&(T.width="".concat(l.width,"px")),m.height&&(T.height="".concat(l.height,"px"));var z=l.fakerNode,q=l.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph",style:T},Object(ee.g)(Yb,{graphModel:l,dnd:w},Object(ee.g)("g",{className:"lf-base"},Ji(l.sortElements,function(te){return o.getComponent(te,l)})),z?this.getComponent(z,l):""),Object(ee.g)(Dm,{graphModel:l},Object(ee.g)(wm,{graphModel:l}),q?Object(ee.g)(Sm,{graphModel:l}):"",m.isSilentMode||m.snapline===!1?"":Object(ee.g)(ym,{snaplineModel:S})),Object(ee.g)(Jb,{graphModel:l,tool:d}),m.background&&Object(ee.g)(rm,{background:m.background}),m.grid&&Object(ee.g)(zf,yp({},m.grid,{graphModel:l})))}}])&&Nm(t.prototype,n),a}(ee.a))||dp;function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zm=function(){function e(r){var a=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),lr(this,"nodeConfig",void 0),lr(this,"lf",void 0),lr(this,"fakerNode",void 0),lr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),lr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(ba(ba({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),lr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var l=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;a.fakerNode.moveTo(d,m);var w=a.fakerNode.getData();a.lf.setNodeSnapLine(w),a.lf.graphModel.eventCenter.emit(nt.NODE_DND_DRAG,{data:w})}return!1}),lr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),lr(this,"onDrop",function(u){if(a.lf.graphModel&&u&&a.nodeConfig){var l=a.lf.addNode(ba(ba({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null;var d=l.getData();a.lf.graphModel.eventCenter.emit(nt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,o=r.y,u=Ko(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:a,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:bo(d,u),y:bo(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Lm(t.prototype,n),e}();function bp(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof a=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=rn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),rn({},_p,e)}var _t,mp,_p={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Op(e){return(Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $u(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(n),!0).forEach(function(r){jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(){return(_a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Xm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Xm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qr(e))!==null;);return e}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Gm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qr(e);if(t){var a=qr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ku=(mp=Dn((_t=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ep(o,u)})(a,e);var t,n,r=Gm(a);function a(){var o;Fm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jp(Oa(o=r.call.apply(r,[this].concat(l))),"modelType",dt.BEZIER_EDGE),Bm(Oa(o),"path",mp,Oa(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=100,_a(qr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ma(ma({},_a(qr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=_a(qr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ma(ma({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return of({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=$u(o,4),l=u[0],d=u[1],m=u[2],w=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(w.x," ").concat(w.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=$u(this.pointsList,3),d=l[1],m=l[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=$u(this.pointsList,3),d=l[1],m=l[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,w=of({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),S=w.sNext,T=w.ePre;this.pointsList=[u,S,T,l],this.initPoints()}}])&&Hm(t.prototype,n),a}(Su)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dn(_t.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"initPoints"),_t.prototype),Dn(_t.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updatePoints"),_t.prototype),Dn(_t.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateStartPoint"),_t.prototype),Dn(_t.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateEndPoint"),_t.prototype),Dn(_t.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveStartPoint"),_t.prototype),Dn(_t.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveEndPoint"),_t.prototype),Dn(_t.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAdjustAnchor"),_t.prototype),Dn(_t.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustStart"),_t.prototype),Dn(_t.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustEnd"),_t.prototype),Dn(_t.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAfterAdjustStartAndEnd"),_t.prototype),_t),Ve,Sp,Pp,kp,Ap,Tp,Dp,Mp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Xp,Um=function(e){return e==null};function Gp(e){return(Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ym(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Vp(d,m);var w=Object.prototype.toString.call(d).slice(8,-1);if(w==="Object"&&d.constructor&&(w=d.constructor.name),w==="Map"||w==="Set")return Array.from(d);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Vp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Up(Object(n),!0).forEach(function(r){En(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ar,Yp,pr=(Sp=Ot((Ve=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),En(this,"id",Yr()),Wt(this,"type",Sp,this),Wt(this,"x",Pp,this),Wt(this,"y",kp,this),Wt(this,"text",Ap,this),Wt(this,"properties",Tp,this),Wt(this,"_width",Dp,this),Wt(this,"_height",Mp,this),Wt(this,"anchorsOffset",Np,this),Wt(this,"isSelected",Cp,this),Wt(this,"isHovered",Rp,this),Wt(this,"isDragging",Ip,this),Wt(this,"isHitable",Lp,this),Wt(this,"draggable",zp,this),Wt(this,"visible",Bp,this),En(this,"graphModel",void 0),Wt(this,"zIndex",Fp,this),Wt(this,"state",Hp,this),Wt(this,"autoToFront",Xp,this),En(this,"BaseType",Ht.NODE),En(this,"modelType",dt.NODE),En(this,"additionStateData",void 0),En(this,"targetRules",[]),En(this,"sourceRules",[]),En(this,"moveRules",[]),En(this,"hasSetTargetRules",!1),En(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),rn(this,function(l){return Zo(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||Eu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===vn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:a,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Dt(a)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var w=u[m];if(!w.validate.call(this,this,r,a,o)){d=!1,l=w.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var w=u[m];if(!w.validate.call(this,r,this,a,o)){d=!1,l=w.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,a){var o,u=!0,l=!0,d=Ym(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,a);if(!m)return!1;if(Gp(m)==="object"){var w=m;if(w.x===!1&&w.y===!1)return!1;u=u&&w.x,l=l&&w.y}}}catch(S){d.e(S)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(a,"_").concat(d),x:o+l[0],y:u+l[1]}):fr(fr({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(a,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Um(r))for(var a=0;a<this.anchors.length;a++){var o=this.anchors[a];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,a);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(l){var w=this.y+a;this.y=w,this.text&&this.moveText(0,a)}return u||l}},{key:"moveTo",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=a-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,w=o.editable;this.text={value:d,editable:w,draggable:m,x:u+r,y:l+a}}},{key:"updateText",value:function(r){this.text=fr(fr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=fr(fr({},this.properties),{},En({},r,Yn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),Yn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){rn(this,r)}}])&&Wm(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=Ot(Ve.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=Ot(Ve.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ap=Ot(Ve.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tp=Ot(Ve.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Dp=Ot(Ve.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Mp=Ot(Ve.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Np=Ot(Ve.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cp=Ot(Ve.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=Ot(Ve.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=Ot(Ve.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=Ot(Ve.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=Ot(Ve.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bp=Ot(Ve.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fp=Ot(Ve.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=Ot(Ve.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xp=Ot(Ve.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ot(Ve.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Ve.prototype,"incoming"),Ve.prototype),Ot(Ve.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Ve.prototype,"outgoing"),Ve.prototype),Ot(Ve.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"addNodeMoveRules"),Ve.prototype),Ot(Ve.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"move"),Ve.prototype),Ot(Ve.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveTo"),Ve.prototype),Ot(Ve.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveText"),Ve.prototype),Ot(Ve.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateText"),Ve.prototype),Ot(Ve.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setSelected"),Ve.prototype),Ot(Ve.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setHovered"),Ve.prototype),Ot(Ve.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setHitable"),Ve.prototype),Ot(Ve.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setElementState"),Ve.prototype),Ot(Ve.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setProperty"),Ve.prototype),Ot(Ve.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setProperties"),Ve.prototype),Ot(Ve.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setZIndex"),Ve.prototype),Ot(Ve.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateAttributes"),Ve.prototype),Ve);function Wp(e){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$p(Object(n),!0).forEach(function(r){Jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(){return(qp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Zm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function Zp(e,t){return(Zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ui(e);if(t){var a=ui(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qu(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var an,Qp,ed,Zu=(Yp=qu((Ar=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zp(o,u)})(a,e);var t,n,r=Jm(a);function a(){var o;Km(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Jp(wa(o=r.call.apply(r,[this].concat(l))),"modelType",dt.CIRCLE_NODE),$m(wa(o),"r",Yp,wa(o)),o}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=qp(ui(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Kp(Kp({},o),Dt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&qm(t.prototype,n),a}(pr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),qu(Ar.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"width"),Ar.prototype),qu(Ar.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"height"),Ar.prototype),Ar);i(127);function td(e){return(td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ju(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rd(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function id(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function e0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(){return(ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=n0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function n0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function ud(e,t){return(ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function r0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ci(e);if(t){var a=ci(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wo(e)}function wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var dr,sd,ld,Qu=(Qp=xo((an=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ud(o,u)})(a,e);var t,n,r=r0(a);function a(){var o;e0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return cd(wo(o=r.call.apply(r,[this].concat(l))),"modelType",dt.DIAMOND_NODE),id(wo(o),"rx",Qp,wo(o)),id(wo(o),"ry",ed,wo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=ad(ci(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return od(od({},o),Dt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ju(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ju(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Ju(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&t0(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ed=xo(an.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),xo(an.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"points"),an.prototype),xo(an.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"pointsPosition"),an.prototype),xo(an.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"width"),an.prototype),xo(an.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"height"),an.prototype),an);function fd(e){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(){return(yd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=u0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function u0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function vd(e,t){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function c0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=si(e);if(t){var a=si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mn,bd,ec=(sd=xa((dr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vd(o,u)})(a,e);var t,n,r=c0(a);function a(){var o;i0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return gd(Eo(o=r.call.apply(r,[this].concat(l))),"modelType",dt.ELLIPSE_NODE),hd(Eo(o),"rx",sd,Eo(o)),hd(Eo(o),"ry",ld,Eo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=yd(si(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return dd(dd({},o),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&a0(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ld=xa(dr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),xa(dr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),xa(dr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function md(e){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return _d(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _d(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _d(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Od(Object(n),!0).forEach(function(r){jd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=d0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function d0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=li(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function h0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=li(e);if(t){var a=li(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y0(this,n)}}function y0(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Sd,Pd,nc=(bd=ja((Mn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(a,e);var t,n,r=h0(a);function a(){var o;f0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jd(Ea(o=r.call.apply(r,[this].concat(l))),"modelType",dt.POLYGON_NODE),l0(Ea(o),"points",bd,Ea(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=xd(li(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return wd(wd({},o),Dt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=tc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=tc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(w,S){var T=tc(w,2),z=T[0],q=T[1];return{x:u+z-d/2,y:l+q-m/2,id:"".concat(o.id,"_").concat(S)}})}}])&&p0(t.prototype,n),a}(pr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ja(Mn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Mn.prototype,"pointsPosition"),Mn.prototype),ja(Mn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Mn.prototype,"width"),Mn.prototype),ja(Mn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Mn.prototype,"height"),Mn.prototype),Mn);function kd(e){return(kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ad(Object(n),!0).forEach(function(r){Nd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dd(){return(Dd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=m0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function m0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=fi(e))!==null;);return e}function Md(e,t){return(Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fi(e);if(t){var a=fi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O0(this,n)}}function O0(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sa(e)}function Sa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr,rc=(Pd=function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Sd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Md(o,u)})(a,e);var t,n,r=_0(a);function a(){var o;g0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Nd(Sa(o=r.call.apply(r,[this].concat(l))),"modelType",dt.RECT_NODE),v0(Sa(o),"radius",Pd,Sa(o)),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Dd(fi(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Td(Td({},o),Dt(u))}}])&&b0(t.prototype,n),a}(pr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sd);function Cd(e){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){Fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(){return(Ld=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=E0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function E0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=pi(e))!==null;);return e}function zd(e,t){return(zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function j0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pi(e);if(t){var a=pi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S0(this,n)}}function S0(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var oc=(Hd((Zr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zd(o,u)})(a,e);var t,n,r=j0(a);function a(){var o;w0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Fd(Bd(o=r.call.apply(r,[this].concat(l))),"modelType",dt.TEXT_NODE),o}return t=a,(n=[{key:"getTextStyle",value:function(){var o=Ld(pi(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Id(Id({},o),Dt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return xu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return xu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&x0(t.prototype,n),a}(pr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Hd(Zr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function Xd(e){return(Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function A0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ic(e);if(t){var a=ic(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T0(this,n)}}function T0(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vd(e)}function Vd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function D0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn,Ud,Yd,Wd,ac=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gd(o,u)})(a,e);var t,n,r=A0(a);function a(){var o;P0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return D0(Vd(o=r.call.apply(r,[this].concat(l))),"modelType",dt.HTML_NODE),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&k0(t.prototype,n),a}(pr);function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qd=(Ud=di((Kn=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Kd(this,"graphModel",void 0),uc(this,"isShowHorizontal",Ud,this),uc(this,"isShowVertical",Yd,this),uc(this,"position",Wd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?$d(Object(o),!0).forEach(function(u){Kd(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):$d(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<a.length;m++){var w=a[m];if(w.id!==r.id&&(o===w.x&&(l=!0),u===w.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var w=this.graphModel.getNodeModelById(d);u=gn(w)}}for(var S=0;S<a.length;S++){var T=a[S];if(T.id!==r.id){var z=gn(T);if(z.minY===u.minY||z.maxY===u.minY){l=!0,o=u.minY;break}if(z.minY===u.maxY||z.maxY===u.maxY){l=!0,o=u.maxY;break}}}return rn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var w=this.graphModel.getNodeModelById(d);u=gn(w)}}for(var S=0;S<a.length;S++){var T=a[S];if(T.id!==r.id){var z=gn(T);if(z.minX===u.minX||z.maxX===u.minX){l=!0,o=u.minX;break}if(z.minX===u.maxX||z.maxX===u.maxX){l=!0,o=u.maxX;break}}}return rn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,a){var o=this.getCenterSnapLine(r,a),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,a);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,a);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,o=this.getSnapLinePosition(r,a);this.setSnaplineInfo(o)}}])&&M0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=di(Kn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=di(Kn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di(Kn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Kn.prototype,"clearSnapline"),Kn.prototype),di(Kn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Kn.prototype,"setNodeSnapLine"),Kn.prototype),Kn);function Zd(e){return(Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jd(Object(n),!0).forEach(function(r){Zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return eh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function R0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(e);if(t){var a=cc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&th(o,u)})(a,e);var t,n,r=R0(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Zn(qn(o=r.call(this)),"preTargetNode",void 0),Zn(qn(o),"sourceRuleResults",void 0),Zn(qn(o),"targetRuleResults",void 0),Zn(qn(o),"dragHandler",void 0),Zn(qn(o),"t",void 0),Zn(qn(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,w=d.nodeModel,S=d.graphModel,T=S.overlapMode;S.selectNodeById(w.id),T!==vn.INCREASE&&w.autoToFront&&S.toFront(w.id),S.eventCenter.emit(nt.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:w}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),Zn(qn(o),"onDraging",function(u){var l=u.event,d=o.props,m=d.graphModel,w=d.nodeModel,S=d.anchorData,T=m.transformModel,z=m.eventCenter,q=m.width,te=m.height,ae=m.editConfigModel,ie=l.clientX,ye=l.clientY,Oe=m.getPointByClient({x:ie,y:ye}),Ce=Oe.domOverlayPosition,je=Ce.x,Be=Ce.y,He=Oe.canvasOverlayPosition,Re=He.x,ct=He.y;o.t&&clearInterval(o.t);var ht=[];je<10?ht=[10,0]:je+10>q?ht=[-10,0]:Be<10?ht=[0,10]:Be+10>te&&(ht=[0,-10]),o.setState({endX:Re,endY:ct,draging:!0}),o.moveAnchorEnd(Re,ct),ht.length>0&&!ae.stopMoveGraph&&(o.t=setInterval(function(){var Ct=N0(ht,2),Xt=Ct[0],cn=Ct[1];T.translate(Xt,cn);var fn=o.state,bn=fn.endX,gr=fn.endY;o.setState({endX:bn-Xt,endY:gr-cn}),o.moveAnchorEnd(bn-Xt,gr-cn)},50)),z.emit(nt.ANCHOR_DRAG,{data:S,e:l,nodeModel:w})}),Zn(qn(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var l=o.props,d=l.graphModel,m=l.nodeModel,w=l.anchorData;d.eventCenter.emit(nt.ANCHOR_DROP,{data:w,e:u,nodeModel:m})}),Zn(qn(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,m=u.anchorData,w=m.x,S=m.y,T=m.id,z=l.edgeType,q=o.state,te=q.endX,ae=q.endY,ie=q.draging,ye=na({x:te,y:ae},l);if(o.preTargetNode&&o.preTargetNode.state!==St.DEFAULT&&o.preTargetNode.setElementState(St.DEFAULT),ie&&ye&&ye.node){var Oe=ye.node,Ce=ye.anchor.id,je="".concat(d.id,"_").concat(Oe.id,"_").concat(Ce,"_").concat(T),Be=o.sourceRuleResults.get(je)||{},He=Be.isAllPass,Re=Be.msg,ct=o.targetRuleResults.get(je)||{},ht=ct.isAllPass,Ct=ct.msg;if(He&&ht)Oe.setElementState(St.DEFAULT),l.addEdge({type:z,sourceNodeId:d.id,sourceAnchorId:T,startPoint:{x:w,y:S},targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}});else{var Xt=Oe.getData();l.eventCenter.emit(nt.CONNECTION_NOT_ALLOWED,{data:Xt,msg:Ct||Re})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new $r({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,w=u.y,S=Qd(Qd({},l),l.hover);return Object(ee.g)("g",null,Object(ee.g)(ai,Pa({className:"lf-node-anchor-hover"},S,{x:m,y:w})),Object(ee.g)(ai,Pa({className:"lf-node-anchor"},l,{x:m,y:w})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,m=l.nodeModel,w=l.anchorData,S=na({x:o,y:u},d);if(S){var T=S.node,z=S.anchor.id;if(this.preTargetNode&&this.preTargetNode!==S.node&&this.preTargetNode.setElementState(St.DEFAULT),w.id===z)return;this.preTargetNode=T;var q="".concat(m.id,"_").concat(T.id,"_").concat(z,"_").concat(w.id);if(!this.targetRuleResults.has(q)){var te=S.anchor,ae=m.isAllowConnectedAsSource(T,w,te),ie=T.isAllowConnectedAsTarget(m,w,te);this.sourceRuleResults.set(q,ra(ae)),this.targetRuleResults.set(q,ra(ie))}var ye=this.sourceRuleResults.get(q).isAllPass,Oe=this.targetRuleResults.get(q).isAllPass;ye&&Oe?T.setElementState(St.ALLOW_CONNECT):T.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return Un(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,w=u.endY,S=this.props,T=S.anchorData.edgeAddable,z=S.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(q){T!==!1&&o.dragHandler.handleMouseDown(q)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(Kr,Pa({x1:l,y1:d,x2:m,y2:w},z,{"pointer-events":"none"})))}}])&&C0(t.prototype,n),a}(ee.a);i(63);function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nh(Object(n),!0).forEach(function(r){B0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function F0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return oh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ih(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,w=m===void 0?"default":m,S=e.textWidth,T=S===void 0?"":S,z=e.model,q={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:d};if(Object.entries(e).forEach(function(Ce){var je=F0(Ce,2),Be=je[0],He=je[1];rh(He)!=="object"&&(q[Be]=He)}),o){var te=String(o).split(/[\r\n]/g),ae=te.length;if(w!=="default"){var ie=z.BaseType,ye=z.modelType;if(ie===Ht.NODE&&ye!==dt.TEXT_NODE||ie===Ht.EDGE&&T)return function(Ce){var je=Ce.value,Be=Ce.fontSize,He=Ce.model,Re=Ce.fontFamily,ct=Re===void 0?"":Re,ht=Ce.lineHeight,Ct=Ce.wrapPadding,Xt=Ct===void 0?"0, 0":Ct,cn=Ce.overflowMode,fn=Ce.x,bn=Ce.y,gr=He.width,to=He.textHeight,br=Ce.textWidth||gr,mi=String(je).split(/[\r\n]/g),Ma=mi.length,Na=Al({rows:mi,style:{fontSize:"".concat(Be,"px"),width:"".concat(br,"px"),fontFamily:ct,lineHeight:ht,padding:Xt},rowsLength:Ma,className:"lf-get-text-height"}),ko=He.height>Na?He.height:Na;to&&(ko=to);var Ao=cn==="ellipsis";return Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:br,height:ko,x:fn-br/2,y:bn-ko/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:ko,width:br,padding:Xt}},Object(ee.g)("div",{className:Ao?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:z0({},Ce)},mi.map(function(Mr){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Mr)})))))}(e)}if(ae>1){var Oe=te.map(function(Ce,je){var Be=(je-(ae-1)/2)*(u+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Be},Ce)});return Object(ee.g)("text",q,Oe)}return Object(ee.g)("text",q,o)}}function ah(e){return(ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uh(){return(uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function G0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(e);if(t){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V0(this,n)}}function V0(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tr(e)}function Tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sh(o,u)})(a,e);var t,n,r=G0(a);function a(o){var u;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,a),Jr(Tr(u=r.call(this)),"dragHandler",void 0),Jr(Tr(u),"sumDeltaX",0),Jr(Tr(u),"sumDeltaY",0),Jr(Tr(u),"stepDrag",void 0),Jr(Tr(u),"onDraging",function(m){var w=m.deltaX,S=m.deltaY,T=u.props,z=T.model,q=H0(T.graphModel.transformModel.fixDeltaXY(w,S),2),te=q[0],ae=q[1];z.moveText(te,ae)}),Jr(Tr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(St.TEXT_EDIT)}),Jr(Tr(u),"mouseDownHandle",function(m){var w=u.props,S=w.draggable,T=w.graphModel.editConfigModel.nodeTextDraggable;(S||T)&&u.stepDrag.handleMouseDown(m)});var l=o.model,d=o.draggable;return u.stepDrag=new $r({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=a,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,w=d.value,S=d.x,T=d.y,z=d.editable,q=d.draggable,te={x:S,y:T,className:"",value:w};z?te.className="lf-element-text":q||m.nodeTextDraggable?te.className="lf-text-draggable":te.className="lf-text-disabled";var ae=u.getTextStyle();return Object(ee.g)(ih,uh({},te,ae,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&X0(t.prototype,n),a}(ee.a),U0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,hi=new Map,fh=function(e){var t=hi.get(e);t&&(window.cancelAnimationFrame(t),hi.delete(e))};function ph(e){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ka(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return dh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(e);if(t){var a=lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}function Zt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&yh(u,l)})(o,e);var t,n,r,a=Y0(o);function o(u){var l;(function(T,z){if(!(T instanceof z))throw new TypeError("Cannot call a class as a function")})(this,o),un(Zt(l=a.call(this)),"t",void 0),un(Zt(l),"moveOffset",void 0),un(Zt(l),"stepDrag",void 0),un(Zt(l),"contextMenuTime",void 0),un(Zt(l),"startTime",void 0),un(Zt(l),"clickTimer",void 0),un(Zt(l),"onDragStart",function(T){var z=T.event,q=z.clientX,te=z.clientY,ae=l.props,ie=ae.model,ye=ae.graphModel.getPointByClient({x:q,y:te}).canvasOverlayPosition,Oe=ye.x,Ce=ye.y;l.moveOffset={x:ie.x-Oe,y:ie.y-Ce}}),un(Zt(l),"onDraging",function(T){var z=T.event,q=l.props,te=q.model,ae=q.graphModel,ie=ae.editConfigModel,ye=ae.transformModel,Oe=ae.width,Ce=ae.height,je=ae.gridSize;te.isDragging=!0;var Be=z.clientX,He=z.clientY,Re=ae.getPointByClient({x:Be,y:He}).canvasOverlayPosition,ct=Re.x,ht=Re.y,Ct=ka(ye.CanvasPointToHtmlPoint([ct,ht]),2),Xt=Ct[0],cn=Ct[1];if(!(Xt<0||cn<0||Xt>Oe||cn>Ce)){ct+=l.moveOffset.x,ht+=l.moveOffset.y,ct=bo(ct,je),ht=bo(ht,je);var fn,bn,gr,to=ka(ye.CanvasPointToHtmlPoint([ct-te.width/2,ht-te.height/2]),2),br=to[0],mi=to[1],Ma=ka(ye.CanvasPointToHtmlPoint([ct+te.width/2,ht+te.height/2]),2),Na=Ma[0],ko=Ma[1],Ao=Math.max(je,20),Mr=[];br<0?Mr=[Ao,0]:Na>ae.width?Mr=[-Ao,0]:mi<0?Mr=[0,Ao]:ko>ae.height&&(Mr=[0,-Ao]),l.t&&fh(l.t),Mr.length>0&&!ie.stopMoveGraph?l.t=(fn=function(){var Ca=ka(Mr,2),Ra=Ca[0],Gy=Ca[1];ye.translate(Ra,Gy),ae.moveNode(te.id,-Ra/ye.SCALE_X,-Gy/ye.SCALE_X)},bn=Yr(),gr=window.requestAnimationFrame(function Ca(){if(fn(),hi.get(bn)){var Ra=window.requestAnimationFrame(Ca);hi.set(bn,Ra)}}),hi.set(bn,gr),bn):ae.moveNode2Coordinate(te.id,ct,ht)}}),un(Zt(l),"onDragEnd",function(){l.t&&fh(l.t),l.props.model.isDragging=!1}),un(Zt(l),"handleClick",function(T){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var z=l.props,q=z.model,te=z.graphModel,ae={data:q.getData(),e:T,position:te.getPointByClient({x:T.clientX,y:T.clientY})},ie=T.button===2,ye=T.detail===2;if(!ie){var Oe=te.editConfigModel;te.selectNodeById(q.id,rl(T,Oe)),l.toFront(),ye?(Oe.nodeTextEdit&&q.text.editable&&(q.setSelected(!1),te.setElementStateById(q.id,St.TEXT_EDIT)),te.eventCenter.emit(nt.NODE_DBCLICK,ae)):(te.eventCenter.emit(nt.ELEMENT_CLICK,ae),te.eventCenter.emit(nt.NODE_CLICK,ae))}}}),un(Zt(l),"handleContextMenu",function(T){T.preventDefault();var z=l.props,q=z.model,te=z.graphModel,ae=q.getData(),ie=te.getPointByClient({x:T.clientX,y:T.clientY});te.setElementStateById(q.id,St.SHOW_MENU,ie.domOverlayPosition),te.selectNodeById(q.id),te.eventCenter.emit(nt.NODE_CONTEXTMENU,{data:ae,e:T,position:ie}),l.toFront()}),un(Zt(l),"handleMouseDown",function(T){var z=l.props,q=z.model,te=z.graphModel;l.toFront(),l.startTime=new Date().getTime(),te.editConfigModel.adjustNodePosition&&q.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(T)}),un(Zt(l),"setHoverON",function(T){if(!l.state.isHovered){l.setState({isHovered:!0});var z=l.props,q=z.model,te=z.graphModel,ae=q.getData();q.setHovered(!0),te.eventCenter.emit(nt.NODE_MOUSEENTER,{data:ae,e:T})}}),un(Zt(l),"setHoverOFF",function(T){l.setState({isHovered:!1});var z=l.props,q=z.model,te=z.graphModel,ae=q.getData();q.setHovered(!1),te.eventCenter.emit(nt.NODE_MOUSELEAVE,{data:ae,e:T})}),un(Zt(l),"onMouseOut",function(T){U0&&l.setHoverOFF(T)});var d=u.graphModel,m=d.gridSize,w=d.eventCenter,S=u.model;return l.stepDrag=new $r({onDragStart:l.onDragStart,onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:w,model:S}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,w=d.isSelected,S=d.isHitable,T=d.isDragging,z=this.state.isHovered;if(S&&(w||z)&&!T){var q=d.getAnchorLineStyle();return Ji(d.anchors,function(te,ae){var ie=d.getAnchorStyle(te);return Object(ee.g)(L0,{anchorData:te,node:u,style:ie,edgeStyle:q,anchorIndex:ae,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===St.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,w=!1;return(l.text.draggable||m.nodeTextDraggable)&&(w=!0),Object(ee.g)(lh,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:w})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,m=u.isSelected,w="lf-node";switch(l){case St.ALLOW_CONNECT:w+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:w+=" lf-node-not-allow";break;default:w+=" lf-node-default"}return d&&(w+=" lf-isDragging"),m&&(w+=" lf-node-selected"),w}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==vn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,w=m.editConfigModel,S=w.hideAnchors,T=w.adjustNodePosition,z=m.gridSize,q=m.transformModel.SCALE_X,te=d.isHitable,ae=d.draggable,ie=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),S?null:this.getAnchors());return te?(T&&ae&&this.stepDrag.setStep(z*q),u=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ie)):u=Object(ee.g)("g",{className:this.getStateClassName()},ie),u}}])&&hh(t.prototype,n),r&&hh(t,r),o}(ee.a);function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function q0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(e);if(t){var a=fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(a,e);var t,n,r=q0(a);function a(){return $0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(kr,gh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&K0(t.prototype,n),a}(hr);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _h(){return(_h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t){return(Oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function e_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(e);if(t){var a=dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var hc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Oh(o,u)})(a,e);var t,n,r=e_(a);function a(){return J0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(ee.g)(ai,_h({},m,{x:u,y:l,r:d}))}}])&&Q0(t.prototype,n),a}(hr);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function n_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var o=n_(a,2),u=o[0],l=o[1];wh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object(ee.g)("polygon",r)}function jh(e){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function i_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yc(e);if(t){var a=yc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return a_(this,n)}}function a_(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(a,e);var t,n,r=i_(a);function a(){return r_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,w=o.points,S=o.getNodeStyle(),T={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(ee.g)("g",T,Object(ee.g)(Eh,Sh({},S,{points:w,x:u,y:l})))}}])&&o_(t.prototype,n),a}(hr);function kh(e){return(kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ah(){return(Ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function s_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gc(e);if(t){var a=gc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var bc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Th(o,u)})(a,e);var t,n,r=s_(a);function a(){return u_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(Eh,Ah({},u,{points:o.points,x:o.x,y:o.y})))}}])&&c_(t.prototype,n),a}(hr);function Dh(e){return(Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Mh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p_(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,w={cx:n,cy:a,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(S){var T=f_(S,2),z=T[0],q=T[1];Dh(q)!=="object"&&(w[z]=q)}),w.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(ee.g)("ellipse",w)}function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ch(){return(Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function y_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mc(e);if(t){var a=mc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rh(o,u)})(a,e);var t,n,r=y_(a);function a(){return d_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(p_,Ch({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&h_(t.prototype,n),a}(hr);function Ih(e){return(Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){g_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function __(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oc(e);if(t){var a=Oc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var wc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bh(o,u)})(a,e);var t,n,r=__(a);function a(){return b_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,m=l.y,w=o.width,S=o.height,T=zh(zh({},u.background),{},{x:d,y:m-1,width:w,height:S});return Object(ee.g)(kr,T)}}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackgroud())}}])&&m_(t.prototype,n),a}(hr);function Fh(e){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function w_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function E_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xc(e);if(t){var a=xc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j_(this,n)}}function j_(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ec=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hh(o,u)})(a,e);var t,n,r=E_(a);function a(){var o;w_(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Aa(yi(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Aa(yi(o),"currrentProperties",void 0),Aa(yi(o),"preProperties",void 0),Aa(yi(o),"setRef",function(m){o.ref=m}),o}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(ee.g)("foreignObject",{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef})}}])&&x_(t.prototype,n),a}(hr);function Xh(e){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function S_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jo=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=S_(n,2),a=r[0],o=r[1],u=Xh(o);a!=="style"&&u==="object"||(t[a]=o)}),Object(ee.g)("path",t)};function Vh(e){return(Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yh(e,t){return(Yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function T_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jc(e);if(t){var a=jc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D_(this,n)}}function D_(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yh(o,u)})(a,e);var t,n,r=T_(a);function a(){return k_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,w={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},S=ni(w),T=S.leftX,z=S.leftY,q=S.rightX,te=S.rightY;return function(ae){for(var ie=1;ie<arguments.length;ie++){var ye=arguments[ie]!=null?arguments[ie]:{};ie%2?Uh(Object(ye),!0).forEach(function(Oe){P_(ae,Oe,ye[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ye)):Uh(Object(ye)).forEach(function(Oe){Object.defineProperty(ae,Oe,Object.getOwnPropertyDescriptor(ye,Oe))})}return ae}({d:"M".concat(T," ").concat(z," L").concat(m.x," ").concat(m.y," L").concat(q," ").concat(te," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(ee.g)(jo,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}])&&A_(t.prototype,n),a}(ee.a);function $h(e){return($h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kh(){return(Kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zh(e,t){return(Zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function N_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pc(e);if(t){var a=Pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C_(this,n)}}function C_(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn,R_=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zh(o,u)})(a,e);var t,n,r=N_(a);function a(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),kc(Sc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),kc(Sc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=Qr(Qr({},d),u.hover.background)),l&&l.value&&d.fill!=="transparent"){var m,w=u.fontSize,S=u.overflowMode,T=u.lineHeight,z=u.wrapPadding,q=u.textWidth,te=l.value,ae=l.x,ie=l.y,ye=String(te).split(/[\r\n]/g),Oe=ye.length;if(S==="autoWrap"&&q){var Ce=Al({rows:ye,style:{fontSize:"".concat(w,"px"),width:"".concat(q,"px"),lineHeight:T,padding:z},rowsLength:Oe,className:"lf-get-text-height"});m=Qr(Qr({},d),{},{x:ae-1,y:ie-1,width:q,height:Ce})}else{ye&&ye.forEach(function(ct){rf(ct)});var je=xu({rows:ye,fontSize:w,rowsLength:Oe}),Be=je.width,He=je.height;if(typeof d.wrapPadding=="string"){var Re=d.wrapPadding.split(",").filter(function(ct){return ct.trim()}).map(function(ct){return parseFloat(ct.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Be+=Re[1]+Re[3],He+=Re[0]+Re[2],ae+=(Re[1]-Re[3])/2,ie+=(Re[2]-Re[0])/2)}m=Qr(Qr({},d),{},{x:ae-1,y:ie-1,width:Be,height:He})}return Object(ee.g)(kr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var w=Qr({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ee.g)(ih,Kh({},w,{model:o})))}}}])&&M_(t.prototype,n),a}(lh);function Jh(e){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){Cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ty(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function z_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ac(e);if(t){var a=Ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B_(this,n)}}function B_(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Jn||(Jn={}));var ry=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ny(o,u)})(a,e);var t,n,r=z_(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Cn(Nn(o=r.call(this)),"dragHandler",void 0),Cn(Nn(o),"oldEdge",void 0),Cn(Nn(o),"preTargetNode",void 0),Cn(Nn(o),"targetRuleResults",void 0),Cn(Nn(o),"sourceRuleResults",void 0),Cn(Nn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,m=u.edgeModel,w=m.startPoint,S=m.endPoint,T=m.pointsList;o.oldEdge={startPoint:w,endPoint:S,pointsList:T},o.setState({endX:l,endY:d,draging:!0}),m.isHitable=!1}),Cn(Nn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.state,w=m.endX,S=m.endY,T=o.props,z=T.graphModel,q=T.type,te=I_(z.transformModel.moveCanvasPointByHtml([w,S],l,d),2),ae=te[0],ie=te[1];o.setState({endX:ae,endY:ie,draging:!0});var ye=o.props.edgeModel,Oe=na({x:w,y:S},z);if(Oe&&Oe.node&&o.isAllowAdjust(Oe)){var Ce,je=ye.startPoint,Be=ye.endPoint,He=ye.sourceNode,Re=ye.targetNode;q===Jn.SOURCE?Ce={startPoint:{x:Oe.anchor.x,y:Oe.anchor.y},endPoint:{x:Be.x,y:Be.y},sourceNode:Oe.node,targetNode:Re}:q===Jn.TARGET&&(Ce={startPoint:{x:je.x,y:je.y},endPoint:{x:Oe.anchor.x,y:Oe.anchor.y},sourceNode:He,targetNode:Oe.node}),ye.updateAfterAdjustStartAndEnd(Ce)}else q===Jn.SOURCE?ye.updateStartPoint({x:ae,y:ie}):q===Jn.TARGET&&ye.updateEndPoint({x:ae,y:ie})}),Cn(Nn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,m=l.edgeModel,w=l.type;m.isHitable=!0;var S=o.state,T=S.endX,z=S.endY,q=S.draging,te=na({x:T,y:z},d);if(q){if(te&&te.node&&o.isAllowAdjust(te)){var ae,ie=m.getData(),ye=yr(yr({},ie),{},{sourceAnchorId:"",targetAnchorId:"",text:(ie==null||(ae=ie.text)===null||ae===void 0?void 0:ae.value)||""});w===Jn.SOURCE?ye=yr(yr({},ye),{},{sourceNodeId:te.node.id,sourceAnchorId:te.anchor.id,startPoint:{x:te.anchor.x,y:te.anchor.y},targetNodeId:m.targetNodeId,endPoint:yr({},m.endPoint)}):w===Jn.TARGET&&(ye=yr(yr({},ye),{},{sourceNodeId:m.sourceNodeId,startPoint:yr({},m.startPoint),targetNodeId:te.node.id,targetAnchorId:te.anchor.id,endPoint:{x:te.anchor.x,y:te.anchor.y}})),d.deleteEdgeById(m.id);var Oe=d.addEdge(yr({},ye));d.eventCenter.emit(nt.EDGE_EXCHANGE_NODE,{data:{newEdge:Oe.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(St.DEFAULT)}}),Cn(Nn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,m=l.endPoint,w=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==dt.LINE_EDGE&&(u.pointsList=w,u.initPoints())}),Cn(Nn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Ru({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),m=l.targetNode,w=l.sourceAnchorId,S=l.targetAnchorId,T=u.type,z=null,q=null,te=null,ae=null;if(T===Jn.SOURCE?(z=o.node,q=m,te=o.anchor,ae=m.getAnchorInfo(S)):(z=d,q=o.node,ae=o.anchor,te=d.getAnchorInfo(w)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=o.node,ae.id===te.id)return!1;var ie="".concat(z.id,"_").concat(q.id,"_").concat(te.id,"_").concat(ae.id);if(!this.targetRuleResults.has(ie)){var ye=z.isAllowConnectedAsSource(q,te,ae),Oe=q.isAllowConnectedAsTarget(z,te,ae);this.sourceRuleResults.set(ie,ra(ye)),this.targetRuleResults.set(ie,ra(Oe))}var Ce=this.sourceRuleResults.get(ie).isAllPass,je=this.targetRuleResults.get(ie).isAllPass,Be=Ce&&je?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return T===Jn.SOURCE?z.setElementState(Be):q.setElementState(Be),Ce&&je}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(ee.g)("g",null,Object(ee.g)(ai,Qh({className:"lf-edge-adjust-point"},m,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&L_(t.prototype,n),a}(ee.a);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return(Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iy(Object(n),!0).forEach(function(r){In(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function X_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dc(e);if(t){var a=Dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G_(this,n)}}function G_(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}function Rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(a,e);var t,n,r=X_(a);function a(){var o;F_(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return In(Rn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),In(Rn(o),"contextMenuTime",void 0),In(Rn(o),"clickTimer",void 0),In(Rn(o),"handleHover",function(m,w){var S=o.props,T=S.model,z=S.graphModel.eventCenter;T.setHovered(m);var q=m?nt.EDGE_MOUSEENTER:nt.EDGE_MOUSELEAVE,te=T.getData();z.emit(q,{data:te,e:w})}),In(Rn(o),"setHoverON",function(m){o.handleHover(!0,m)}),In(Rn(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),In(Rn(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var w=o.props,S=w.model,T=w.graphModel,z=T.getPointByClient({x:m.clientX,y:m.clientY});T.setElementStateById(S.id,St.SHOW_MENU,z.domOverlayPosition),o.toFront(),T.selectEdgeById(S.id);var q=S==null?void 0:S.getData();T.eventCenter.emit(nt.EDGE_CONTEXTMENU,{data:q,e:m,position:z})}),In(Rn(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),In(Rn(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var w=m.detail===2,S=o.props,T=S.model,z=S.graphModel,q=T==null?void 0:T.getData(),te=z.getPointByClient({x:m.clientX,y:m.clientY});if(w){var ae=z.editConfigModel,ie=z.textEditElement;if(ie&&ie.id===T.id&&z.setElementStateById(T.id,St.DEFAULT),ae.edgeTextEdit&&T.text.editable&&z.setElementStateById(T.id,St.TEXT_EDIT),T.modelType===dt.POLYLINE_EDGE){var ye=T,Oe=z.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,Ce=Oe.x,je=Oe.y,Be=af({x:Ce,y:je},ye.points);ye.dbClickPosition=Be}z.eventCenter.emit(nt.EDGE_DBCLICK,{data:q,e:m,position:te})}else z.eventCenter.emit(nt.ELEMENT_CLICK,{data:q,e:m,position:te}),z.eventCenter.emit(nt.EDGE_CLICK,{data:q,e:m,position:te});var He=z.editConfigModel;z.selectEdgeById(T.id,rl(m,He)),o.toFront()}}),In(Rn(o),"getIsDraging",function(){return!1}),o}return t=a,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===St.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(ee.g)(R_,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),m=u.getEdgeAnimationStyle(),w=l.theme.arrow,S=u.isAnimation?m.stroke:d.stroke;return ay(ay({},d),{},{fill:S,stroke:S},w)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(ee.g)(Wh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(ry,Tc({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(ee.g)(ry,Tc({type:"TARGET"},m,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==vn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=o.graphModel,w=this.getIsDraging(),S=m.editConfigModel.adjustEdgeStartAndEnd,T=m.animation,z=l&&T.edge&&m.getSelectElements().edges.length===1;return Object(ee.g)("g",null,Object(ee.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),z&&this.getAnimation(),this.getText(),this.getArrow()),S&&l&&!w?this.getAdjustPoints():"")}}])&&H_(t.prototype,n),a}(ee.a);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nc(e);if(t){var a=Nc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sy(o,u)})(a,e);var t,n,r=Y_(a);function a(){return V_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isAnimation,m=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),S=w.strokeDasharray,T=w.stroke,z=w.strokeDashoffset,q=w.animationName,te=w.animationDuration,ae=w.animationIterationCount,ie=w.animationTimingFunction,ye=w.animationDirection;return Object(ee.g)(Kr,Mc({},m,{x1:u.x,y1:u.y,x2:l.x,y2:l.y},d?{strokeDasharray:S,stroke:T,style:{strokeDashoffset:z,animationName:q,animationDuration:te,animationIterationCount:ae,animationTimingFunction:ie,animationDirection:ye}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.startPoint,S=o.endPoint,T=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(Kr,Mc({},T,{x1:w.x,y1:w.y,x2:S.x,y2:S.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(T){var z,q=T.start,te=T.end;if(q.x===te.x&&q.y===te.y)z="";else{var ae={start:q,end:te,offset:10,verticalLength:5},ie=ni(aa(aa({},ae),{},{type:"start"})),ye=ni(aa(aa({},ae),{},{type:"end"}));z="M".concat(ie.leftX," ").concat(ie.leftY,` 
    L`).concat(ie.rightX," ").concat(ie.rightY,` 
    L`).concat(ye.rightX," ").concat(ye.rightY,`
    L`).concat(ye.leftX," ").concat(ye.leftY," z")}return{d:z,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,w=u.strokeDasharray,S=u.stroke;return Object(ee.g)(jo,{d:l,fill:m,strokeWidth:d,stroke:S,strokeDasharray:w})}}])&&U_(t.prototype,n),a}(vi);function ly(e){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return fy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var py=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=$_(n,2),a=r[0],o=r[1];(a==="style"||ly(o)!=="object")&&(t[a]=o)}),Object(ee.g)("polyline",t)};function dy(e){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(r){er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Z_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ic(e);if(t){var a=Ic(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vy(o,u)})(a,e);var t,n,r=Z_(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),er(Qn(o=r.call(this)),"drag",void 0),er(Qn(o),"isDraging",void 0),er(Qn(o),"appendInfo",void 0),er(Qn(o),"dragHandler",void 0),er(Qn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),er(Qn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,w=m.model,S=m.graphModel;o.isDraging=!0;var T=S.transformModel,z=S.editConfigModel,q=K_(T.fixDeltaXY(l,d),2),te=q[0],ae=q[1],ie=w,ye=z.adjustEdgeMiddle;o.appendInfo=ye?ie.dragAppendSimple(o.appendInfo,{x:te,y:ae}):ie.dragAppend(o.appendInfo,{x:te,y:ae})}),er(Qn(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(nt.EDGE_ADJUST,{data:m.getData()})}),er(Qn(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),er(Qn(o),"getIsDraging",function(){return o.isDraging}),o.drag=Ru({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.points,l=o.isAnimation,d=o.getEdgeStyle(),m=o.getEdgeAnimationStyle(),w=m.strokeDasharray,S=m.stroke,T=m.strokeDashoffset,z=m.animationName,q=m.animationDuration,te=m.animationIterationCount,ae=m.animationTimingFunction,ie=m.animationDirection;return Object(ee.g)(py,Rc({points:u},d,l?{strokeDasharray:w,stroke:S,style:{strokeDashoffset:T,animationName:z,animationDuration:q,animationIterationCount:te,animationTimingFunction:ae,animationDirection:ie}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(py,Rc({points:o.points},w,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=mo(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},w=ni(Ta(Ta({},m),{},{type:"start"})),S=ni(Ta(Ta({},m),{},{type:"end"}));u="M".concat(w.leftX," ").concat(w.leftY,` 
      L`).concat(w.rightX," ").concat(w.rightY,` 
      L`).concat(S.rightX," ").concat(S.rightY,`
      L`).concat(S.leftX," ").concat(S.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,w=u.strokeDasharray,S=u.stroke;return Object(ee.g)(jo,{d:l,fill:m,strokeWidth:d,stroke:S,strokeDasharray:w})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,w=l.draggable,S=[],T=m.length,z=function(te){var ae="lf-polyline-append",ie={start:{x:m[te].x,y:m[te].y},end:{x:m[te+1].x,y:m[te+1].y},startIndex:te,endIndex:te+1,direction:"",dragAble:!0},ye=Object(ee.g)("g",{className:ae},o.getAppendShape(ie)),Oe=d.editConfigModel,Ce=Oe.adjustEdge,je=Oe.adjustEdgeMiddle;if(Ce&&w){o.dragHandler=o.drag;var Be=ie.startIndex,He=ie.endIndex,Re=je&&(Be===0||He===T-1);ie.dragAble=!Re,ie.start.x===ie.end.x?(ie.dragAble&&(ae+="-ew-resize"),ie.direction=Tt.VERTICAL):ie.start.y===ie.end.y&&(ie.dragAble&&(ae+="-ns-resize"),ie.direction=Tt.HORIZONTAL),ye=Object(ee.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(ct){return o.beforeDragStart(ct,ie)}},Object(ee.g)("g",{className:ae},o.getAppendShape(ie)))}else o.dragHandler=function(){};S.push(ye)},q=0;q<T-1;q++)z(q);return Object(ee.g)("g",null,S)}}])&&q_(t.prototype,n),a}(vi);function gy(e){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function nO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bc(e);if(t){var a=Bc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&my(o,u)})(a,e);var t,n,r=nO(a);function a(){return eO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle(),l=o.path,d=o.isAnimation,m=o.getEdgeAnimationStyle(),w=m.strokeDasharray,S=m.stroke,T=m.strokeDashoffset,z=m.animationName,q=m.animationDuration,te=m.animationIterationCount,ae=m.animationTimingFunction,ie=m.animationDirection;return Object(ee.g)(jo,zc({d:l},u,d?{strokeDasharray:w,stroke:S,style:{strokeDashoffset:T,animationName:z,animationDuration:q,animationIterationCount:te,animationTimingFunction:ae,animationDirection:ie}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(jo,zc({d:o.path},w,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ee.g)(jo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,w=Q_(function(S){var T=pa(S);return[T[2],T[3]]}(d),2);return{start:w[0],end:w[1],hover:u,isSelected:m}}}])&&tO(t.prototype,n),a}(vi),_y=function(e,t){return v(e,t)},oO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Hc=function(){return Ue.a.Date.now()},iO=/\s/,aO=function(e){for(var t=e.length;t--&&iO.test(e.charAt(t)););return t},uO=/^\s+/,cO=function(e){return e&&e.slice(0,aO(e)+1).replace(uO,"")},sO=/^[-+]0x[0-9a-f]+$/i,lO=/^0b[01]+$/i,fO=/^0o[0-7]+$/i,pO=parseInt,Oy=function(e){if(typeof e=="number")return e;if(ce(e))return NaN;if(Mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cO(e);var n=lO.test(e);return n||fO.test(e)?pO(e.slice(2),n?2:8):sO.test(e)?NaN:+e},dO=Math.max,hO=Math.min,yO=function(e,t,n){var r,a,o,u,l,d,m=0,w=!1,S=!1,T=!0;if(typeof e!="function")throw new TypeError("Expected a function");function z(Oe){var Ce=r,je=a;return r=a=void 0,m=Oe,u=e.apply(je,Ce)}function q(Oe){return m=Oe,l=setTimeout(ae,t),w?z(Oe):u}function te(Oe){var Ce=Oe-d;return d===void 0||Ce>=t||Ce<0||S&&Oe-m>=o}function ae(){var Oe=Hc();if(te(Oe))return ie(Oe);l=setTimeout(ae,function(Ce){var je=t-(Ce-d);return S?hO(je,o-(Ce-m)):je}(Oe))}function ie(Oe){return l=void 0,T&&r?z(Oe):(r=a=void 0,u)}function ye(){var Oe=Hc(),Ce=te(Oe);if(r=arguments,a=this,d=Oe,Ce){if(l===void 0)return q(d);if(S)return clearTimeout(l),l=setTimeout(ae,t),z(d)}return l===void 0&&(l=setTimeout(ae,t)),u}return t=Oy(t)||0,Mt(n)&&(w=!!n.leading,o=(S="maxWait"in n)?dO(Oy(n.maxWait)||0,t):o,T="trailing"in n?!!n.trailing:T),ye.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=a=l=void 0},ye.flush=function(){return l===void 0?u:ie(Hc())},ye},vO=i(166);function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wy,xy,Ey,bO=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Dr(this,"undos",[]),Dr(this,"redos",[]),Dr(this,"callbacks",[]),Dr(this,"stopWatch",null),Dr(this,"curData",null),Dr(this,"maxSize",50),Dr(this,"waitTime",100),Dr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){_y(oO(this.undos),r)||(this.undos.push(r),_y(this.curData,r)||(this.redos=[]),this.eventCenter.emit(nt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Dt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(vO.a)(r,yO(function(){var o=r.modelToHistoryData();o&&a.add(o)},this.waitTime))}}])&&gO(t.prototype,n),e}();function jy(e){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Sy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _O(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xc(e);if(t){var a=Xc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ty,Dy,My,Gc=Ln((Ey=xy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Ay(u,l)})(o,e);var t,n,r,a=_O(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),eo(Po(u=a.call(this)),"ref",Object(ee.f)()),eo(Po(u),"__prevText",{type:"",text:"",id:""}),eo(Po(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),eo(Po(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),eo(Po(u),"keydownHandler",function(l){l.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,w=d.theme,S=d.textEditElement;if(S){var T;if((T=S.text)===null||T===void 0||!T.value)if(S.BaseType===Ht.EDGE){var z=(S=S).text,q=S.textPosition,te=q.x,ae=q.y;z.x=te,z.y=ae,S.setText(z)}else S=S;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(S.BaseType===Ht.EDGE){var ye=w.edgeText,Oe=ye.overflowMode,Ce=ye.lineHeight,je=ye.wrapPadding,Be=ye.textWidth;Be&&Oe==="autoWrap"&&(l=So(So({},ie),{},{width:Be,minWidth:Be,lineHeight:Ce,padding:je}))}else if(S.BaseType===Ht.NODE){var He=w.nodeText,Re=He.overflowMode,ct=He.lineHeight,ht=He.wrapPadding,Ct=He.textWidth,Xt=S,cn=Xt.width,fn=Xt.modelType;(fn!==dt.TEXT_NODE&&Re==="autoWrap"||fn===dt.TEXT_NODE&&Ct)&&(l=So(So({},ie),{},{width:Ct||cn,minWidth:Ct||cn,lineHeight:ct,padding:ht}))}var bn=S.text,gr=bn.x,to=bn.y,br=mO(m.CanvasPointToHtmlPoint([gr,to]),2);return{style:So({left:br[0],top:br[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,w=d.nodeTextEdit;(m||w)&&l.on("".concat(nt.GRAPH_TRANSFORM,",").concat(nt.NODE_CLICK,",").concat(nt.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(St.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(nt.TEXT_UPDATE,So({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&ky(t.prototype,n),r&&ky(t,r),o}(ee.a),eo(xy,"toolName","textEdit"),wy=Ey))||wy,wO=function(e){return e.modelType===dt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:o-l/2,x1:a+u/2,y1:o+l/2}}(e):e.modelType===dt.POLYLINE_EDGE?function(t){var n=t.points,r=mo(n),a=ri(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===dt.BEZIER_EDGE?function(t){var n=t.path,r=pa(n),a=ri(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Ny(e){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Ry(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xO(e){return function(t){if(Array.isArray(t))return Vc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ry(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ry(e,t){if(e){if(typeof e=="string")return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return(Iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function jO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uc(e);if(t){var a=Uc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(e,t){if(t&&(Ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc=Ln((My=Dy=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Iy(o,u)})(a,e);var t,n,r=jO(a);function a(o){var u;(function(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),bi(gi(u=r.call(this)),"stepDrag",void 0),bi(gi(u),"handleMouseDown",function(w){u.stepDrag.handleMouseDown(w)}),bi(gi(u),"onDraging",function(w){var S=w.deltaX,T=w.deltaY,z=u.props.graphModel,q=z.getSelectElements(!0);z.moveNodes(q.nodes.map(function(te){return te.id}),S,T)}),bi(gi(u),"handleContextMenu",function(w){w.preventDefault();var S=u.props,T=S.graphModel,z=S.graphModel,q=z.eventCenter,te=z.selectElements,ae=T.getPointByClient({x:w.clientX,y:w.clientY}),ie={nodes:[],edges:[]};xO(te.values()).forEach(function(ye){ye.BaseType===Ht.NODE&&ie.nodes.push(ye.getData()),ye.BaseType===Ht.EDGE&&ie.edges.push(ye.getData())}),q.emit(nt.SELECTION_CONTEXTMENU,{data:ie,e:w,position:ae})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new $r({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;u.forEach(function(te){var ae={x:0,y:0,x1:0,y1:0};te.BaseType===Ht.NODE&&(ae=function(ie){var ye=ie.x,Oe=ie.y,Ce=ie.width,je=ie.height;return{x:ye-Ce/2,y:Oe-je/2,x1:ye+Ce/2,y1:Oe+je/2}}(te)),te.BaseType===Ht.EDGE&&(ae=wO(te)),d=Math.min(d,ae.x),m=Math.min(m,ae.y),w=Math.max(w,ae.x1),S=Math.max(S,ae.y1)});var T=Cy(l.CanvasPointToHtmlPoint([d,m]),2);d=T[0],m=T[1];var z=Cy(l.CanvasPointToHtmlPoint([w,S]),2);w=z[0],S=z[1];var q={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(w-d+20,"px"),height:"".concat(S-m+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:q,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&EO(t.prototype,n),a}(ee.a),bi(Dy,"toolName","multipleSelect"),Ty=My))||Ty;function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kO=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Da(this,"tools",void 0),Da(this,"components",void 0),Da(this,"toolMap",new Map),Da(this,"instance",void 0),this.instance=r,this.isDisabledTool(Gc.toolName)||this.registerTool(Gc.toolName,Gc),this.isDisabledTool(Yc.toolName)||this.registerTool(Yc.toolName,Yc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&PO(t.prototype,n),e}(),AO=i(167),TO=i.n(AO);function DO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Wc(this,"mousetrap",void 0),Wc(this,"options",void 0),Wc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new TO.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(Gt(a))a.forEach(function(d){var m=d.keys,w=d.callback,S=d.action;return r.on(m,w,S)});else{var o=a.keys,u=a.callback,l=a.action;this.on(o,u,l)}}},{key:"on",value:function(r,a,o){this.mousetrap.bind(this.getKeys(r),a,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(o){return a.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&DO(t.prototype,n),e}(),MO=Ly,vr=null;function zy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function By(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Fy(e){return(Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kc=function(){function e(a){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Nt(this,"container",void 0),Nt(this,"width",void 0),Nt(this,"height",void 0),Nt(this,"graphModel",void 0),Nt(this,"history",void 0),Nt(this,"viewMap",new Map),Nt(this,"tool",void 0),Nt(this,"keyboard",void 0),Nt(this,"dnd",void 0),Nt(this,"options",void 0),Nt(this,"snaplineModel",void 0),Nt(this,"components",[]),Nt(this,"plugins",void 0),Nt(this,"extension",{}),Nt(this,"adapterIn",void 0),Nt(this,"adapterOut",void 0),Nt(this,"getView",function(d){return l.viewMap.get(d)}),a=bp(a),this.options=a,this.container=a.container,this.plugins=a.plugins,this.graphModel=new Xb($c({},a)),this.tool=new kO(this),this.history=new bO(this.graphModel.eventCenter),this.dnd=new zm({lf:this}),this.keyboard=new MO({lf:this,keyboard:a.keyboard}),a.isSilentMode||a.snapline===!1||(this.snaplineModel=new qd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var w=d.keyboard,S=w.options.keyboard;w.on(["cmd + c","ctrl + c"],function(){if(S.enabled&&!m.textEditElement){var T=d.options.guards,z=m.getSelectElements(!1);return T&&T.beforeClone&&!T.beforeClone(z)?(vr=null,!1):((vr=z).nodes.forEach(function(q){return zy(q,40)}),vr.edges.forEach(function(q){return By(q,40)}),!1)}}),w.on(["cmd + v","ctrl + v"],function(){if(S.enabled&&!m.textEditElement){if(vr&&(vr.nodes||vr.edges)){d.clearSelectElements();var T=d.addElements(vr);if(!T)return;T.nodes.forEach(function(z){return d.selectElementById(z.id,!0)}),T.edges.forEach(function(z){return d.selectElementById(z.id,!0)}),vr.nodes.forEach(function(z){return zy(z,40)}),vr.edges.forEach(function(z){return By(z,40)})}return!1}}),w.on(["cmd + z","ctrl + z"],function(){if(S.enabled&&!m.textEditElement)return d.undo(),!1}),w.on(["cmd + y","ctrl + y"],function(){if(S.enabled&&!m.textEditElement)return d.redo(),!1}),w.on(["backspace"],function(){if(S.enabled&&!m.textEditElement){var T=m.getSelectElements(!0);return d.clearSelectElements(),T.edges.forEach(function(z){return d.deleteEdge(z.id)}),T.nodes.forEach(function(z){return d.deleteNode(z.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(a){var o=a.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(a.name||a.constructor.name,"\u6307\u5B9ApluginName!")),o=a.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,a)}}],(n=[{key:"register",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var l={BaseEdge:vi,BaseEdgeModel:ju,BaseNode:hr,BaseNodeModel:pr,RectNode:pc,RectNodeModel:rc,CircleNode:hc,CircleNodeModel:Zu,PolygonNode:vc,PolygonNodeModel:nc,TextNode:wc,TextNodeModel:oc,LineEdge:Cc,LineEdgeModel:Pu,DiamondNode:bc,DiamondNodeModel:Qu,PolylineEdge:Lc,PolylineEdgeModel:Au,BezierEdge:Fc,BezierEdgeModel:Ku,EllipseNode:_c,EllipseNodeModel:ec,HtmlNode:Ec,HtmlNodeModel:ac,h:ee.g,type:a};this.viewMap.forEach(function(T){var z=T.extendKey;z&&(l[z]=T)}),this.graphModel.modelMap.forEach(function(T){var z=T.extendKey;z&&(l[z]=T)});var d=o(l),m=d.view,w=d.model,S=m;u&&!S.isObervered&&(S.isObervered=!0,S=_e(S)),this.setView(a,S),this.graphModel.setModel(a,w)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var o=a.view;a.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=_e(o)),this.setView(a.type,o),this.graphModel.setModel(a.type,a.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:pc,model:rc,type:"rect"}),this.registerElement({type:"circle",view:hc,model:Zu}),this.registerElement({type:"polygon",view:vc,model:nc}),this.registerElement({type:"line",view:Cc,model:Pu}),this.registerElement({type:"polyline",view:Lc,model:Au}),this.registerElement({type:"bezier",view:Fc,model:Ku}),this.registerElement({type:"text",view:wc,model:oc}),this.registerElement({type:"ellipse",view:_c,model:ec}),this.registerElement({type:"diamond",view:bc,model:Qu}),this.registerElement({type:"html",view:Ec,model:ac})}},{key:"selectElementById",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(a,o),o||this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var o=this.graphModel.transformModel,u=a.coordinate,l=a.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var w=u,S=w.x,T=w.y;o.focusOn(S,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,o){this.options.width=a!=null?a:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(a,o)}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,o){this.graphModel.updateText(a,o)}},{key:"deleteElement",value:function(a){var o,u,l,d=this.getModelById(a);return!!d&&(u=(l=(Nt(o={},Ht.NODE,this.deleteNode),Nt(o,Ht.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){return this.graphModel.getElement(a).getData()}},{key:"changeNodeType",value:function(a,o){this.graphModel.changeNodeType(a,o)}},{key:"changeEdgeType",value:function(a,o){this.graphModel.changeEdgeType(a,o)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){return this.graphModel.addNode(a)}},{key:"deleteNode",value:function(a){var o=this.graphModel.getNodeModelById(a);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(a),d}},{key:"cloneNode",value:function(a){var o=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,o){return this.graphModel.changeNodeId(a,o)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){return this.graphModel.getNodeModelById(a).getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var o=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(a),d}},{key:"deleteEdgeByNodeId",value:function(a){var o=a.sourceNodeId,u=a.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,o){return this.graphModel.changeEdgeId(a,o)}},{key:"getEdgeModelById",value:function(a){var o;return(o=this.graphModel.edgesMap[a])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(a){var o=this.graphModel.edges,u=a.sourceNodeId,l=a.targetNodeId;if(u&&l){var d=[];return o.forEach(function(S){S.sourceNodeId===u&&S.targetNodeId===l&&d.push(S)}),d}if(u){var m=[];return o.forEach(function(S){S.sourceNodeId===u&&m.push(S)}),m}if(l){var w=[];return o.forEach(function(S){S.targetNodeId===l&&w.push(S)}),w}return[]}},{key:"getEdgeDataById",value:function(a){var o;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,o){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties(Yn(o))}},{key:"getProperties",value:function(a){var o;return(o=this.graphModel.getElement(a))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,o){return this.graphModel.setElementZIndex(a,o)}},{key:"addElements",value:function(a){for(var o=this,u=a.nodes,l=a.edges,d={},m={nodes:[],edges:[]},w=0;w<u.length;w++){var S=u[w],T=S.id,z=this.addNode(S);if(!z)return;T&&(d[T]=z.id),m.nodes.push(z)}return l.forEach(function(q){var te=q.sourceNodeId,ae=q.targetNodeId;d[te]&&(q.sourceNodeId=d[te]),d[ae]&&(q.targetNodeId=d[ae]);var ie=o.graphModel.addEdge(q);m.edges.push(ie)}),m}},{key:"getAreaElement",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(a,o,u,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(a):a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,o){return this.graphModel.getPointByClient({x:a,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=Yn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=Yn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,o){return this.graphModel.transformModel.zoom(a,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,o){this.graphModel.transformModel.translate(a,o)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,o=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,o){o===void 0&&(o=a),this.graphModel.fitView(a,o)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,o){this.graphModel.eventCenter.on(a,o)}},{key:"off",value:function(a,o){this.graphModel.eventCenter.off(a,o)}},{key:"once",value:function(a,o){this.graphModel.eventCenter.once(a,o)}},{key:"emit",value:function(a,o){this.graphModel.eventCenter.emit(a,o)}},{key:"installPlugins",value:function(){var a,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(a){if(Fy(a)==="object"){var o=a.install,u=a.render;return o&&o.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var l=a,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(a,o){this.graphModel.updateAttributes(a,o)}},{key:"createFakerNode",value:function(a){var o=this.graphModel.modelMap.get(a.type);if(o){var u=new o($c($c({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(a.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,o){this.viewMap.set(a,o)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(Yn(a)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(Im,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(nt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}])&&Xy(t.prototype,n),r&&Xy(t,r),e}();function Ln(e){return _e(e)}Nt(Kc,"extensions",new Map),p.default=Kc}])})})(qe,qe.exports);var Ia=Ov(qe.exports);const YO=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function WO(b,h){return h={exports:{}},b(h,h.exports),h.exports}var $O=WO(function(b){var h=b.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var i=Math.log(Math.pow(2,c))/Math.log(p),f=2;i===1/0;f*=2)i=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=i-Math.floor(i),y="",f=0;f<Math.floor(i);f++){var _=Math.floor(Math.random()*p).toString(p);y=_+y}if(s){var O=Math.pow(p,s),_=Math.floor(Math.random()*O).toString(p);y=_+y}var x=parseInt(y,p);return x!==1/0&&x>=Math.pow(2,c)?h(c,p):y};h.rack=function(c,p,i){var f=function(y){var _=0;do{if(_++>10)if(i)c+=i;else throw new Error("too many ID collisions, use more bits");var O=h(c,p)}while(Object.hasOwnProperty.call(s,O));return s[O]=y,O},s=f.hats={};return f.get=function(y){return f.hats[y]},f.set=function(y,_){return f.hats[y]=_,f},f.bits=c||128,f.base=p||16,f}});function nr(b){if(!(this instanceof nr))return new nr(b);b=b||[128,36,1],this._seed=b.length?$O.rack(b[0],b[1],b[2]):b}nr.prototype.next=function(b){return this._seed(b||!0)};nr.prototype.nextPrefixed=function(b,h){var c;do c=b+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};nr.prototype.claim=function(b,h){this._seed.set(b,h||!0)};nr.prototype.assigned=function(b){return this._seed.get(b)||!1};nr.prototype.unclaim=function(b){delete this._seed.hats[b]};nr.prototype.clear=function(){var b=this._seed.hats,h;for(h in b)this.unclaim(h)};var KO=new nr([32,32,1]);function Ro(){return KO.next()}var Av=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),qO=function(b){Av(h,b);function h(c,p){var i=this;return c.id||(c.id="Event_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=b.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="StartEventModel",h}(qe.exports.CircleNodeModel),ZO=function(b){Av(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(qe.exports.CircleNode),JO={type:"bpmn:startEvent",view:ZO,model:qO},Tv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Ba.apply(this,arguments)},QO=function(b){Tv(h,b);function h(c,p){var i=this;return c.id||(c.id="Event_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=b.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="EndEventModel",h}(qe.exports.CircleNodeModel),e1=function(b){Tv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),i=c.x,f=c.y,s=c.r,y=b.prototype.getShape.call(this);return qe.exports.h("g",{},y,qe.exports.h("circle",Ba(Ba({},p),{cx:i,cy:f,r:s-5})))},h.extendKey="EndEventView",h}(qe.exports.CircleNode),t1={type:"bpmn:endEvent",view:e1,model:QO},Dv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ji.apply(this,arguments)},n1=function(b){Dv(h,b);function h(c,p){var i=this;return c.id||(c.id="Gateway_"+Ro()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=b.call(this,c,p)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return h.extendKey="ExclusiveGatewayModel",h}(qe.exports.PolygonNodeModel),r1=function(b){Dv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.points,_=c.getNodeStyle();return qe.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(i-s/2)+")"},qe.exports.h("polygon",ji(ji({},_),{x:p,y:i,points:y})),qe.exports.h("path",ji({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},_)))},h.extendKey="ExclusiveGatewayNode",h}(qe.exports.PolygonNode),o1={type:"bpmn:exclusiveGateway",view:r1,model:n1},Mv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Fa.apply(this,arguments)},i1=function(b){Mv(h,b);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="UserTaskModel",h}(qe.exports.RectNodeModel),a1=function(b){Mv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.getNodeStyle();return qe.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},qe.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.radius,_=c.getNodeStyle();return qe.exports.h("g",{},[qe.exports.h("rect",Fa(Fa({},_),{x:p-f/2,y:i-s/2,rx:y,ry:y,width:f,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(qe.exports.RectNode),u1={type:"bpmn:userTask",view:a1,model:i1},Nv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},es.apply(this,arguments)},c1=function(b){Nv(h,b);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="ServiceTaskModel",h}(qe.exports.RectNodeModel),s1=function(b){Nv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.getNodeStyle();return qe.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},qe.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.radius,_=c.getNodeStyle();return qe.exports.h("g",{},[qe.exports.h("rect",es({x:p-f/2,y:i-s/2,rx:y,ry:y,width:f,height:s},_)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(qe.exports.RectNode),l1={type:"bpmn:serviceTask",view:s1,model:c1},Cv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),f1=function(b){Cv(h,b);function h(c,p){var i=this;return c.id||(c.id="Flow_"+Ro()),i=b.call(this,c,p)||this,i}return h.extendKey="SequenceFlowModel",h}(qe.exports.PolylineEdgeModel),p1=function(b){Cv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(qe.exports.PolylineEdge),d1={type:"bpmn:sequenceFlow",view:p1,model:f1},Zy={width:40,height:40},Jy={width:40,height:40},Qy={width:40,height:40},ev={width:100,height:80},tv={width:100,height:80},h1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},y1=function(){function b(h){var c=h.lf;c.setTheme(h1),c.register(JO),c.register(t1),c.register(o1),c.register(u1),c.register(l1),c.options.customBpmnEdge||(c.register(d1),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return b.pluginName="bpmnElement",b}(),v1=function(){function b(h){var c=this,p=h.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(i,f){c.getSnapshot(i,f)},p.getSnapshotBlob=function(i){return c.getSnapshotBlob(i)},p.getSnapshotBase64=function(i){return c.getSnapshotBase64(i)}}return b.prototype.getSvgRootElement=function(h){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,h.graphModel.nodes.forEach(function(i){var f=i.x,s=i.width,y=i.y,_=i.height,O=f-s/2,x=y-_/2;O<c.offsetX&&(c.offsetX=O-5),x<c.offsetY&&(c.offsetY=x-5)}),h.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(f){var s=f.x,y=f.y;s<c.offsetX&&(c.offsetX=s-5),y<c.offsetY&&(c.offsetY=y-5)})});var p=h.container.querySelector(".lf-canvas-overlay");return p},b.prototype.triggerDownload=function(h){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",h),p.setAttribute("target","_blank"),p.dispatchEvent(c)},b.prototype.removeAnchor=function(h){for(var c=h.childNodes,p=h.childNodes&&h.childNodes.length,i=0;i<p;i++){var f=c[i],s=f.classList&&Array.from(f.classList)||[];s.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[i]),p--,i--)}},b.prototype.getSnapshot=function(h,c){var p=this;this.fileName=h||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,c).then(function(f){var s=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(s)})},b.prototype.getSnapshotBase64=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){var s=f.toDataURL("image/png");i({data:s,width:f.width,height:f.height})})})},b.prototype.getSnapshotBlob=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){f.toBlob(function(s){i({data:s,width:f.width,height:f.height})},"image/png")})})},b.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var c=document.styleSheets,p=0;p<c.length;p++)for(var i=c[p],f=0;f<i.cssRules.length;f++)h+=i.cssRules[f].cssText;return this.customCssRules&&(h+=this.customCssRules),h},b.prototype.getCanvasData=function(h,c){var p=this,i=h.cloneNode(!0),f=i.lastChild,s=f.childNodes&&f.childNodes.length;if(s)for(var y=0;y<s;y++){var _=f.childNodes[y],O=_.classList&&Array.from(_.classList);if(O&&O.indexOf("lf-base")<0)f.removeChild(f.childNodes[y]),s--,y--;else{var x=f.childNodes[y];x&&x.childNodes.forEach(function(B){var G=B;p.removeAnchor(G.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var j=window.devicePixelRatio||1,P=document.createElement("canvas"),k=document.getElementsByClassName("lf-base")[0],N=k.getBoundingClientRect(),I=this.lf.graphModel,X=I.transformModel,V=X.SCALE_X,F=X.SCALE_Y,K=Math.ceil(N.width/V),J=Math.ceil(N.height/F);P.style.width=K+"px",P.style.height=J+"px",P.width=K*j+80,P.height=J*j+80;var Y=P.getContext("2d");Y.clearRect(0,0,P.width,P.height),Y.scale(j,j),c?(Y.fillStyle=c,Y.fillRect(0,0,K*j+80,J*j+80)):Y.clearRect(0,0,K,J);var C=new Image,H=document.createElement("style");H.innerHTML=this.getClassRules();var A=document.createElement("foreignObject");return A.appendChild(H),i.appendChild(A),new Promise(function(B){C.onload=function(){Y.drawImage(C,0,0),B(P)};var G="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),R=G.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");C.src=R})},b.pluginName="snapshot",b}(),g1=new nr([32,32,1]);function nv(){return g1.next()}var pn=function(){};pn.ObjTree=function(){return this};pn.ObjTree.VERSION="0.23";pn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pn.ObjTree.prototype.attr_prefix="-";pn.ObjTree.prototype.parseXML=function(b){var h;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(b,"application/xml");if(!p)return;h=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(b),h=c.documentElement);if(!!h)return this.parseDOM(h)};pn.ObjTree.prototype.parseHTTP=function(b,h,c){var p={};for(var i in h)p[i]=h[i];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,y=p.onComplete;p.onComplete=function(x){var j;x&&x.responseXML&&x.responseXML.documentElement&&(j=f.parseDOM(x.responseXML.documentElement)),s(j,x),y&&y(x)}}else p.asynchronous=!1;var _;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=b;var O=new HTTP.Request(p);O&&(_=O.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var O=new Ajax.Request(b,p);O&&(_=O.transport)}if(c)return _;if(_&&_.responseXML&&_.responseXML.documentElement)return this.parseDOM(_.responseXML.documentElement)};pn.ObjTree.prototype.parseDOM=function(b){if(!!b){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(b);if(this.__force_array[b.nodeName]&&(c=[c]),b.nodeType!=11){var p={};p[b.nodeName]=c,c=p}return c}};pn.ObjTree.prototype.parseElement=function(b){if(b.nodeType!=7){if(b.nodeType==3||b.nodeType==4){var h=b.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:b.nodeValue}var c,p={};if(b.attributes&&b.attributes.length){c={};for(var i=0;i<b.attributes.length;i++){var f=b.attributes[i].nodeName;if(typeof f=="string"){var s=b.attributes[i].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(b.childNodes&&b.childNodes.length){var y=!0;c&&(y=!1);for(var i=0;i<b.childNodes.length&&y;i++){var _=b.childNodes[i].nodeType;_==3||_==4||(y=!1)}if(y){c||(c="");for(var i=0;i<b.childNodes.length;i++)c+=b.childNodes[i].nodeValue}else{c||(c={});for(var i=0;i<b.childNodes.length;i++){var f=b.childNodes[i].nodeName;if(typeof f=="string"){var s=this.parseElement(b.childNodes[i]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};pn.ObjTree.prototype.addNode=function(b,h,c,p){this.__force_array[h]?(c==1&&(b[h]=[]),b[h][b[h].length]=p):c==1?b[h]=p:c==2?b[h]=[b[h],p]:b[h][b[h].length]=p};pn.ObjTree.prototype.writeXML=function(b){var h=this.hash_to_xml(null,b);return this.xmlDecl+h};pn.ObjTree.prototype.hash_to_xml=function(b,h){var c=[],p=[];for(var i in h)if(!!h.hasOwnProperty(i)){var f=h[i];i.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+i+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(i,f):typeof f=="object"?c[c.length]=this.hash_to_xml(i,f):c[c.length]=this.scalar_to_xml(i,f):p[p.length]=" "+i.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),y=c.join("");return typeof b=="undefined"||b==null||(c.length>0?y.match(/\n/)?y="<"+b+s+`>
`+y+"</"+b+`>
`:y="<"+b+s+">"+y+"</"+b+`>
`:y="<"+b+s+` />
`),y};pn.ObjTree.prototype.array_to_xml=function(b,h){for(var c=[],p=0;p<h.length;p++){var i=h[p];typeof i=="undefined"||i==null?c[c.length]="<"+b+" />":typeof i=="object"&&i.constructor==Array?c[c.length]=this.array_to_xml(b,i):typeof i=="object"?c[c.length]=this.hash_to_xml(b,i):c[c.length]=this.scalar_to_xml(b,i)}return c.join("")};pn.ObjTree.prototype.scalar_to_xml=function(b,h){return b=="#text"?this.xml_escape(h):"<"+b+">"+this.xml_escape(h)+"</"+b+`>
`};pn.ObjTree.prototype.xml_escape=function(b){return b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ya=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},rr;(function(b){b.START="bpmn:startEvent",b.END="bpmn:endEvent",b.GATEWAY="bpmn:exclusiveGateway",b.USER="bpmn:userTask",b.SYSTEM="bpmn:serviceTask",b.FLOW="bpmn:sequenceFlow"})(rr||(rr={}));var Rv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ts(b){var h={};return Object.entries(b).forEach(function(c){var p=Ya(c,2),i=p[0],f=p[1];typeof f!="object"?i.indexOf("-")===0?h[i]=f:h["-"+i]=f:h[i]=ts(f)}),h}function is(b){var h={};return Object.entries(b).forEach(function(c){var p=Ya(c,2),i=p[0],f=p[1];typeof f=="string"?i.indexOf("-")===0?h[i.substr(1)]=f:h[i]=f:typeof f=="object"?h[i]=is(f):h[i]=f}),h}function b1(b,h){var c=new Map;h.nodes.forEach(function(i){var f,s={"-id":i.id};if(!((f=i.text)===null||f===void 0)&&f.value&&(s["-name"]=i.text.value),i.properties){var y=ts(i.properties);Object.assign(s,y)}c.set(i.id,s),b[i.type]?Array.isArray(b[i.type])?b[i.type].push(s):b[i.type]=[b[i.type],s]:b[i.type]=s});var p=h.edges.map(function(i){var f,s,y=c.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var _=c.get(i.sourceNodeId);_["bpmn:outgoing"]?Array.isArray(_["bpmn:outgoing"])?_["bpmn:outgoing"].push(i.id):_["bpmn:outgoing"]=[_["bpmn:outgoing"],i.id]:_["bpmn:outgoing"]=i.id;var O={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((f=i.text)===null||f===void 0)&&f.value&&(O["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var x=ts(i.properties);Object.assign(O,x)}return O});b[rr.FLOW]=p}function m1(b,h){b["bpmndi:BPMNEdge"]=h.edges.map(function(c){var p,i=c.id,f=c.pointsList.map(function(y){var _=y.x,O=y.y;return{"-x":_,"-y":O}}),s={"-id":i+"_di","-bpmnElement":i,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),b["bpmndi:BPMNShape"]=h.nodes.map(function(c){var p,i=c.id,f=100,s=80,y=c.x,_=c.y,O=io.shapeConfigMap.get(c.type);O&&(f=O.width,s=O.height),y-=f/2,_-=s/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":_,"-width":f,"-height":s}};return!((p=c.text)===null||p===void 0)&&p.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),x})}function _1(b){var h=[],c=[],p=b["bpmn:definitions"];if(p){var i=p["bpmn:process"];Object.keys(i).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=i[f];if(f===rr.FLOW){var y=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=w1(s,y)}else{var _=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(O1(s,_,f))}}})}return{nodes:h,edges:c}}function O1(b,h,c){var p=[];if(Array.isArray(b))b.forEach(function(s){var y;Array.isArray(h)?y=h.find(function(O){return O["-bpmnElement"]===s["-id"]}):y=h;var _=rv(y,c,s);p.push(_)});else{var i=void 0;Array.isArray(h)?i=h.find(function(s){return s["-bpmnElement"]===b["-id"]}):i=h;var f=rv(i,c,b);p.push(f)}return p}function rv(b,h,c){var p=Number(b["dc:Bounds"]["-x"]),i=Number(b["dc:Bounds"]["-y"]),f=c["-name"],s=io.shapeConfigMap.get(h);s&&(p+=s.width/2,i+=s.height/2);var y;Object.entries(c).forEach(function(j){var P=Ya(j,2),k=P[0],N=P[1];Rv.indexOf(k)===-1&&(y||(y={}),y[k]=N)}),y&&(y=is(y));var _;if(f&&(_={x:p,y:i,value:f},b["bpmndi:BPMNLabel"]&&b["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=b["bpmndi:BPMNLabel"]["dc:Bounds"];_.x=Number(O["-x"])+Number(O["-width"])/2,_.y=Number(O["-y"])+Number(O["-height"])/2}var x={id:b["-bpmnElement"],type:h,x:p,y:i,properties:y};return _&&(x.text=_),x}function w1(b,h){var c=[];if(Array.isArray(b))b.forEach(function(i){var f;Array.isArray(h)?f=h.find(function(s){return s["-bpmnElement"]===i["-id"]}):f=h,c.push(ov(f,i))});else{var p=void 0;Array.isArray(h)?p=h.find(function(i){return i["-bpmnElement"]===b["-id"]}):p=h,c.push(ov(p,b))}return c}function ov(b,h){var c,p=h["-name"];if(p){var i=b["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(_){f<_.length&&(f=_.length)}),c={value:p,x:Number(i["-x"])+f*10/2,y:Number(i["-y"])+7}}var s;Object.entries(h).forEach(function(_){var O=Ya(_,2),x=O[0],j=O[1];Rv.indexOf(x)===-1&&(s||(s={}),s[x]=j)}),s&&(s=is(s));var y={id:h["-id"],type:rr.FLOW,pointsList:b["di:waypoint"].map(function(_){return{x:Number(_["-x"]),y:Number(_["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(y.text=c),y}var io={pluginName:"bpmn-adapter",install:function(b){b.adapterIn=this.adapterIn,b.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(b,h){this.shapeConfigMap.set(b,h)},adapterOut:function(b){var h={"-id":"Process_"+nv(),"-isExecutable":"false"};b1(h,b);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};m1(c,b);var p={"bpmn:definitions":{"-id":"Definitions_"+nv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(b){if(b)return _1(b)}};io.shapeConfigMap.set(rr.START,{width:Zy.width,height:Zy.height});io.shapeConfigMap.set(rr.END,{width:Jy.width,height:Jy.height});io.shapeConfigMap.set(rr.GATEWAY,{width:Qy.width,height:Qy.height});io.shapeConfigMap.set(rr.SYSTEM,{width:ev.width,height:ev.height});io.shapeConfigMap.set(rr.USER,{width:tv.width,height:tv.height});var iv=globalThis&&globalThis.__assign||function(){return iv=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},iv.apply(this,arguments)};globalThis&&globalThis.__read;var av;(function(b){b.HORIZONTAL="horizontal",b.VERTICAL="vertical"})(av||(av={}));var x1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var E1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var j1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},S1=globalThis&&globalThis.__spread||function(){for(var b=[],h=0;h<arguments.length;h++)b=b.concat(j1(arguments[h]));return b},_i="lf:defaultNodeMenu",Oi="lf:defaultEdgeMenu",wi="lf:defaultGraphMenu",uv="lf:defaultSelectionMenu",P1=function(){function b(h){var c=this,p=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){c.setMenuConfig(i)},this.lf.addMenuConfig=function(i){c.addMenuConfig(i)},this.lf.setMenuByType=function(i){c.setMenuByType(i)}}return b.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(_i,c);var p=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(Oi,p),this.menuTypeMap.set(wi,[]);var i=[{text:"\u5220\u9664",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(uv,i)},b.prototype.render=function(h,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var f=i.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var f=i.data,s=i.position,y=s.domOverlayPosition,_=y.x,O=y.y,x=f.id,j=p.lf.graphModel.getNodeModelById(x),P=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:k?P=k:P=p.menuTypeMap.get(_i),p.__currentData=f,p.showMenu(_,O,P)}),this.lf.on("edge:contextmenu",function(i){var f=i.data,s=i.position,y=s.domOverlayPosition,_=y.x,O=y.y,x=f.id,j=p.lf.graphModel.getEdgeModelById(x),P=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:k?P=k:P=p.menuTypeMap.get(Oi),p.__currentData=f,p.showMenu(_,O,P)}),this.lf.on("blank:contextmenu",function(i){var f=i.position,s=p.menuTypeMap.get(wi),y=f.domOverlayPosition,_=y.x,O=y.y;p.showMenu(_,O,s)}),this.lf.on("selection:contextmenu",function(i){var f=i.data,s=i.position,y=p.menuTypeMap.get(uv),_=s.domOverlayPosition,O=_.x,x=_.y;p.__currentData=f,p.showMenu(O,x,y)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},b.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},b.prototype.showMenu=function(h,c,p){if(!(!p||!p.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,S1(this.__getMenuDom(p))),i.children.length&&(i.style.display="block",i.style.top=c+"px",i.style.left=h+"px")}},b.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},b.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(p){var i=document.createElement("li");if(p.className?i.className="lf-menu-item "+p.className:i.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",i.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),i.appendChild(s),i.onclickCallback=p.callback,c.push(i)}),c},b.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(_i,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(Oi,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(wi,h.graphMenu?h.graphMenu:[]))},b.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(_i);this.menuTypeMap.set(_i,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,c.concat(h.graphMenu))}}},b.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},b.pluginName="menu",b}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var Iv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xi=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(b){Iv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,i=c.stroke,f=c.strokeDashArray,s=this.props.model.points,y=s.split(" ").map(function(L){return L.split(",").map(function($){return Number($)})}),_=xi(y[0],2),O=_[0],x=_[1],j="M"+O+" "+x,P=5,k=1;k<y.length-1;k++){var N=xi(y[k-1],2),I=N[0],X=N[1],V=xi(y[k],2),F=V[0],K=V[1],J=xi(y[k+1],2),Y=J[0],C=J[1];if(F===I&&K!==X){var H=K>X?K-P:K+P;j=j+" L "+F+" "+H}if(K===X&&F!==I){var A=F>I?F-P:F+P;j=j+" L "+A+" "+K}if(j=j+" Q "+F+" "+K,F===Y&&K!==C){var H=K>C?K-P:K+P;j=j+" "+F+" "+H}if(K===C&&F!==Y){var A=F>Y?F-P:F+P;j=j+" "+A+" "+K}}var B=xi(y[y.length-1],2),G=B[0],R=B[1];return j=j+" L "+G+" "+R,qe.exports.h("path",{d:j,strokeWidth:p,stroke:i,fill:"none",strokeDashArray:f})},h.extendKey="curvedEdge",h})(qe.exports.PolylineEdge);(function(b){Iv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h})(qe.exports.PolylineEdgeModel);var as,Ft,Lv,Si,zv,cv,Bv={},Fv=[],k1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(b,h){for(var c in h)b[c]=h[c];return b}function Hv(b){var h=b.parentNode;h&&h.removeChild(b)}function Pi(b,h,c){var p,i,f,s={};for(f in h)f=="key"?p=h[f]:f=="ref"?i=h[f]:s[f]=h[f];if(arguments.length>2&&(s.children=arguments.length>3?as.call(arguments,2):c),typeof b=="function"&&b.defaultProps!=null)for(f in b.defaultProps)s[f]===void 0&&(s[f]=b.defaultProps[f]);return La(b,s,p,i,null)}function La(b,h,c,p,i){var f={type:b,props:h,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Lv:i};return i==null&&Ft.vnode!=null&&Ft.vnode(f),f}function us(b){return b.children}function No(b,h){this.props=b,this.context=h}function Co(b,h){if(h==null)return b.__?Co(b.__,b.__.__k.indexOf(b)+1):null;for(var c;h<b.__k.length;h++)if((c=b.__k[h])!=null&&c.__e!=null)return c.__e;return typeof b.type=="function"?Co(b):null}function Xv(b){var h,c;if((b=b.__)!=null&&b.__c!=null){for(b.__e=b.__c.base=null,h=0;h<b.__k.length;h++)if((c=b.__k[h])!=null&&c.__e!=null){b.__e=b.__c.base=c.__e;break}return Xv(b)}}function sv(b){(!b.__d&&(b.__d=!0)&&Si.push(b)&&!Ha.__r++||cv!==Ft.debounceRendering)&&((cv=Ft.debounceRendering)||zv)(Ha)}function Ha(){for(var b;Ha.__r=Si.length;)b=Si.sort(function(h,c){return h.__v.__b-c.__v.__b}),Si=[],b.some(function(h){var c,p,i,f,s,y;h.__d&&(s=(f=(c=h).__v).__e,(y=c.__P)&&(p=[],(i=Nr({},f)).__v=f.__v+1,Yv(y,f,i,c.__n,y.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?Co(f):s,f.__h),T1(p,f),f.__e!=s&&Xv(f)))})}function Gv(b,h,c,p,i,f,s,y,_,O){var x,j,P,k,N,I,X,V=p&&p.__k||Fv,F=V.length;for(c.__k=[],x=0;x<h.length;x++)if((k=c.__k[x]=(k=h[x])==null||typeof k=="boolean"?null:typeof k=="string"||typeof k=="number"||typeof k=="bigint"?La(null,k,null,null,k):Array.isArray(k)?La(us,{children:k},null,null,null):k.__b>0?La(k.type,k.props,k.key,null,k.__v):k)!=null){if(k.__=c,k.__b=c.__b+1,(P=V[x])===null||P&&k.key==P.key&&k.type===P.type)V[x]=void 0;else for(j=0;j<F;j++){if((P=V[j])&&k.key==P.key&&k.type===P.type){V[j]=void 0;break}P=null}Yv(b,k,P=P||Bv,i,f,s,y,_,O),N=k.__e,(j=k.ref)&&P.ref!=j&&(X||(X=[]),P.ref&&X.push(P.ref,null,k),X.push(j,k.__c||N,k)),N!=null?(I==null&&(I=N),typeof k.type=="function"&&k.__k===P.__k?k.__d=_=Vv(k,_,b):_=Uv(b,k,P,V,N,_),typeof c.type=="function"&&(c.__d=_)):_&&P.__e==_&&_.parentNode!=b&&(_=Co(P))}for(c.__e=I,x=F;x--;)V[x]!=null&&(typeof c.type=="function"&&V[x].__e!=null&&V[x].__e==c.__d&&(c.__d=Co(p,x+1)),$v(V[x],V[x]));if(X)for(x=0;x<X.length;x++)Wv(X[x],X[++x],X[++x])}function Vv(b,h,c){for(var p,i=b.__k,f=0;i&&f<i.length;f++)(p=i[f])&&(p.__=b,h=typeof p.type=="function"?Vv(p,h,c):Uv(c,p,p,i,p.__e,h));return h}function Uv(b,h,c,p,i,f){var s,y,_;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||i!=f||i.parentNode==null)e:if(f==null||f.parentNode!==b)b.appendChild(i),s=null;else{for(y=f,_=0;(y=y.nextSibling)&&_<p.length;_+=2)if(y==i)break e;b.insertBefore(i,f),s=f}return s!==void 0?s:i.nextSibling}function A1(b,h,c,p,i){var f;for(f in c)f==="children"||f==="key"||f in h||Xa(b,f,null,c[f],p);for(f in h)i&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===h[f]||Xa(b,f,h[f],c[f],p)}function lv(b,h,c){h[0]==="-"?b.setProperty(h,c):b[h]=c==null?"":typeof c!="number"||k1.test(h)?c:c+"px"}function Xa(b,h,c,p,i){var f;e:if(h==="style")if(typeof c=="string")b.style.cssText=c;else{if(typeof p=="string"&&(b.style.cssText=p=""),p)for(h in p)c&&h in c||lv(b.style,h,"");if(c)for(h in c)p&&c[h]===p[h]||lv(b.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in b?h.toLowerCase().slice(2):h.slice(2),b.l||(b.l={}),b.l[h+f]=c,c?p||b.addEventListener(h,f?pv:fv,f):b.removeEventListener(h,f?pv:fv,f);else if(h!=="dangerouslySetInnerHTML"){if(i)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in b)try{b[h]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?b.setAttribute(h,c):b.removeAttribute(h))}}function fv(b){this.l[b.type+!1](Ft.event?Ft.event(b):b)}function pv(b){this.l[b.type+!0](Ft.event?Ft.event(b):b)}function Yv(b,h,c,p,i,f,s,y,_){var O,x,j,P,k,N,I,X,V,F,K,J=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(_=c.__h,y=h.__e=c.__e,h.__h=null,f=[y]),(O=Ft.__b)&&O(h);try{e:if(typeof J=="function"){if(X=h.props,V=(O=J.contextType)&&p[O.__c],F=O?V?V.props.value:O.__:p,c.__c?I=(x=h.__c=c.__c).__=x.__E:("prototype"in J&&J.prototype.render?h.__c=x=new J(X,F):(h.__c=x=new No(X,F),x.constructor=J,x.render=M1),V&&V.sub(x),x.props=X,x.state||(x.state={}),x.context=F,x.__n=p,j=x.__d=!0,x.__h=[]),x.__s==null&&(x.__s=x.state),J.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=Nr({},x.__s)),Nr(x.__s,J.getDerivedStateFromProps(X,x.__s))),P=x.props,k=x.state,j)J.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(J.getDerivedStateFromProps==null&&X!==P&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(X,F),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(X,x.__s,F)===!1||h.__v===c.__v){x.props=X,x.state=x.__s,h.__v!==c.__v&&(x.__d=!1),x.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),x.__h.length&&s.push(x);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(X,x.__s,F),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(P,k,N)})}x.context=F,x.props=X,x.state=x.__s,(O=Ft.__r)&&O(h),x.__d=!1,x.__v=h,x.__P=b,O=x.render(x.props,x.state,x.context),x.state=x.__s,x.getChildContext!=null&&(p=Nr(Nr({},p),x.getChildContext())),j||x.getSnapshotBeforeUpdate==null||(N=x.getSnapshotBeforeUpdate(P,k)),K=O!=null&&O.type===us&&O.key==null?O.props.children:O,Gv(b,Array.isArray(K)?K:[K],h,c,p,i,f,s,y,_),x.base=h.__e,h.__h=null,x.__h.length&&s.push(x),I&&(x.__E=x.__=null),x.__e=!1}else f==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=D1(c.__e,h,c,p,i,f,s,_);(O=Ft.diffed)&&O(h)}catch(Y){h.__v=null,(_||f!=null)&&(h.__e=y,h.__h=!!_,f[f.indexOf(y)]=null),Ft.__e(Y,h,c)}}function T1(b,h){Ft.__c&&Ft.__c(h,b),b.some(function(c){try{b=c.__h,c.__h=[],b.some(function(p){p.call(c)})}catch(p){Ft.__e(p,c.__v)}})}function D1(b,h,c,p,i,f,s,y){var _,O,x,j=c.props,P=h.props,k=h.type,N=0;if(k==="svg"&&(i=!0),f!=null){for(;N<f.length;N++)if((_=f[N])&&"setAttribute"in _==!!k&&(k?_.localName===k:_.nodeType===3)){b=_,f[N]=null;break}}if(b==null){if(k===null)return document.createTextNode(P);b=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,P.is&&P),f=null,y=!1}if(k===null)j===P||y&&b.data===P||(b.data=P);else{if(f=f&&as.call(b.childNodes),O=(j=c.props||Bv).dangerouslySetInnerHTML,x=P.dangerouslySetInnerHTML,!y){if(f!=null)for(j={},N=0;N<b.attributes.length;N++)j[b.attributes[N].name]=b.attributes[N].value;(x||O)&&(x&&(O&&x.__html==O.__html||x.__html===b.innerHTML)||(b.innerHTML=x&&x.__html||""))}if(A1(b,P,j,i,y),x)h.__k=[];else if(N=h.props.children,Gv(b,Array.isArray(N)?N:[N],h,c,p,i&&k!=="foreignObject",f,s,f?f[0]:c.__k&&Co(c,0),y),f!=null)for(N=f.length;N--;)f[N]!=null&&Hv(f[N]);y||("value"in P&&(N=P.value)!==void 0&&(N!==b.value||k==="progress"&&!N||k==="option"&&N!==j.value)&&Xa(b,"value",N,j.value,!1),"checked"in P&&(N=P.checked)!==void 0&&N!==b.checked&&Xa(b,"checked",N,j.checked,!1))}return b}function Wv(b,h,c){try{typeof b=="function"?b(h):b.current=h}catch(p){Ft.__e(p,c)}}function $v(b,h,c){var p,i;if(Ft.unmount&&Ft.unmount(b),(p=b.ref)&&(p.current&&p.current!==b.__e||Wv(p,null,h)),(p=b.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Ft.__e(f,h)}p.base=p.__P=null}if(p=b.__k)for(i=0;i<p.length;i++)p[i]&&$v(p[i],h,typeof b.type!="function");c||b.__e==null||Hv(b.__e),b.__e=b.__d=void 0}function M1(b,h,c){return this.constructor(b,c)}as=Fv.slice,Ft={__e:function(b,h,c,p){for(var i,f,s;h=h.__;)if((i=h.__c)&&!i.__)try{if((f=i.constructor)&&f.getDerivedStateFromError!=null&&(i.setState(f.getDerivedStateFromError(b)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(b,p||{}),s=i.__d),s)return i.__E=i}catch(y){b=y}throw b}},Lv=0,No.prototype.setState=function(b,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof b=="function"&&(b=b(Nr({},c),this.props)),b&&Nr(c,b),b!=null&&this.__v&&(h&&this.__h.push(h),sv(this))},No.prototype.forceUpdate=function(b){this.__v&&(this.__e=!0,b&&this.__h.push(b),sv(this))},No.prototype.render=us,Si=[],zv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ha.__r=0;var ki=globalThis&&globalThis.__assign||function(){return ki=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ki.apply(this,arguments)};function cs(b){var h=b.x,c=b.y,p=b.width,i=b.height,f=b.radius,s=b.className,y=h-p/2,_=c-i/2,O=ki(ki({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},b),{x:y,y:_});return qe.exports.h("rect",ki({},O))}cs.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Mo;(function(b){b.NODE="node",b.CIRCLE_NODE="circle-node",b.POLYGON_NODE="polygon-node",b.RECT_NODE="rect-node",b.HTML_NODE="html-node",b.TEXT_NODE="text-node",b.ELLIPSE_NODE="ellipse-node",b.DIAMOND_NODE="diamond-node",b.EDGE="edge",b.LINE_EDGE="line-edge",b.POLYLINE_EDGE="polyline-edge",b.BEZIER_EDGE="bezier-edge",b.GRAPH="graph"})(Mo||(Mo={}));function za(b){var h=b.x,c=b.y,p=b.width,i=b.height;return{minX:h-p/2,minY:c-i/2,maxX:h+p/2,maxY:c+i/2}}function dv(b){var h=za(b),c=b.radius,p=h.minX,i=h.minY,f=h.maxX,s=h.maxY;return[{x:p+c,y:i+c},{x:f-c,y:i+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function hv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=h.x,f=h.y,s={x:i,y:f},y=c.radius,_=za(c),O=za(p);if(i===_.minX){s.x=O.minX;var x=(f-c.y)/(c.height/2-y);x?s.y=p.y+(p.height/2-y)*x:s.y=p.y}else if(i===_.maxX){s.x=O.maxX;var x=(f-c.y)/(c.height/2-y);x?s.y=p.y+(p.height/2-y)*x:s.y=p.y}else if(f===_.minY){s.y=O.minY;var x=(i-c.x)/(c.width/2-y);x?s.x=p.x+(p.width/2-y)*x:s.x=p.x}else if(f===_.maxY){s.y=O.maxY;var x=(i-c.x)/(c.width/2-y);x?s.x=p.x+(p.width/2-y)*x:s.x=p.x}else{var j=dv(c),P=dv(p),k=za(c),N=k.minX,I=k.minY,X=k.maxX,V=k.maxY,F=-1;if(i-N<y&&f-I<y?F=0:X-i<y&&f-I<y?F=1:X-i<y&&V-f<y?F=2:i-N<y&&I-f<y&&(F=3),F>-1){var K=Math.atan2(f-j[F].y,i-j[F].x);s.x=P[F].x+y*Math.cos(K),s.y=P[F].y+y*Math.sin(K)}}return s}function yv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=p.rx,f=p.ry,s=h,y=(h.y-c.y)/(h.x-c.x),_=i,O=f,x,j;return y>=1/0?(x=0,j=O):y<=-1/0?(x=0,j=-O):h.x-c.x>0?(x=_*O/Math.sqrt(O*O+_*_*y*y),j=_*O*y/Math.sqrt(O*O+_*_*y*y)):(x=-(_*O)/Math.sqrt(O*O+_*_*y*y),j=-(_*O*y)/Math.sqrt(O*O+_*_*y*y)),s={x:x+p.x,y:j+p.y},s}function vv(b){var h=b.point,c=b.beforeNode,p=b.afterNode,i=h,f,s,y=h.x-c.x,_=h.y-c.y,O=c.rx,x=c.ry,j=Math.sqrt((O-Math.abs(y))*(O-Math.abs(y))+_*_)/Math.sqrt(O*O+x*x),P=p.rx,k=p.ry,N=Math.sqrt((P*P+k*k)*j*j*(P*P/(P*P+k*k))),I=N*(k/P);return y>=0?f=P-N:f=N-P,_>0?s=I:s=-I,i={x:f+p.x,y:s+p.y},i}var N1=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},no.apply(this,arguments)},C1=qe.exports.LogicFlowUtil.StepDrag,R1=function(b){N1(h,b);function h(c){var p=b.call(this)||this;p.updatePosition=function(s){var y=s.deltaX,_=s.deltaY,O=p.nodeModel,x=O.x,j=O.y;p.nodeModel.x=x+y/2,p.nodeModel.y=j+_/2,p.nodeModel.moveText(y/2,_/2)},p.getResize=function(s){var y=s.index,_=s.deltaX,O=s.deltaY,x=s.width,j=s.height,P=s.pct,k=P===void 0?1:P,N={width:x,height:j};switch(y){case 0:N.width=x-_*k,N.height=j-O*k;break;case 1:N.width=x+_*k,N.height=j-O*k;break;case 2:N.width=x+_,N.height=j+O*k;break;case 3:N.width=x-_*k,N.height=j+O*k;break}return N},p.updateRect=function(s){var y=s.deltaX,_=s.deltaY,O=p.nodeModel,x=O.id,j=O.x,P=O.y,k=O.width,N=O.height,I=O.radius,X=p.index,V=p.getResize({index:X,deltaX:y,deltaY:_,width:k,height:N,pct:1}),F=p.nodeModel,K=F.minWidth,J=F.minHeight,Y=F.maxWidth,C=F.maxHeight;if(V.width<K||V.width>Y||V.height<J||V.height>C){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:y,deltaY:_}),p.nodeModel.width=V.width,p.nodeModel.height=V.height,p.nodeModel.setProperties({nodeSize:{width:V.width,height:V.height}});var H=p.getNodeEdges(x),A={x:j,y:P,width:k,height:N,radius:I},B={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:I},G={point:"",beforeNode:A,afterNode:B},R;H.sourceEdges.forEach(function(L){G.point=L.startPoint,R=hv(G),L.updateStartPoint(R)}),H.targetEdges.forEach(function(L){G.point=L.endPoint,R=hv(G),L.updateEndPoint(R)}),p.eventEmit({beforeNode:A,afterNode:B})},p.updateEllipse=function(s){var y=s.deltaX,_=s.deltaY,O=p.nodeModel,x=O.id,j=O.rx,P=O.ry,k=O.x,N=O.y,I=p.index,X=j,V=P,F=p.getResize({index:I,deltaX:y,deltaY:_,width:X,height:V,pct:1/2}),K=p.nodeModel,J=K.minWidth,Y=K.minHeight,C=K.maxWidth,H=K.maxHeight;if(F.width<J/2||F.width>C/2||F.height<Y/2||F.height>H/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:y,deltaY:_}),p.nodeModel.rx=p.nodeModel.rx+y/2,p.nodeModel.ry=p.nodeModel.ry+_/2,p.nodeModel.setProperties({nodeSize:{rx:F.width,ry:F.height}});var A=p.getNodeEdges(x),B={x:k,y:N},G={rx:F.width,ry:F.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:B,afterNode:G},L;A.sourceEdges.forEach(function($){R.point=$.startPoint,L=yv(R),$.updateStartPoint(L)}),A.targetEdges.forEach(function($){R.point=$.endPoint,L=yv(R),$.updateEndPoint(L)}),p.eventEmit({beforeNode:no(no({},B),{rx:j,ry:P}),afterNode:G})},p.updateDiamond=function(s){var y=s.deltaX,_=s.deltaY,O=p.nodeModel,x=O.id,j=O.rx,P=O.ry,k=O.x,N=O.y,I=p.index,X=j,V=P,F=p.getResize({index:I,deltaX:y,deltaY:_,width:X,height:V,pct:1/2}),K=p.nodeModel,J=K.minWidth,Y=K.minHeight,C=K.maxWidth,H=K.maxHeight;if(F.width<J/2||F.width>C/2||F.height<Y/2||F.height>H/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:y,deltaY:_}),p.nodeModel.rx=p.nodeModel.rx+y/2,p.nodeModel.ry=p.nodeModel.ry+_/2,p.nodeModel.setProperties({nodeSize:{rx:F.width,ry:F.height}});var A={x:k,y:N,rx:j,ry:P},B={rx:F.width,ry:F.height,x:p.nodeModel.x,y:p.nodeModel.y},G={point:{},beforeNode:A,afterNode:B},R,L=p.getNodeEdges(x);L.sourceEdges.forEach(function($){G.point=$.startPoint,R=vv(G),$.updateStartPoint(R)}),L.targetEdges.forEach(function($){G.point=$.endPoint,R=vv(G),$.updateEndPoint(R)}),p.eventEmit({beforeNode:A,afterNode:B})},p.eventEmit=function(s){var y=s.beforeNode,_=s.afterNode,O=p.nodeModel,x=O.id,j=O.modelType,P=O.type,k=no({id:x,modelType:j,type:P},y),N=no({id:x,modelType:j,type:P},_);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:k,newNodeSize:N})},p.onDraging=function(s){var y=s.deltaX,_=s.deltaY,O=p.nodeModel.modelType;O===Mo.RECT_NODE||O===Mo.HTML_NODE?p.updateRect({deltaX:y,deltaY:_}):O===Mo.ELLIPSE_NODE?p.updateEllipse({deltaX:y,deltaY:_}):O===Mo.DIAMOND_NODE&&p.updateDiamond({deltaX:y,deltaY:_})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var i=p.graphModel.gridSize,f=2;return i>1&&(f=2*i),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new C1({onDraging:p.onDraging,step:f}),p}return h.prototype.getNodeEdges=function(c){for(var p=this.graphModel,i=p.edges,f=[],s=[],y=0;y<i.length;y++){var _=i[y];_.sourceNodeId===c?f.push(_):i[y].targetNodeId===c&&s.push(_)}return{sourceEdges:f,targetEdges:s}},h.prototype.render=function(){var c=this.props,p=c.x,i=c.y,f=c.index,s=c.model,y=s.getControlPointStyle();return Pi("g",{className:"lf-resize-control-"+f},Pi(cs,no({className:"lf-node-control"},{x:p,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(No),I1=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Ga.apply(this,arguments)},Wa=function(b){I1(h,b);function h(){var c=b.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,p=c.model,i=c.graphModel,f=p.x,s=p.y,y=p.width,_=p.height,O={minX:f-y/2,minY:s-_/2,maxX:f+y/2,maxY:s+_/2},x=O.minX,j=O.minY,P=O.maxX,k=O.maxY,N=[{x,y:j},{x:P,y:j},{x:P,y:k},{x,y:k}];return N.map(function(I,X){return Pi(R1,Ga({index:X},I,{model:p,graphModel:i}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,y=c.getResizeOutlineStyle();return Pi(cs,Ga({fill:"none"},y,{x:p,y:i,width:f,height:s}))},h.prototype.render=function(){return Pi("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(No),Kv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),L1=function(b){Kv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,p){console.log(c,p)},h}(qe.exports.RectNodeModel),z1=function(b){Kv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(qe.exports.RectNode),qv={type:"rect",view:z1,model:L1},Zv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Zv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.EllipseNodeModel);(function(b){Zv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return qe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(qe.exports.EllipseNode);var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},ns.apply(this,arguments)};function B1(b){var h=b.fillOpacity,c=h===void 0?1:h,p=b.strokeWidth,i=p===void 0?1:p,f=b.strokeOpacity,s=f===void 0?1:f,y=b.fill,_=y===void 0?"transparent":y,O=b.stroke,x=O===void 0?"#000":O,j=b.points,P=b.className,k=P===void 0?"lf-basic-shape":P,N={fill:_,fillOpacity:c,strokeWidth:i,stroke:x,strokeOpacity:s,points:"",className:k};return N.points=j.map(function(I){return I.join(",")}).join(" "),qe.exports.h("polygon",ns({},N))}var Jv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},rs.apply(this,arguments)};(function(b){Jv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.DiamondNodeModel);(function(b){Jv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,i=c.getNodeStyle();return qe.exports.h("g",null,qe.exports.h(B1,rs({},i,{points:p})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(qe.exports.DiamondNode);var Qv=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Qv(h,b);function h(c,p){var i=b.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.HtmlNodeModel);(function(b){Qv(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Wa,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(qe.exports.HtmlNode);var eg=globalThis&&globalThis.__extends||function(){var b=function(h,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},b(h,c)};return function(h,c){b(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},Va.apply(this,arguments)},F1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},gv=globalThis&&globalThis.__spread||function(){for(var b=[],h=0;h<arguments.length;h++)b=b.concat(F1(arguments[h]));return b},bv=500,mv=300;(function(b){eg(h,b);function h(){var c=b!==null&&b.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=bv,c.unfoldedHight=mv,c}return h.prototype.initNodeData=function(c){var p=this;b.prototype.initNodeData.call(this,c);var i=[];Array.isArray(c.children)&&(i=c.children),this.children=new Set(i),this.width=bv,this.height=mv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var c=b.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var s=p.graphModel.getElement(f);s.visible=!c,i=i.concat(s.incoming.edges.concat(s.outgoing.edges))}),this.foldEdge(c,i)},h.prototype.getAnchorStyle=function(c){var p=b.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},h.prototype.foldEdge=function(c,p){var i=this;p.forEach(function(f,s){var y=f.id,_=f.sourceNodeId,O=f.targetNodeId,x=f.startPoint,j=f.endPoint,P=f.type,k=f.properties,N=f.text,I={id:y+"__"+s,sourceNodeId:_,targetNodeId:O,startPoint:x,endPoint:j,type:P,properties:k,text:N==null?void 0:N.value};f.virtual&&i.graphModel.deleteEdgeById(f.id);var X=i.graphModel.group.getNodeGroup(O);X||(X=i.graphModel.getNodeModelById(O));var V=i.graphModel.group.getNodeGroup(_);V||(V=i.graphModel.getNodeModelById(_)),c&&f.visible!==!1&&(i.children.has(_)||i.id===_?(I.startPoint=void 0,I.sourceNodeId=i.id):(I.endPoint=void 0,I.targetNodeId=i.id),(X.id!==i.id||V.id!==i.id)&&i.createVirtualEdge(I),f.visible=!1),!c&&f.visible===!1&&(X&&X.isGroup&&X.isFolded?(I.targetNodeId=X.id,I.endPoint=void 0,i.createVirtualEdge(I)):V&&V.isGroup&&V.isFolded?(I.sourceNodeId=V.id,I.startPoint=void 0,i.createVirtualEdge(I)):f.visible=!0)})},h.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},h.prototype.isInRange=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&i>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:i>=this.y-this.height/2&&s<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=b.prototype.getData.call(this);c.children=gv(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},h.prototype.getHistoryData=function(){var c=b.prototype.getData.call(this);c.children=gv(this.children);var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},h})(qv.model);(function(b){eg(h,b);function h(){return b!==null&&b.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,i=c.properties;return p&&!i.isFolded?b.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,i=c.height,f=c.x,s=c.y,y=c.radius,_=c.properties;if(!_.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),j=p+O+8,P=i+O+8;return qe.exports.h("rect",Va(Va({},x),{width:j,height:P,x:f-j/2,y:s-P/2,rx:y,ry:y}))},h.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,i=c.y-c.height/2+5;if(!c.foldable)return null;var f=qe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" M"+(p+7)+","+(i+2)+" "+(p+7)+","+(i+10):"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" "});return qe.exports.h("g",{},[qe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return qe.exports.h("g",{},[this.getAddedableShape(),b.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(qv.view);var H1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var X1=globalThis&&globalThis.__read||function(b,h){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(y){s={error:y}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var _v=globalThis&&globalThis.__assign||function(){return _v=Object.assign||function(b){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(b[i]=h[i])}return b},_v.apply(this,arguments)};const G1={class:"control-container"},V1=["title","onMouseenter"],U1=["disabled","onClick"],Y1=Ua({props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(b,{emit:h}){const c=b,p=$y("controlButton3",null),i=$y("controlButton4",null);let f=ro(-1),s=ro([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",size:"17",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",size:"17",disabled:!1}]);const y=(O,x)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((j,P)=>{let k=c.lf;x===1&&k.zoom(!0),x===6&&h("catData"),x===P&&k[j]()})},_=O=>{f.value=O};return wv(()=>{c.lf.on("history:change",({data:{undoAble:O,redoAble:x}})=>{Rt(s)[3].disabled=Rt(p).disabled=!O,Rt(s)[4].disabled=Rt(i).disabled=!x})}),(O,x)=>{const j=Ei("el-tooltip");return tr(),oo("div",G1,[mr("ul",null,[(tr(!0),oo(xv,null,Ev(Rt(s),(P,k)=>(tr(),oo("li",{key:k,title:P.text,onMouseenter:Ky(N=>_(k),["prevent"]),onMouseleave:x[0]||(x[0]=Ky(N=>jv(f)?f.value=-1:f=-1,["prevent"]))},[To(j,{content:P.text,visible:Rt(f)===k,placement:"right"},{default:Do(()=>[mr("button",{ref_for:!0,ref:"controlButton"+k,disabled:P.disabled,style:qy({cursor:P.disabled===!1?"pointer":"not-allowed",color:P.disabled===!1?"":"#00000040"}),onClick:N=>y(P,k)},[mr("span",{class:Sv("iconfont "+P.icon),style:qy({fontSize:`${P.size}px`})},null,6)],12,U1)]),_:2},1032,["content","visible"])],40,V1))),128))])])}}});var qc=os(Y1,[["__scopeId","data-v-c62a88ce"]]);const W1={class:"node-panel"},$1=["onMousedown"],K1={key:0,class:"shape"},q1={class:"node-label"},Z1=Ua({props:{lf:{default:null},nodeList:{default:null}},setup(b){const h=b;let c=ro({a:"efrwe",b:"wewe"});const p=i=>{h.lf.dnd.startDrag({type:i.type,properties:Rt(c)})};return(i,f)=>(tr(),oo("div",W1,[(tr(!0),oo(xv,null,Ev(h.nodeList,s=>(tr(),oo("div",{class:"node-item",key:s.text,onMousedown:y=>p(s)},[mr("div",{class:Sv(["node-item-icon",s.class])},[s.type==="user"||s.type==="time"?(tr(),oo("div",K1)):Pv("",!0)],2),mr("span",q1,zO(s.text),1)],40,$1))),128))]))}});var Zc=os(Z1,[["__scopeId","data-v-53ff510e"]]),tg={exports:{}};(function(b,h){(function(c,p){b.exports=p(GO)})(BO,function(c){return function(){var p={452:function(y){y.exports=c}},i={};function f(y){var _=i[y];if(_!==void 0)return _.exports;var O=i[y]={exports:{}};return p[y](O,O.exports,f),O.exports}f.d=function(y,_){for(var O in _)f.o(_,O)&&!f.o(y,O)&&Object.defineProperty(y,O,{enumerable:!0,get:_[O]})},f.o=function(y,_){return Object.prototype.hasOwnProperty.call(y,_)},f.r=function(y){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var s={};return function(){f.r(s),f.d(s,{default:function(){return G}});var y=f(452);function _(R,L){(L==null||L>R.length)&&(L=R.length);for(var $=0,ue=new Array(L);$<L;$++)ue[$]=R[$];return ue}function O(R,L){if(R){if(typeof R=="string")return _(R,L);var $=Object.prototype.toString.call(R).slice(8,-1);return $==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set"?Array.from(R):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?_(R,L):void 0}}function x(R,L){return function($){if(Array.isArray($))return $}(R)||function($,ue){var fe=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(fe!=null){var ge,ve,pe=[],se=!0,le=!1;try{for(fe=fe.call($);!(se=(ge=fe.next()).done)&&(pe.push(ge.value),!ue||pe.length!==ue);se=!0);}catch(de){le=!0,ve=de}finally{try{se||fe.return==null||fe.return()}finally{if(le)throw ve}}return pe}}(R,L)||O(R,L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(R){return function(L){if(Array.isArray(L))return _(L)}(R)||function(L){if(typeof Symbol!="undefined"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(R)||O(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(R,L,$){return L in R?Object.defineProperty(R,L,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[L]=$,R}var k=(0,y.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var R=this.data,L=this.onClick;return(0,y.createVNode)("span",{class:"vjs-tree__brackets",onClick:L},[R])}}),N=(0,y.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(R,L){var $=L.emit;return{uiType:(0,y.computed)(function(){return R.isMultiple?"checkbox":"radio"}),model:(0,y.computed)({get:function(){return R.checked},set:function(ue){return $("update:modelValue",ue)}})}},render:function(){var R=this.uiType,L=this.model,$=this.$emit;return(0,y.createVNode)("label",{class:["vjs-check-controller",L?"is-checked":""],onClick:function(ue){return ue.stopPropagation()}},[(0,y.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(R)},null),(0,y.createVNode)("input",{checked:L,class:"vjs-check-controller__original is-".concat(R),type:R,onChange:function(){return $("change",L)}},null)])}});function I(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(R);L&&(ue=ue.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ue)}return $}function X(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?I(Object($),!0).forEach(function(ue){P(R,ue,$[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):I(Object($)).forEach(function(ue){Object.defineProperty(R,ue,Object.getOwnPropertyDescriptor($,ue))})}return R}function V(R){return Object.prototype.toString.call(R).slice(8,-1).toLowerCase()}function F(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ue=arguments.length>3?arguments[3]:void 0,fe=ue||{},ge=fe.key,ve=fe.index,pe=fe.type,se=pe===void 0?"content":pe,le=fe.showComma,de=le!==void 0&&le,Ee=fe.length,Te=Ee===void 0?1:Ee,De=V(R);if(De==="array"){var ke=R.map(function(Z,oe,me){return F(Z,"".concat(L,"[").concat(oe,"]"),$+1,{index:oe,showComma:oe!==me.length-1,length:Te,type:se})}).reduce(function(Z,oe){return Z.concat(oe)},[]);return[F("[",L,$,{showComma:!1,key:ge,length:R.length,type:"arrayStart"})[0]].concat(ke,F("]",L,$,{showComma:de,length:R.length,type:"arrayEnd"})[0])}if(De==="object"){var Ie=Object.keys(R),et=Ie.map(function(Z,oe,me){return F(R[Z],Z.includes(".")?"".concat(L,'["').concat(Z,'"]'):"".concat(L,".").concat(Z),$+1,{key:Z,showComma:oe!==me.length-1,length:Te,type:se})}).reduce(function(Z,oe){return Z.concat(oe)},[]);return[F("{",L,$,{showComma:!1,key:ge,index:ve,length:Ie.length,type:"objectStart"})[0]].concat(et,F("}",L,$,{showComma:de,length:Ie.length,type:"objectEnd"})[0])}var Q=Object.entries({content:R,level:$,key:ge,index:ve,path:L,showComma:de,length:Te,type:se}).reduce(function(Z,oe){var me=x(oe,2),Me=me[0],we=me[1];return we!==void 0?X(X({},Z),{},P({},Me,we)):Z},{});return[Q]}function K(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(R);L&&(ue=ue.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ue)}return $}function J(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?K(Object($),!0).forEach(function(ue){P(R,ue,$[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):K(Object($)).forEach(function(ue){Object.defineProperty(R,ue,Object.getOwnPropertyDescriptor($,ue))})}return R}var Y={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},C=(0,y.defineComponent)({name:"TreeNode",props:J(J({},Y),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(R,L){var $=L.emit,ue=(0,y.computed)(function(){return V(R.node.content)}),fe=(0,y.computed)(function(){return"vjs-value vjs-value__".concat(ue.value)}),ge=(0,y.computed)(function(){return R.showDoubleQuotes?'"'.concat(R.node.key,'"'):R.node.key}),ve=(0,y.computed)(function(){return R.selectableType==="multiple"}),pe=(0,y.computed)(function(){return R.selectableType==="single"}),se=(0,y.computed)(function(){return R.pathSelectable(R.node.path,R.node.content)&&(ve.value||pe.value)}),le=function(de){var Ee=de+"";return ue.value==="string"&&(Ee='"'.concat(Ee,'"')),Ee};return{state:(0,y.reactive)({valueClass:fe,prettyKey:ge,isMultiple:ve,selectable:se}),defaultFormatter:le,customFormatter:function(de){return R.customValueFormatter?R.customValueFormatter(de,R.node.key,R.node.path,le(de)):le(de)},onBracketsClickHandler:function(){R.collapsedOnClickBrackets&&$("brackets-click",!R.collapsed,R.node.path)},onCheckedChange:function(){$("selected-change",R.node)},onNodeClick:function(){$("tree-node-click",R.node),se.value&&R.selectOnClickNode&&$("selected-change",R.node)}}},render:function(){var R=this.state,L=this.node,$=this.showSelectController,ue=this.highlightSelectedNode,fe=this.checked,ge=this.showLength,ve=this.collapsed,pe=this.showLine,se=this.customValueFormatter,le=this.defaultFormatter,de=this.customFormatter,Ee=this.onNodeClick,Te=this.onCheckedChange,De=this.onBracketsClickHandler;return(0,y.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":$,"is-highlight":ue&&fe},onClick:Ee},[$&&R.selectable&&L.type!=="objectEnd"&&L.type!=="arrayEnd"&&(0,y.createVNode)(N,{isMultiple:R.isMultiple,checked:fe,onChange:Te},null),Array.from(Array(L.level)).map(function(ke,Ie){return(0,y.createVNode)("div",{key:Ie,class:{"vjs-tree__indent":!0,"has-line":pe}},null)}),L.key&&(0,y.createVNode)("span",{class:"vjs-key"},["".concat(R.prettyKey,": ")]),(0,y.createVNode)("span",null,[L.type!=="content"?(0,y.createVNode)(k,{data:L.content,onClick:De},null):se?(0,y.createVNode)("span",{class:R.valueClass,innerHTML:de(L.content)},null):(0,y.createVNode)("span",{class:R.valueClass},[le(L.content)]),L.showComma&&(0,y.createVNode)("span",null,[","]),ge&&ve&&(0,y.createVNode)("span",{class:"vjs-comment"},[(0,y.createTextVNode)(" // "),L.length,(0,y.createTextVNode)(" items ")])])])}});function H(R,L){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(R);L&&(ue=ue.filter(function(fe){return Object.getOwnPropertyDescriptor(R,fe).enumerable})),$.push.apply($,ue)}return $}function A(R){for(var L=1;L<arguments.length;L++){var $=arguments[L]!=null?arguments[L]:{};L%2?H(Object($),!0).forEach(function(ue){P(R,ue,$[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):H(Object($)).forEach(function(ue){Object.defineProperty(R,ue,Object.getOwnPropertyDescriptor($,ue))})}return R}var B=(0,y.defineComponent)({name:"Tree",props:A(A({},Y),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(R,L){var $=L.emit,ue=(0,y.ref)(),fe=(0,y.reactive)({translateY:0,visibleData:null,hiddenPaths:F(R.data,R.path).reduce(function(le,de){var Ee=R.deepCollapseChildren?de.level>=R.deep:de.level===R.deep;return de.type!=="objectStart"&&de.type!=="arrayStart"||!Ee?le:A(A({},le),{},P({},de.path,1))},{})}),ge=(0,y.computed)(function(){var le=null;return F(R.data,R.path).reduce(function(de,Ee,Te){var De=A(A({},Ee),{},{id:Te}),ke=fe.hiddenPaths[De.path];if(le&&le.path===De.path){var Ie=le.type==="objectStart",et=A(A(A({},le),De),{},{content:Ie?"{...}":"[...]",type:Ie?"objectCollapsed":"arrayCollapsed"});return le=null,de.concat(et)}return ke&&!le?(le=De,de):le?de:de.concat(De)},[])}),ve=(0,y.computed)(function(){var le=R.modelValue;return le&&R.selectableType==="multiple"&&Array.isArray(le)?le:[le]}),pe=(0,y.computed)(function(){return!R.selectableType||R.selectOnClickNode||R.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),se=function(le){if(R.virtual){var de=ue.value,Ee=R.virtualLines,Te=de&&de.scrollTop||0,De=Math.floor(Te/R.itemHeight),ke=De<0?0:De+Ee>le.length?le.length-Ee:De;ke<0&&(ke=0);var Ie=ke+Ee;fe.translateY=ke*R.itemHeight,fe.visibleData=le.filter(function(et,Q){return Q>=ke&&Q<Ie})}else fe.visibleData=le};return(0,y.watchEffect)(function(){pe.value&&function(le){throw new Error("[VueJSONPretty] ".concat(le))}(pe.value)}),(0,y.watchEffect)(function(){ge.value&&se(ge.value)}),{tree:ue,state:fe,flatData:ge,selectedPaths:ve,onTreeScroll:function(){se(ge.value)},onSelectedChange:function(le){var de=le.path,Ee=R.selectableType;if(Ee==="multiple"){var Te=ve.value.findIndex(function(et){return et===de}),De=j(ve.value);Te!==-1?De.splice(Te,1):De.push(de),$("update:modelValue",De),$("change",De,j(ve.value))}else if(Ee==="single"&&ve.value[0]!==de){var ke=x(ve.value,1)[0],Ie=de;$("update:modelValue",Ie),$("change",Ie,ke)}},onTreeNodeClick:function(le){var de=le.content,Ee=le.path;$("click",Ee,de)},onBracketsClick:function(le,de){if(le)fe.hiddenPaths=A(A({},fe.hiddenPaths),{},P({},de,1));else{var Ee=A({},fe.hiddenPaths);delete Ee[de],fe.hiddenPaths=Ee}}}},render:function(){var R=this.virtual,L=this.itemHeight,$=this.customValueFormatter,ue=this.showDoubleQuotes,fe=this.showLength,ge=this.showLine,ve=this.showSelectController,pe=this.selectOnClickNode,se=this.pathSelectable,le=this.highlightSelectedNode,de=this.collapsedOnClickBrackets,Ee=this.state,Te=this.flatData,De=this.selectedPaths,ke=this.selectableType,Ie=this.onTreeNodeClick,et=this.onBracketsClick,Q=this.onSelectedChange,Z=this.onTreeScroll,oe=Ee.visibleData&&Ee.visibleData.map(function(me){return(0,y.createVNode)(C,{key:me.id,node:me,collapsed:!!Ee.hiddenPaths[me.path],"custom-value-formatter":$,"show-double-quotes":ue,"show-length":fe,"collapsed-on-click-brackets":de,checked:De.includes(me.path),"selectable-type":ke,"show-line":ge,"show-select-controller":ve,"select-on-click-node":pe,"path-selectable":se,"highlight-selected-node":le,onTreeNodeClick:Ie,onBracketsClick:et,onSelectedChange:Q},null)});return(0,y.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":R},onScroll:Z},[R?(0,y.createVNode)("div",{style:{height:"".concat(Te.length*L,"px")}},[(0,y.createVNode)("div",{style:{transform:"translateY(".concat(Ee.translateY,"px)")}},[oe])]):oe])}}),G=(0,y.defineComponent)(B)}(),s}()})})(tg);var J1=Ov(tg.exports);const Jc=Ua({props:{graphData:Object},setup(b){const h=b;return(c,p)=>(tr(),Qc(Rt(J1),{path:"res",deep:3,showLength:!0,data:h.graphData},null,8,["data"]))}}),Q1=Object.assign(qc,{install(b){b.component(qc.name,qc)}}),ew=Object.assign(Zc,{install(b){b.component(Zc.name,Zc)}}),tw=Object.assign(Jc,{install(b){b.component(Jc.name,Jc)}}),nw={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function rw(b){const{incoming:h,outgoing:c,properties:p,key:i}=b,{text:f,startPoint:s,endPoint:y,pointsList:_,logicFlowType:O}=p,x={id:i,type:O,sourceNodeId:h[0],targetNodeId:c[0],text:f,startPoint:s,endPoint:y,pointsList:_,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(b.properties).forEach(P=>{j.indexOf(P)===-1&&(x.properties[P]=b.properties[P])}),x}function ow(b){const{properties:h,key:c}=b,{x:p,y:i,text:f,logicFlowType:s}=h,y={id:c,type:s,x:p,y:i,text:f,properties:{}},_=["x","y","text","logicFlowType"];return Object.keys(b.properties).forEach(O=>{_.indexOf(O)===-1&&(y.properties[O]=b.properties[O])}),y}function iw(b){const h={nodes:[],edges:[]},c=b.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===nw.SEQUENCE_FLOW){const i=rw(p);h.edges.push(i)}else{const i=ow(p);h.nodes.push(i)}}),h}const aw=b=>(FO("data-v-65cf3767"),b=b(),HO(),b),uw={class:"card-header"},cw={class:"font-medium"},sw=kv("\u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684"),lw=kv("LogicFlow"),fw={class:"logic-flow-view"},pw=aw(()=>mr("div",{id:"LF-Turbo"},null,-1)),dw=Ua({setup(b){let h=ro(null),c=ro(null),p=ro(!1),i=ro({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),f=YO;function s(){Ia.use(v1),Ia.use(y1),Ia.use(P1);const O=new Ia(Wy(Yy({},Rt(i)),{container:document.querySelector("#LF-Turbo")}));h.value=O,Rt(h).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const O=iw(UO);h.value.render(O)}function _(){c.value=Rt(h).getGraphData(),p.value=!0}return wv(()=>{s()}),(O,x)=>{const j=Ei("el-link"),P=Ei("el-scrollbar"),k=Ei("el-dialog"),N=Ei("el-card");return tr(),Qc(N,null,{header:Do(()=>[mr("div",uw,[mr("span",cw,[sw,To(j,{href:"http://logic-flow.org/",target:"_blank",icon:Rt(XO)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Do(()=>[lw]),_:1},8,["icon"])])])]),default:Do(()=>[mr("div",fw,[Rt(h)?(tr(),Qc(Rt(Q1),{key:0,class:"demo-control",lf:Rt(h),catTurboData:!1,onCatData:_},null,8,["lf"])):Pv("",!0),To(Rt(ew),{lf:Rt(h),nodeList:Rt(f)},null,8,["lf","nodeList"]),pw,To(k,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:Rt(p),"onUpdate:modelValue":x[0]||(x[0]=I=>jv(p)?p.value=I:p=I),width:"50%"},{default:Do(()=>[To(P,null,{default:Do(()=>[To(Rt(tw),{graphData:Rt(c)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});var bw=os(dw,[["__scopeId","data-v-65cf3767"]]);export{bw as default};

import{M as d}from"./motion.a036cfe8.js";import{u as w,a as g}from"./verifyCode.ec263d9b.js";import{T as V}from"./index.4fddcf38.js";import{y as k,L as B,ac as U,I as i,o as A,D as h,S as u,H as l,C as e,q as R,J as p,G as P,cn as T}from"./index.4a448694.js";import{u as _}from"./hooks.8ead3459.js";const N={class:"w-full flex justify-between"},S=p(" \u6211\u5DF2\u4ED4\u7EC6\u9605\u8BFB\u5E76\u63A5\u53D7 "),z=p(" \u300A\u9690\u79C1\u653F\u7B56\u300B "),q=p(" \u786E\u5B9A "),G=p(" \u8FD4\u56DE "),L=k({setup(H){const c=B(!1),n=B(!1),t=U({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),C=B(),{isDisabled:v,text:y}=w(),F=[{validator:(f,o,s)=>{o===""?s(new Error("\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801")):t.password!==o?s(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!")):s()},trigger:"blur"}],E=async f=>{n.value=!0,f&&await f.validate((o,s)=>{if(o)c.value?setTimeout(()=>{V.success("\u6CE8\u518C\u6210\u529F"),n.value=!1},2e3):(n.value=!1,V.warning("\u8BF7\u52FE\u9009\u9690\u79C1\u653F\u7B56"));else return n.value=!1,s})};function x(){w().end(),T().SET_CURRENTPAGE(0)}return(f,o)=>{const s=i("el-input"),r=i("el-form-item"),m=i("el-button"),b=i("el-checkbox"),D=i("el-form");return A(),h(D,{ref_key:"ruleFormRef",ref:C,model:e(t),rules:e(g),size:"large"},{default:u(()=>[l(e(d),null,{default:u(()=>[l(r,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],prop:"username"},{default:u(()=>[l(s,{clearable:"",modelValue:e(t).username,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).username=a),placeholder:"\u8D26\u53F7","prefix-icon":e(_)("user")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:100},{default:u(()=>[l(r,{prop:"phone"},{default:u(()=>[l(s,{clearable:"",modelValue:e(t).phone,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).phone=a),placeholder:"\u624B\u673A\u53F7\u7801","prefix-icon":e(_)("iphone")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:150},{default:u(()=>[l(r,{prop:"verifyCode"},{default:u(()=>[R("div",N,[l(s,{clearable:"",modelValue:e(t).verifyCode,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).verifyCode=a),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801"},null,8,["modelValue"]),l(m,{disabled:e(v),class:"ml-2",onClick:o[3]||(o[3]=a=>e(w)().start(C.value,"phone"))},{default:u(()=>[p(P(e(y)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),l(e(d),{delay:200},{default:u(()=>[l(r,{prop:"password"},{default:u(()=>[l(s,{clearable:"","show-password":"",modelValue:e(t).password,"onUpdate:modelValue":o[4]||(o[4]=a=>e(t).password=a),placeholder:"\u5BC6\u7801","prefix-icon":e(_)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:250},{default:u(()=>[l(r,{rules:F,prop:"repeatPassword"},{default:u(()=>[l(s,{clearable:"","show-password":"",modelValue:e(t).repeatPassword,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).repeatPassword=a),placeholder:"\u786E\u8BA4\u5BC6\u7801","prefix-icon":e(_)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(e(d),{delay:300},{default:u(()=>[l(r,null,{default:u(()=>[l(b,{modelValue:c.value,"onUpdate:modelValue":o[6]||(o[6]=a=>c.value=a)},{default:u(()=>[S]),_:1},8,["modelValue"]),l(m,{type:"text"},{default:u(()=>[z]),_:1})]),_:1})]),_:1}),l(e(d),{delay:350},{default:u(()=>[l(r,null,{default:u(()=>[l(m,{class:"w-full",size:"default",type:"primary",loading:n.value,onClick:o[7]||(o[7]=a=>E(C.value))},{default:u(()=>[q]),_:1},8,["loading"])]),_:1})]),_:1}),l(e(d),{delay:400},{default:u(()=>[l(r,null,{default:u(()=>[l(m,{class:"w-full",size:"default",onClick:x},{default:u(()=>[G]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{L as default};

import{M as d}from"./motion.a036cfe8.js";import{u as c,a as F}from"./verifyCode.ec263d9b.js";import{T as b}from"./index.4fddcf38.js";import{y as k,L as C,ac as g,I as p,o as D,D as R,S as u,H as o,C as e,q as U,J as w,G as A,cn as P}from"./index.4a448694.js";import{u as _}from"./hooks.8ead3459.js";const T={class:"w-full flex justify-between"},h=w(" \u786E\u5B9A "),N=w(" \u8FD4\u56DE "),$=k({setup(S){const n=C(!1),a=g({phone:"",verifyCode:"",password:"",repeatPassword:""}),f=C(),{isDisabled:y,text:v}=c(),B=[{validator:(i,l,s)=>{l===""?s(new Error("\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801")):a.password!==l?s(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!")):s()},trigger:"blur"}],V=async i=>{n.value=!0,i&&await i.validate((l,s)=>{if(l)setTimeout(()=>{b.success("\u4FEE\u6539\u5BC6\u7801\u6210\u529F"),n.value=!1},2e3);else return n.value=!1,s})};function E(){c().end(),P().SET_CURRENTPAGE(0)}return(i,l)=>{const s=p("el-input"),t=p("el-form-item"),m=p("el-button"),x=p("el-form");return D(),R(x,{ref_key:"ruleFormRef",ref:f,model:e(a),rules:e(F),size:"large"},{default:u(()=>[o(e(d),null,{default:u(()=>[o(t,{prop:"phone"},{default:u(()=>[o(s,{clearable:"",modelValue:e(a).phone,"onUpdate:modelValue":l[0]||(l[0]=r=>e(a).phone=r),placeholder:"\u624B\u673A\u53F7\u7801","prefix-icon":e(_)("iphone")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(d),{delay:100},{default:u(()=>[o(t,{prop:"verifyCode"},{default:u(()=>[U("div",T,[o(s,{clearable:"",modelValue:e(a).verifyCode,"onUpdate:modelValue":l[1]||(l[1]=r=>e(a).verifyCode=r),placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801"},null,8,["modelValue"]),o(m,{disabled:e(y),class:"ml-2",onClick:l[2]||(l[2]=r=>e(c)().start(f.value,"phone"))},{default:u(()=>[w(A(e(v)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(e(d),{delay:150},{default:u(()=>[o(t,{prop:"password"},{default:u(()=>[o(s,{clearable:"","show-password":"",modelValue:e(a).password,"onUpdate:modelValue":l[3]||(l[3]=r=>e(a).password=r),placeholder:"\u5BC6\u7801","prefix-icon":e(_)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(d),{delay:200},{default:u(()=>[o(t,{rules:B,prop:"repeatPassword"},{default:u(()=>[o(s,{clearable:"","show-password":"",modelValue:e(a).repeatPassword,"onUpdate:modelValue":l[4]||(l[4]=r=>e(a).repeatPassword=r),placeholder:"\u786E\u8BA4\u5BC6\u7801","prefix-icon":e(_)("lock")},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),o(e(d),{delay:250},{default:u(()=>[o(t,null,{default:u(()=>[o(m,{class:"w-full",size:"default",type:"primary",loading:n.value,onClick:l[5]||(l[5]=r=>V(f.value))},{default:u(()=>[h]),_:1},8,["loading"])]),_:1})]),_:1}),o(e(d),{delay:300},{default:u(()=>[o(t,null,{default:u(()=>[o(m,{class:"w-full",size:"default",onClick:E},{default:u(()=>[N]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{$ as default};
